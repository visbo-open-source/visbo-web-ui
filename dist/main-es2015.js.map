{"version":3,"sources":["./node_modules/moment/locale sync ^\\.\\/.*$","./src/app/_directives/alert.component.html","./src/app/app.component.html","./src/app/dashboard/dashboard.component.html","./src/app/google-chart/bubble-chart/bubble-chart.component.html","./src/app/google-chart/column-chart/column-chart.component.html","./src/app/google-chart/line-chart/line-chart.component.html","./src/app/google-chart/pie-chart/pie-chart.component.html","./src/app/google-chart/scatter-chart/scatter-chart.component.html","./src/app/google-chart/table-chart/table-chart.component.html","./src/app/login/login.component.html","./src/app/logouttimer/logouttimer.component.html","./src/app/messages/messages.component.html","./src/app/navbar/navbar.component.html","./src/app/pwforgotten/pwforgotten.component.html","./src/app/pwreset/pwreset.component.html","./src/app/register/register.component.html","./src/app/registerconfirm/registerconfirm.component.html","./src/app/settings/settings.component.html","./src/app/sysaudit/sysaudit.component.html","./src/app/sysconfig/sysconfig.component.html","./src/app/syslog/syslog.component.html","./src/app/sysnavbar/sysnavbar.component.html","./src/app/systasks/systasks.component.html","./src/app/sysuser/sysuser.component.html","./src/app/sysvisbocenter-detail/sysvisbocenter-detail.component.html","./src/app/sysvisbocenters/sysvisbocenters.component.html","./src/app/sysvisboproject-detail/sysvisboproject-detail.component.html","./src/app/sysvisboprojects/sysvisboprojects.component.html","./src/app/sysvisbosystem/sysvisbosystem.component.html","./src/app/userprofile/userprofile.component.html","./src/app/visbocenter-audit/visbocenter-audit.component.html","./src/app/visbocenter-detail/visbocenter-detail.component.html","./src/app/visbocenters/visbocenters.component.html","./src/app/visboportfolio-versions/visboportfolio-versions.component.html","./src/app/visboproject-audit/visboproject-audit.component.html","./src/app/visboproject-detail/visboproject-detail.component.html","./src/app/visboproject-keymetrics/visboproject-keymetrics.component.html","./src/app/visboproject-viewcost/visboproject-viewcost.component.html","./src/app/visboprojects/visboprojects.component.html","./src/app/visboprojectversion-detail/visboprojectversion-detail.component.html","./src/app/visboprojectversions/visboprojectversions.component.html","./node_modules/tslib/tslib.es6.js","./src/$_lazy_route_resource lazy namespace object","./src/app/_directives/alert.component.ts","./src/app/_guards/auth.guard.ts","./src/app/_helpers/env.service.provider.ts","./src/app/_helpers/jwt.interceptor.ts","./src/app/_models/login.ts","./src/app/_models/visboaudit.ts","./src/app/_models/visbogroup.ts","./src/app/_models/visboproject.ts","./src/app/_models/visboprojectversion.ts","./src/app/_services/alert.service.ts","./src/app/_services/authentication.service.ts","./src/app/_services/env.service.ts","./src/app/_services/message.service.ts","./src/app/_services/syslog.service.ts","./src/app/_services/sysuser.service.ts","./src/app/_services/user.service.ts","./src/app/_services/visboaudit.service.ts","./src/app/_services/visbocenter.service.ts","./src/app/_services/visboproject.service.ts","./src/app/_services/visboprojectversion.service.ts","./src/app/_services/visbosetting.service.ts","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/dashboard/dashboard.component.css","./src/app/dashboard/dashboard.component.ts","./src/app/google-chart/bubble-chart/bubble-chart.component.css","./src/app/google-chart/bubble-chart/bubble-chart.component.ts","./src/app/google-chart/column-chart/column-chart.component.css","./src/app/google-chart/column-chart/column-chart.component.ts","./src/app/google-chart/google-chart.module.ts","./src/app/google-chart/line-chart/line-chart.component.css","./src/app/google-chart/line-chart/line-chart.component.ts","./src/app/google-chart/pie-chart/pie-chart.component.css","./src/app/google-chart/pie-chart/pie-chart.component.ts","./src/app/google-chart/scatter-chart/scatter-chart.component.css","./src/app/google-chart/scatter-chart/scatter-chart.component.ts","./src/app/google-chart/service/google-chart.service.ts","./src/app/google-chart/service/service.module.ts","./src/app/google-chart/table-chart/table-chart.component.css","./src/app/google-chart/table-chart/table-chart.component.ts","./src/app/login/login.component.ts","./src/app/logouttimer/logouttimer.component.css","./src/app/logouttimer/logouttimer.component.ts","./src/app/messages/messages.component.css","./src/app/messages/messages.component.ts","./src/app/navbar/navbar.component.css","./src/app/navbar/navbar.component.ts","./src/app/pwforgotten/pwforgotten.component.css","./src/app/pwforgotten/pwforgotten.component.ts","./src/app/pwreset/pwreset.component.css","./src/app/pwreset/pwreset.component.ts","./src/app/register/register.component.css","./src/app/register/register.component.ts","./src/app/registerconfirm/registerconfirm.component.css","./src/app/registerconfirm/registerconfirm.component.ts","./src/app/settings/settings.component.ts","./src/app/sysaudit/sysaudit.component.css","./src/app/sysaudit/sysaudit.component.ts","./src/app/sysconfig/sysconfig.component.css","./src/app/sysconfig/sysconfig.component.ts","./src/app/syslog/syslog.component.ts","./src/app/sysnavbar/sysnavbar.component.css","./src/app/sysnavbar/sysnavbar.component.ts","./src/app/systasks/systasks.component.css","./src/app/systasks/systasks.component.ts","./src/app/sysuser/sysuser.component.css","./src/app/sysuser/sysuser.component.ts","./src/app/sysvisbocenter-detail/sysvisbocenter-detail.component.css","./src/app/sysvisbocenter-detail/sysvisbocenter-detail.component.ts","./src/app/sysvisbocenters/sysvisbocenters.component.ts","./src/app/sysvisboproject-detail/sysvisboproject-detail.component.css","./src/app/sysvisboproject-detail/sysvisboproject-detail.component.ts","./src/app/sysvisboprojects/sysvisboprojects.component.ts","./src/app/sysvisbosystem/sysvisbosystem.component.css","./src/app/sysvisbosystem/sysvisbosystem.component.ts","./src/app/userprofile/userprofile.component.ts","./src/app/visbocenter-audit/visbocenter-audit.component.css","./src/app/visbocenter-audit/visbocenter-audit.component.ts","./src/app/visbocenter-detail/visbocenter-detail.component.css","./src/app/visbocenter-detail/visbocenter-detail.component.ts","./src/app/visbocenters/visbocenters.component.ts","./src/app/visboportfolio-versions/visboportfolio-versions.component.ts","./src/app/visboproject-audit/visboproject-audit.component.css","./src/app/visboproject-audit/visboproject-audit.component.ts","./src/app/visboproject-detail/visboproject-detail.component.css","./src/app/visboproject-detail/visboproject-detail.component.ts","./src/app/visboproject-keymetrics/visboproject-keymetrics.component.ts","./src/app/visboproject-viewcost/visboproject-viewcost.component.ts","./src/app/visboprojects/visboprojects.component.ts","./src/app/visboprojectversion-detail/visboprojectversion-detail.component.ts","./src/app/visboprojectversions/visboprojectversions.component.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"main-es2015.js","sourcesContent":["var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-SG\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-SG.js\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","export default \"<div *ngIf=\\\"message\\\" [ngClass]=\\\"{\\n    'alert': message,\\n    'alert-success': message.type === 'success',\\n    'alert-danger': message.type === 'error'\\n  }\\\">{{message.text}}\\n</div>\\n<!-- <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\">&times;</button> -->\\n<!-- 'alert-dismissible' -->\\n\"","export default \"<div class=\\\"jumbotron\\\" style=\\\"background-color: #ffffff;\\\">\\n  <div class=\\\"ml-3 mt-3\\\" style=\\\"float: right\\\">\\n    <img src=\\\"assets/visbologo.svg\\\">\\n  </div>\\n  <!-- <h2>{{title}}</h2> -->\\n  <div class=\\\"wrapper\\\">\\n    <div class=\\\"container-fluid\\\">\\n        <alert></alert>\\n        <router-outlet></router-outlet>\\n    </div>\\n</div>\\n<div class=\\\"col-12 bg-light text-dark\\\">\\n  Copyright 2019  <a href=\\\"https://visbo.de/\\\" class=\\\"text-secondary\\\">Visbo GmbH</a>,\\n  <a data-toggle=\\\"modal\\\" data-target=\\\"#versionModal\\\" >Visbo Visual Board {{version}}</a>\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col\\\">\\n      <a href=\\\"mailto:support@visbo.de\\\" >Support</a>\\n    </div>\\n    <div class=\\\"col\\\">\\n      <a href=\\\"https://visbo.de/impressum\\\" target=\\\"_blank\\\">Impressum</a>\\n    </div>\\n    <div class=\\\"col\\\">\\n      <a href=\\\"https://visbo.de/visbo-terms-conditions\\\" target=\\\"_blank\\\">Terms of Use</a>\\n    </div>\\n    <div class=\\\"col\\\">\\n      <a href=\\\"https://visbo.de/visbo-data-protection/\\\" target=\\\"_blank\\\">Data Protection</a>\\n    </div>\\n  </div>\\n</div>\\n<app-logouttimer></app-logouttimer>\\n<app-messages></app-messages>\\n\\n<!-- Modal Version Info -->\\n<div class=\\\"modal fade\\\" id=\\\"versionModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"versionModalTitle\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"versionModalTitle\\\">Version Info</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <div class=\\\"form-group row\\\">\\n          <label for=\\\"restServer\\\" class=\\\"col-4 col-form-label\\\">Server Version:</label>\\n          <label class=\\\"col-8 form-control-static\\\">{{ restVersionString }} </label>\\n        </div>\\n        <div class=\\\"form-group row\\\">\\n          <label for=\\\"restUIServer\\\" class=\\\"col-4 col-form-label\\\">UI Version:</label>\\n          <label class=\\\"col-8 form-control-static\\\">{{ restUIVersionString }} </label>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<div class='well'>\\n  <visbo-navbar></visbo-navbar>\\n  <div class='panel-heading'>\\n    <h2>Top Visbo Centers</h2>\\n  </div>\\n</div>\\n<div class=\\\"container-fluit\\\" >\\n  <div class=\\\"col-12\\\">\\n  \\t<div class=\\\"row\\\">\\n  \\t\\t<div class=\\\"card-group col-sm-8 col-md-6 col-lg-4 mb-2\\\" *ngFor=\\\"let vc of visbocenters\\\">\\n        <div class=\\\"card\\\" style=\\\"width: 18rem;\\\">\\n          <div class=\\\"card-body d-flex flex-column\\\">\\n            <h3 class=\\\"card-title\\\" (click)=\\\"gotoClickedVc(vc)\\\">{{vc.name}}</h3>\\n            <h6 class=\\\"card-subtitle mb-2 text-muted\\\">{{vc.updatedAt | date :'dd.MM.yyyy HH:mm'}}</h6>\\n            <p class=\\\"card-text\\\">{{vc.description}}</p>\\n            <!-- <p class=\\\"card-subtitle\\\">{{vc.users.length}} Users</p> -->\\n            <div class=\\\"align-self-bottom\\\" style=\\\"margin-top: auto;\\\">\\n              <button type=\\\"button\\\" class=\\\"mx-1 btn btn-primary\\\" (click)=\\\"gotoClickedVc(vc)\\\">{{vc.vpCount}} Projects</button>\\n              <button type=\\\"button\\\" class=\\\"mx-1 btn btn-secondary\\\" (click)=\\\"gotoClickedVcDetail(vc)\\\">Detail</button>\\n            </div>\\n          </div> <!-- end of card-body -->\\n        </div> <!-- end of card -->\\n      </div> <!-- end of col -->\\n    </div> <!-- end of row -->\\n  </div>\\n</div>\\n<div class='well'>\\n  <div class='panel-heading'>\\n      <h2>Top Visbo Projects</h2>\\n  </div>\\n</div>\\n<div class=\\\"container-fluit\\\" >\\n  <div class=\\\"col-12\\\">\\n  \\t<div class=\\\"row\\\">\\n  \\t\\t<div class=\\\"card-group col-sm-8 col-md-6 col-lg-4 mb-2\\\" *ngFor=\\\"let vp of visboprojects\\\">\\n        <div class=\\\"card\\\" style=\\\"width: 18rem;\\\">\\n          <div class=\\\"card-body d-flex flex-column\\\">\\n            <h3 class=\\\"card-title\\\" (click)=\\\"gotoClickedVp(vp)\\\">{{vp.name}}</h3>\\n            <h6 class=\\\"card-subtitle mb-2 text-muted\\\">{{vp.updatedAt | date :'dd.MM.yyyy HH:mm'}}</h6>\\n            <p class=\\\"card-text\\\">{{vp.description}}</p>\\n            <!-- <p class=\\\"card-subtitle\\\">{{vp.users.length}} Users</p> -->\\n            <div class=\\\"align-self-bottom\\\" style=\\\"margin-top: auto;\\\">\\n              <button type=\\\"button\\\" class=\\\"mx-1 btn btn-primary\\\" (click)=\\\"gotoClickedVp(vp)\\\">{{vp.vpvCount}} Versions</button>\\n              <button type=\\\"button\\\" class=\\\"mx-1 btn btn-secondary\\\" (click)=\\\"gotoClickedVpDetail(vp)\\\">Detail</button>\\n            </div>\\n          </div> <!-- end of card-body -->\\n        </div> <!-- end of card -->\\n      </div> <!-- end of col -->\\n    </div> <!-- end of row -->\\n  </div>\\n</div>\\n\"","export default \"<div id=\\\"divBubbleChart\\\">\\n</div>\\n\"","export default \"<div id=\\\"divColumnChart\\\">\\n</div>\\n\"","export default \"<div id=\\\"divLineChart\\\">\\n</div>\"","export default \"<div id=\\\"divPieChart\\\">\\n</div>\\n\"","export default \"<div id=\\\"divScatterChart\\\">\\n</div>\\n\"","export default \"<div id=\\\"divTableChart\\\">\\n</div>\"","export default \"<div class=\\\"col-md-6 col-md-offset-3\\\">\\n  <h2>Login to the Visbo System</h2>\\n  <form name=\\\"form\\\" (ngSubmit)=\\\"f.form.valid && login()\\\" #f=\\\"ngForm\\\" novalidate>\\n      <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !username.valid }\\\">\\n          <label for=\\\"username\\\">User E-Mail</label>\\n          <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"username\\\" [(ngModel)]=\\\"model.username\\\" #username=\\\"ngModel\\\" required pattern=\\\"[^@\\\\s]+@[^@\\\\s]+\\\\.[^@\\\\s]+\\\" />\\n          <div *ngIf=\\\"f.submitted && !username.valid\\\" class=\\\"help-block\\\">Correct e-mail address is required</div>\\n      </div>\\n      <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !password.valid }\\\">\\n          <label for=\\\"password\\\">Password</label>\\n          <input type=\\\"password\\\" class=\\\"form-control\\\" name=\\\"password\\\" [(ngModel)]=\\\"model.password\\\" #password=\\\"ngModel\\\" required/>\\n          <div *ngIf=\\\"f.submitted && !password.valid\\\" class=\\\"help-block\\\">Password is required</div>\\n      </div>\\n      <div class=\\\"form-group\\\">\\n          <button [disabled]=\\\"loading\\\" class=\\\"btn btn-primary\\\">Login</button>\\n          <img *ngIf=\\\"loading\\\" src=\\\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\\\" />\\n      </div>\\n  </form>\\n  <div>\\n    <button (click)=\\\"register()\\\" class=\\\"btn btn-link\\\">Register</button>\\n    <button (click)=\\\"pwforgotten()\\\" class=\\\"btn btn-link\\\">Password forgotten</button>\\n  </div>\\n</div>\\n\"","export default \"\\n<div *ngIf=\\\"logoutTimer\\\">\\n</div>\\n\"","export default \"\\n<div *ngIf=\\\"activateMessage\\\">\\n  <h2>Messages</h2>\\n  <button class=\\\"clear\\\"\\n          (click)=\\\"messageService.clear()\\\">clear</button>\\n  <div *ngFor='let message of messageService.messages'> {{message}} </div>\\n</div>\\n\"","export default \"<nav class=\\\"navbar navbar-expand-md navbar-white bg-light sticky-top\\\">\\n  <a class=\\\"navbar-brand bg-light \\\" (click)=\\\"gotoClickedItem('dashboard')\\\">Visbo</a>\\n  <button class=\\\"navbar-toggler\\\" type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#navbarMainNavigation\\\" aria-controls=\\\"navbarMainNavigation\\\" aria-expanded=\\\"false\\\" aria-label=\\\"Toggle navigation\\\">\\n    <i class=\\\"fas fa-bars\\\"></i>\\n  </button>\\n  <div class=\\\"collapse navbar-collapse\\\" id=\\\"navbarMainNavigation\\\">\\n    <ul class=\\\"navbar-nav mr-auto\\\">\\n      <!-- <li class=\\\"nav-item active\\\">\\n        <a class=\\\"nav-link\\\" (click)=\\\"gotoClickedItem('dashboard')\\\">Home <span class=\\\"sr-only\\\">(current)</span></a>\\n      </li> -->\\n      <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link bg-light \\\" (click)=\\\"gotoClickedItem('vc')\\\">Visbo Center</a>\\n      </li>\\n      <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link bg-light \\\" (click)=\\\"gotoClickedItem('vp')\\\">Visbo Projects</a>\\n      </li>\\n      <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link bg-light \\\"  (click)=\\\"gotoClickedItem('profile')\\\">Profile</a>\\n      </li>\\n      <li *ngIf=\\\"hasSystemPerm(permSystem.View)\\\" class=\\\"nav-item dropdown\\\">\\n        <a class=\\\"nav-link dropdown-toggle bg-light \\\" href=\\\"#\\\" id=\\\"navbarDropdown\\\" role=\\\"button\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">\\n          Others\\n        </a>\\n        <div class=\\\"dropdown-menu\\\" aria-labelledby=\\\"navbarDropdown\\\">\\n          <a class=\\\"dropdown-item\\\"  (click)=\\\"gotoClickedItem('settings')\\\">Settings</a>\\n          <!-- <div class=\\\"dropdown-divider\\\"></div> -->\\n          <a class=\\\"dropdown-item\\\" (click)=\\\"gotoClickedItem('sysadmins')\\\">App Admin</a>\\n        </div>\\n      </li>\\n      <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link bg-light  align-right\\\"  (click)=\\\"gotoClickedItem('login')\\\">Logout</a>\\n      </li>\\n    </ul>\\n  </div>\\n</nav>\\n\"","export default \"<div class=\\\"col-md-6 col-md-offset-3\\\">\\n    <h2>Password Forgotten</h2>\\n    <form name=\\\"form\\\" (ngSubmit)=\\\"f.form.valid && pwforgotten()\\\" #f=\\\"ngForm\\\" novalidate>\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !username.valid }\\\">\\n            <label for=\\\"username\\\">e-mail</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"username\\\" [(ngModel)]=\\\"model.username\\\" #username=\\\"ngModel\\\" required />\\n            <div *ngIf=\\\"f.submitted && !username.valid\\\" class=\\\"help-block\\\">Username is required</div>\\n        </div>\\n\\n        <div class=\\\"form-group\\\">\\n            <button [disabled]=\\\"loading\\\" class=\\\"btn btn-primary\\\">Reset Password</button>\\n            <img *ngIf=\\\"loading\\\" src=\\\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\\\" />\\n            <a [routerLink]=\\\"['/login']\\\" class=\\\"btn btn-link\\\">Cancel</a>\\n        </div>\\n    </form>\\n</div>\\n\"","export default \"<div class=\\\"col-md-6 col-md-offset-3\\\">\\n    <h2>Password Reset</h2>\\n    <form name=\\\"form\\\" (ngSubmit)=\\\"f.form.valid && pwreset()\\\" #f=\\\"ngForm\\\" novalidate>\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !password.valid }\\\">\\n            <label for=\\\"password\\\" data-toggle=\\\"tooltip\\\" data-placement=\\\"top\\\" data-delay='50'\\n              title=\\\"Password Rule: At least one alpha, one capital, one number and one special character and a length of minimum 8.\\\">\\n              New Password (*)\\n            </label>\\n            <input type=\\\"password\\\" class=\\\"form-control\\\" name=\\\"password\\\" [(ngModel)]=\\\"model.password\\\" #password=\\\"ngModel\\\" required autocomplete=\\\"off\\\" pattern= {{PWPolicy}} >\\n            <div *ngIf=\\\"!password.valid\\\" class=\\\"help-block\\\">New password has to follow the Policy.</div>\\n            <div *ngIf=\\\"!password.valid\\\" class=\\\"help-block\\\">Password Rule: At least one alpha, one capital, one number and one special character and a length of minimum 8.</div>\\n        </div>\\n\\n        <div class=\\\"form-group\\\">\\n            <button [disabled]=\\\"loading\\\" class=\\\"btn btn-primary\\\">Reset Password</button>\\n            <img *ngIf=\\\"loading\\\" src=\\\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\\\" />\\n            <a [routerLink]=\\\"['/login']\\\" class=\\\"btn btn-link\\\">Cancel</a>\\n        </div>\\n    </form>\\n</div>\\n\"","export default \"<div class=\\\"col-md-6 col-md-offset-3\\\">\\n    <h2>Register</h2>\\n    <form name=\\\"form\\\" (ngSubmit)=\\\"f.form.valid && register()\\\" #f=\\\"ngForm\\\" novalidate>\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !firstName.valid }\\\">\\n            <label for=\\\"firstName\\\">First Name</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"firstName\\\" [(ngModel)]=\\\"model.firstName\\\" #firstName=\\\"ngModel\\\" required autocomplete=\\\"on\\\">\\n            <div *ngIf=\\\"f.submitted && !firstName.valid\\\" class=\\\"help-block\\\">First Name is required</div>\\n        </div>\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !lastName.valid }\\\">\\n            <label for=\\\"lastName\\\">Last Name</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"lastName\\\" [(ngModel)]=\\\"model.lastName\\\" #lastName=\\\"ngModel\\\" required autocomplete=\\\"on\\\">\\n            <div *ngIf=\\\"f.submitted && !lastName.valid\\\" class=\\\"help-block\\\">Last Name is required</div>\\n        </div>\\n        <div class=\\\"form-group\\\">\\n            <label for=\\\"company\\\">Company</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"company\\\" [(ngModel)]=\\\"model.company\\\" #company=\\\"ngModel\\\" required autocomplete=\\\"on\\\">\\n            <div *ngIf=\\\"f.submitted && !company.valid\\\" class=\\\"help-block\\\">Company Name is required</div>\\n        </div>\\n        <div class=\\\"form-group\\\">\\n            <label for=\\\"phone\\\">Phone</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"phone\\\" [(ngModel)]=\\\"model.phone\\\" #phone=\\\"ngModel\\\">\\n        </div>\\n        <div *ngIf=\\\"!userRegister\\\">\\n          <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !username.valid }\\\">\\n            <label for=\\\"username\\\">e-mail</label>\\n            <input type=\\\"email\\\" class=\\\"form-control\\\" name=\\\"username\\\" [(ngModel)]=\\\"model.username\\\" #username=\\\"ngModel\\\" required pattern=\\\"[^@\\\\s]+@[^@\\\\s]+\\\\.[^@\\\\s]+\\\" required autocomplete=\\\"on\\\">\\n            <div *ngIf=\\\"f.submitted && !username.valid\\\" class=\\\"help-block\\\">Correct e-mail address is required</div>\\n          </div>\\n        </div>\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !password.valid }\\\">\\n            <label for=\\\"password-new\\\" data-toggle=\\\"tooltip\\\" data-placement=\\\"top\\\" data-delay='50'\\n              title=\\\"Password Rule: {{PWPolicyDescription}}\\\">\\n              Password (*)\\n            </label>\\n            <input type=\\\"password\\\" class=\\\"form-control\\\" name=\\\"password-new\\\" [(ngModel)]=\\\"model.password\\\" #password=\\\"ngModel\\\" required autocomplete=\\\"off\\\" pattern= {{PWPolicy}} >\\n            <div *ngIf=\\\"!password.valid\\\" class=\\\"help-block\\\">New password has to follow the Policy.</div>\\n            <div *ngIf=\\\"!password.valid && PWPolicyDescription\\\" class=\\\"help-block\\\">{{PWPolicyDescription}}</div>\\n        </div>\\n        <form name=\\\"legal\\\" #fLegal=\\\"ngForm\\\" novalidate>\\n          <div>Terms of Use & Data Protection</div>\\n          <div class=\\\"custom-control custom-checkbox\\\">\\n              <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"IDcheckTOU\\\" name=\\\"checkTOU\\\" [(ngModel)]=\\\"model.checkTOU\\\" #checkTOU=\\\"ngModel\\\" required>\\n              <label class=\\\"custom-control-label\\\" for=\\\"IDcheckTOU\\\">Accept Terms of Use: </label>\\n              <a href=\\\"https://visbo.de/visbo-terms-conditions\\\" target=\\\"_blank\\\">Terms of Use</a>\\n          </div>\\n          <div class=\\\"custom-control custom-checkbox\\\">\\n              <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"IDcheckDP\\\" name=\\\"checkDP\\\" [(ngModel)]=\\\"model.checkDP\\\" #checkDP=\\\"ngModel\\\" required>\\n              <label class=\\\"custom-control-label\\\" for=\\\"IDcheckDP\\\">Accept Data Protection: </label>\\n              <a href=\\\"https://visbo.de/visbo-data-protection\\\" target=\\\"_blank\\\">Data Protection</a>\\n          </div>\\n        </form>\\n        <div class=\\\"form-group\\\">\\n          <button [disabled]=!fLegal.form.valid type=\\\"submit\\\" class=\\\"btn btn-primary\\\">Register</button>\\n          <img *ngIf=\\\"loading\\\" src=\\\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\\\" />\\n          <a [routerLink]=\\\"['/login']\\\" class=\\\"btn btn-link\\\">Cancel</a>\\n        </div>\\n    </form>\\n</div>\\n\"","export default \"<div class=\\\"col-md-6 col-md-offset-3\\\">\\n  <h2>e-mail Confirmation</h2>\\n  <form name=\\\"form\\\" #f=\\\"ngForm\\\" novalidate>\\n    <p>\\n      This is an inbetween page without specific content, you should get redirected to login.\\n      If not please use the button below.\\n    </p>\\n    <div class=\\\"form-group\\\">\\n        <a [routerLink]=\\\"['/login']\\\" class=\\\"btn btn-link\\\">Cancel</a>\\n    </div>\\n  </form>\\n</div>\\n\"","export default \"<visbo-navbar></visbo-navbar>\\n<div>\\n  <a>Display Debug Messages: {{activateMessage}} </a>\\n  <button type=\\\"button\\\" class=\\\"btn btn-sm btn-primary align-self-start\\\" (click)='toggleMessages()'>\\n    Toggle Messages\\n  </button>\\n</div>\\n\"","export default \"<sysvisbo-navbar></sysvisbo-navbar>\\n<div class='well'>\\n  <div class=\\\"container-fluid\\\">\\n    <div class='row'>\\n      <div class='col'>\\n        <h2 class='panel-heading'>\\n          Visbo System Audit\\n        </h2>\\n      </div>\\n    </div>\\n  </div>\\n  <form name=\\\"form\\\" (ngSubmit)=\\\"getVisboAudits()\\\" #f=\\\"ngForm\\\" novalidate>\\n    <div class=\\\"form-group row\\\">\\n      <label for=\\\"auditFrom\\\" class=\\\"col-1 col-form-label\\\">From:</label>\\n      <input id=\\\"auditFrom\\\" type=\\\"date\\\" class=\\\"col-2 col-sm-4 form-control\\\" name=\\\"auditFrom\\\" [(ngModel)]=\\\"auditFrom\\\">\\n      <label for=\\\"auditTo\\\" class=\\\"col-1 col-form-label\\\">To:</label>\\n      <input id=\\\"auditTo\\\" type=\\\"date\\\" class=\\\"col-2 col-sm-4 form-control\\\" name=\\\"auditTo\\\" [(ngModel)]=\\\"auditTo\\\" >\\n    </div>\\n    <div class=\\\"form-group row\\\">\\n      <label for=\\\"auditText\\\" class=\\\"col-1 col-form-label\\\">Filter:</label>\\n      <input id=\\\"auditText\\\" type=\\\"text\\\" class=\\\"col-2 col-sm-3 form-control\\\" name=\\\"auditText\\\" [(ngModel)]=\\\"auditText\\\" >\\n\\n      <label for=\\\"auditCount\\\" class=\\\"col-1 col-form-label\\\">Max:</label>\\n      <select class=\\\"col-1 form-control mx-1\\\" name=\\\"auditCount\\\" [(ngModel)]=\\\"auditCount\\\">\\n        <option>50</option>\\n        <option>100</option>\\n        <option>500</option>\\n        <option>2000</option>\\n      </select>\\n\\n      <!-- <label for=\\\"auditArea\\\" class=\\\"col-1 col-form-label\\\">Area:</label> -->\\n      <select class=\\\"col-1 form-control mx-1\\\" id=\\\"auditType\\\" name=\\\"auditArea\\\" [(ngModel)]=\\\"auditArea\\\">\\n        <option *ngFor=\\\"let actionItem of auditAreaList\\\">{{actionItem.name}}</option>\\n      </select>\\n      <!-- <label for=\\\"auditArea\\\" class=\\\"col-form-label\\\">Action:</label> -->\\n      <select class=\\\"col-1 form-control mx-1\\\" id=\\\"auditType\\\" name=\\\"actiontype\\\" [(ngModel)]=\\\"auditType\\\">\\n        <option *ngFor=\\\"let actionItem of auditTypeList\\\">{{actionItem.name}}</option>\\n      </select>\\n      <div class='btn-group '>\\n        <button type=\\\"button\\\" class=\\\"btn btn-sm btn-primary ml-auto mx-1\\\" (click)=\\\"getVisboAudits()\\\">Filter</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-sm btn-secondary ml-auto mx-1\\\" (click)=\\\"downloadVisboAudit()\\\">Download</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-sm btn-secondary ml-auto mx-1\\\" (click)=\\\"switchChart()\\\">{{chartButton}}</button>\\n      </div>\\n    </div>\\n  </form>\\n  <div *ngIf=\\\"chart\\\" class='container-fluid'>\\n    <h3 class='panel-heading'>\\n      Visbo Chart\\n      <div class=\\\"col\\\">\\n        <app-pie-chart [graphData]=\\\"graphData\\\" [graphLegend]=\\\"graphLegend\\\" [graphOptions]=\\\"graphOptions\\\" [parentThis]=\\\"parentThis\\\"></app-pie-chart>\\n      </div>\\n      <div class=\\\"col\\\">\\n        <app-line-chart [graphData]=\\\"graphDataLineChart\\\" [graphOptions]=\\\"graphOptionsLineChart\\\"></app-line-chart>\\n      </div>\\n      <div class=\\\"col\\\">\\n        <app-column-chart [graphData]=\\\"graphDataColumnChart\\\" [graphOptions]=\\\"graphOptionsColumnChart\\\"></app-column-chart>\\n      </div>\\n    </h3>\\n  </div>\\n  <div *ngIf=\\\"!chart\\\" class='container-fluid'>\\n    <div class='panel-body'>\\n      <table class='table table-hover table-sortable'>\\n        <!--Table head-->\\n        <thead>\\n          <tr>\\n            <th class=\\\"d-none d-md-table-cell\\\" (click)=\\\"sortTable(1)\\\">Created</th>\\n            <th (click)=\\\"sortTable(2)\\\">User</th>\\n            <th (click)=\\\"sortTable(3)\\\"> Action</th>\\n            <th class=\\\"d-none d-md-table-cell\\\" (click)=\\\"sortTable(4)\\\"> Info</th>\\n            <th class=\\\"d-none d-lg-table-cell\\\" (click)=\\\"sortTable(5)\\\"> Result</th>\\n            <th class=\\\"d-none d-lg-table-cell\\\" (click)=\\\"sortTable(6)\\\"> Duration</th>\\n            <th class=\\\"d-none d-lg-table-cell\\\" (click)=\\\"sortTable(7)\\\"> Size</th>\\n            <th>Detail</th>\\n          </tr>\\n        </thead>\\n        <!--Table body-->\\n        <tbody>\\n          <tr *ngFor=\\\"let auditentry of audit; let auditIndex=index\\\" (click)='helperAuditIndex(auditIndex)'\\n          data-toggle=\\\"modal\\\" data-target=\\\"#AuditDetail\\\">\\n            <td  *ngIf=\\\"isToday(auditentry.createdAt)\\\" class=\\\"d-none d-md-table-cell\\\">{{auditentry.createdAt | date :'HH:mm:ss'}}</td>\\n            <td  *ngIf=\\\"!isToday(auditentry.createdAt)\\\" class=\\\"d-none d-md-table-cell\\\">{{auditentry.createdAt | date :'dd.MM HH:mm'}}</td>\\n            <td *ngIf=\\\"auditentry.user\\\" >{{auditentry.user.email }}</td>\\n            <td *ngIf=\\\"!auditentry.user\\\"> Unknown </td>\\n            <td>{{auditentry.actionDescription }}</td>\\n            <td class=\\\"d-none d-md-table-cell\\\" >{{helperShortenText(auditentry.actionInfo, 30) }}</td>\\n            <td class=\\\"d-none d-lg-table-cell\\\" >{{helperResponseText(auditentry) }}</td>\\n            <td class=\\\"d-none d-lg-table-cell\\\" >{{auditentry.result.time}} ms</td>\\n            <td class=\\\"d-none d-lg-table-cell\\\" >{{ helperFormatBytes(audit[auditIndex].result.size || 0, 2) }}</td>\\n            <td>\\n              <button class=\\\"Detail\\\" title=\\\"Detail of Visbo Audit\\\" (click)='helperAuditIndex(auditIndex)'\\n              data-toggle=\\\"modal\\\" data-target=\\\"#AuditDetail\\\">i</button>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal fade\\\" id=\\\"AuditDetail\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"Audit Detail\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-lg modal-dialog-centered\\\" role=\\\"document\\\" *ngIf=\\\"auditIndex >= 0 && auditIndex < audit.length\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"AuditDetailTitle\\\">Detail of Audit Entry</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <div class=\\\"row\\\">\\n          <!-- <div class=\\\"col-10\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" title=\\\"Prev Audit Entry\\\" (click)='pageAuditIndex(-1)'>Prev</button>\\n          </div>\\n          <div class=\\\"col-2\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-secondary align-self-end\\\" title=\\\"Next Audit Entry\\\" (click)='pageAuditIndex(1)'>Next</button>\\n          </div> -->\\n          <div class=\\\"col-11\\\">\\n            <h3 title=\\\"Previous Entry\\\" (click)='pageAuditIndex(-1)'><a class=\\\"px-3 col-1 fas fa-caret-square-left\\\"></a></h3>\\n          </div>\\n          <div class=\\\"col-1\\\">\\n            <h3 title=\\\"Next Entry\\\" (click)='pageAuditIndex(1)'><a class=\\\"px-3 col-1 fas fa-caret-square-right\\\"></a></h3>\\n          </div>\\n        </div>\\n        <form>\\n          <div class=\\\"py-0 m-0\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Created:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].createdAt | date :'dd.MM.yyyy HH:mm:ss.SSS' }} </label>\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">User:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].user.email }} </label>\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Action:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ helperFormatActionDescription(audit[auditIndex]) }} </label>\\n          </div>\\n          <div *ngIf=\\\"audit[auditIndex].actionInfo\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Info:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].actionInfo }} </label>\\n          </div>\\n          <div *ngIf=\\\"audit[auditIndex].vc\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Visbo Center:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].vc.name }} </label>\\n          </div>\\n          <div *ngIf=\\\"audit[auditIndex].vp\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Visbo Project:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].vp.name }} ({{ audit[auditIndex].vp.vpid }}) </label>\\n          </div>\\n          <div *ngIf=\\\"audit[auditIndex].vpv\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Project Version:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].vpv.name }} ({{ audit[auditIndex].vpv.vpvid }})</label>\\n          </div>\\n          <div>\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Result:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{helperResponseText(audit[auditIndex]) }} </label>\\n          </div>\\n          <div *ngIf=\\\"showMore\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">tech. Action:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].action }} </label>\\n          </div>\\n          <div *ngIf=\\\"showMore\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">URL:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\" style=\\\"overflow-wrap: break-word;\\\">{{ audit[auditIndex].url }} </label>\\n          </div>\\n          <div *ngIf=\\\"showMore\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Response Time:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].result.time }} ms </label>\\n          </div>\\n          <div *ngIf=\\\"showMore\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Response Size:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ helperFormatBytes(audit[auditIndex].result.size || 0, 2) }} </label>\\n          </div>\\n          <div *ngIf=\\\"showMore\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">User Agent:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].userAgent }}</label>\\n          </div>\\n          <div *ngIf=\\\"showMore && audit[auditIndex].ip\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">IP:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].ip }}</label>\\n          </div>\\n          <div *ngIf=\\\"showMore && audit[auditIndex].ttl\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">TTL:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].ttl | date :'dd.MM HH:mm' }}</label>\\n          </div>\\n          <div *ngIf=\\\"showMore && audit[auditIndex].host\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Host:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].host }}</label>\\n          </div>\\n        </form>\\n      </div>\\n      <div class=\\\"modal-footer align-items-end\\\">\\n        <button *ngIf=\\\"!showMore\\\" type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"toggleDetail()\\\">More</button>\\n        <button *ngIf=\\\"showMore\\\" type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"toggleDetail()\\\">Less</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<sysvisbo-navbar></sysvisbo-navbar>\\n<div class='well'>\\n  <div class='row'>\\n      <h2 class='panel-heading'>\\n        Visbo Config System View\\n      </h2>\\n  </div>\\n\\n  <div>\\n    <div class='container-fluid'>\\n      <div class='panel-body'>\\n        <table class='table table-hover table-sortable'>\\n          <!--Table head-->\\n          <thead>\\n            <tr>\\n              <th (click)=\\\"sortTable(1)\\\">Name</th>\\n              <th class=\\\"d-none d-md-table-cell\\\" (click)=\\\"sortTable(2)\\\">Info</th>\\n              <th (click)=\\\"sortTable(3)\\\">Updated</th>\\n            </tr>\\n          </thead>\\n          <!-- Table body -->\\n          <tbody>\\n            <tr *ngFor=\\\"let setting of vcsetting; let settingIndex=index\\\" (click)=\\\"editConfigName(setting.name)\\\" data-toggle=\\\"modal\\\" data-target=\\\"#ConfigValue\\\">\\n              <td>{{setting.name}}</td>\\n              <td>{{getMainInfo(setting)}}</td>\\n              <td>{{setting.updatedAt | date :'dd.MM HH:mm:ss' }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal fade\\\" id=\\\"ConfigValue\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"Config Value\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-lg modal-dialog-centered\\\" role=\\\"document\\\" *ngIf=\\\"vcsetting && editIndex >= 0\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <!-- <h5 class=\\\"modal-title\\\" id=\\\"ConfigDetailTitle\\\">Config Detail Parameter</h5> -->\\n        <h5 *ngIf=\\\"vcsetting[editIndex].name == 'UI URL'\\\" class=\\\"modal-title\\\" id=\\\"ConfigDetailTitle\\\">Config UI URL</h5>\\n        <h5 *ngIf=\\\"vcsetting[editIndex].name == 'DEBUG'\\\" class=\\\"modal-title\\\" id=\\\"ConfigDetailTitle\\\">Config Debug Setting</h5>\\n        <h5 *ngIf=\\\"vcsetting[editIndex].name == 'PW Policy'\\\" class=\\\"modal-title\\\" id=\\\"ConfigDetailTitle\\\">Config Password Policy</h5>\\n        <h5 *ngIf=\\\"vcsetting[editIndex].name == 'SMTP'\\\" class=\\\"modal-title\\\" id=\\\"ConfigDetailTitle\\\">Config SMTP Setting</h5>\\n        <h5 *ngIf=\\\"vcsetting[editIndex].name == 'REDIS'\\\" class=\\\"modal-title\\\" id=\\\"ConfigDetailTitle\\\">Config Redis Address</h5>\\n        <h5 *ngIf=\\\"vcsetting[editIndex].name == 'Log Age'\\\" class=\\\"modal-title\\\" id=\\\"ConfigDetailTitle\\\">Config Maximum Log File Age</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <!-- Index {{ editIndex }} -->\\n      <div class=\\\"modal-body\\\">\\n        <form *ngIf=\\\"vcsetting[editIndex].name == 'UI URL'\\\">\\n          <div>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"configUIUrl\\\" class=\\\"col-3 col-form-label\\\">UI Url:</label>\\n              <input type=\\\"text\\\" name=configUIUrl class=\\\"col-7 form-control\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.UIUrl\\\" placeholder=\\\"URL for Web UI\\\">\\n            </div>\\n          </div>\\n        </form>\\n        <form *ngIf=\\\"vcsetting[editIndex].name == 'PW Policy'\\\">\\n          <div>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"configPWPolicy\\\" class=\\\"col-4 col-form-label\\\">PW Policy Regex:</label>\\n              <input type=\\\"text\\\" name=configPWPolicy class=\\\"form-control\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.PWPolicy\\\">\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"configPWPolicyDesc\\\" class=\\\"col-4 col-form-label\\\">PW Policy Description:</label>\\n              <textarea name=configPWPolicyDesc class=\\\"form-control\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.Description\\\"></textarea>\\n            </div>\\n          </div>\\n        </form>\\n        <form *ngIf=\\\"vcsetting[editIndex].name == 'SMTP'\\\">\\n          <div *ngIf=\\\"editIndex >= 0 && vcsetting[editIndex].name == 'SMTP'\\\">\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"configSMTPHost\\\" class=\\\"col-4 col-form-label\\\">SMTP Host:</label>\\n              <input type=\\\"text\\\" name=configSMTPHost class=\\\"form-control\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.host\\\">\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"configSMTPUser\\\" class=\\\"col-4 col-form-label\\\">User:</label>\\n              <input type=\\\"text\\\" name=configSMTPUser class=\\\"form-control\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.auth.user\\\">\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"configSMTPUserPW\\\" class=\\\"col-4 col-form-label\\\">Password:</label>\\n              <input type=\\\"password\\\" name=configSMTPUserPW class=\\\"form-control\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.auth.pass\\\">\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"configSMTPPort\\\" class=\\\"col-4 col-form-label\\\">Port:</label>\\n              <input type=\\\"number\\\" name=configSMTPPort class=\\\"form-control\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.port\\\">\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"configSMTPConTimeout\\\" class=\\\"col-4 col-form-label\\\">Connection Timeout:</label>\\n              <input type=\\\"number\\\" name=configSMTPConTimeout class=\\\"form-control\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.connectionTimeout\\\">\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"configSMTPGreetTimeout\\\" class=\\\"col-4 col-form-label\\\">Greeting Timeout:</label>\\n              <input type=\\\"number\\\" name=configSMTPGreetTimeout class=\\\"form-control\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.greetingTimeout\\\">\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"check1\\\" name=\\\"configSMTPPool\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.pool\\\" #configSMTPPool=\\\"ngModel\\\">\\n                <label class=\\\"custom-control-label\\\" for=\\\"check1\\\">Pool Connections</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"check2\\\" name=\\\"configSMTPSecure\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.secure\\\" #configSMTPSecure=\\\"ngModel\\\">\\n                <label class=\\\"custom-control-label\\\" for=\\\"check2\\\">Secure Connection</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"check3\\\" name=\\\"configSMTPTls\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.requireTLS\\\" #configSMTPTls=\\\"ngModel\\\">\\n                <label class=\\\"custom-control-label\\\" for=\\\"check3\\\">Require TLS</label>\\n            </div>\\n          </div>\\n        </form>\\n        <form *ngIf=\\\"vcsetting[editIndex].name == 'REDIS'\\\">\\n          <div>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"configREDISHost\\\" class=\\\"col-4 col-form-label\\\">Host:</label>\\n              <input type=\\\"text\\\" name=configREDISHost class=\\\"form-control\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.host\\\">\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"configREDISPort\\\" class=\\\"col-4 col-form-label\\\">Port:</label>\\n              <input type=\\\"number\\\" name=configREDISPort class=\\\"form-control\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.port\\\">\\n            </div>\\n          </div>\\n        </form>\\n        <form *ngIf=\\\"vcsetting[editIndex].name == 'DEBUG'\\\">\\n          <div class=\\\"form-group row\\\">\\n\\n            <label class=\\\"col-3 col-form-label\\\">VC:</label>\\n            <select class=\\\"col-8 form-control\\\"  name=\\\"VC\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.VC\\\">\\n              <option value = fatal>Fatal</option>\\n              <option value = warn>Warning</option>\\n              <option value = info>Information</option>\\n              <option value = debug>Debug</option>\\n              <option value = trace>Trace</option>\\n            </select>\\n          </div>\\n          <div class=\\\"form-group row\\\">\\n            <label class=\\\"col-3 col-form-label\\\">VP:</label>\\n            <select class=\\\"col-8 form-control\\\"  name=\\\"VP\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.VP\\\">\\n              <option value = fatal>Fatal</option>\\n              <option value = warn>Warning</option>\\n              <option value = info>Information</option>\\n              <option value = debug>Debug</option>\\n              <option value = trace>Trace</option>\\n            </select>\\n          </div>\\n          <div class=\\\"form-group row\\\">\\n            <label class=\\\"col-3 col-form-label\\\">VPV:</label>\\n            <select class=\\\"col-8 form-control\\\"  name=\\\"VPV\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.VPV\\\">\\n              <option value = fatal>Fatal</option>\\n              <option value = warn>Warning</option>\\n              <option value = info>Information</option>\\n              <option value = debug>Debug</option>\\n              <option value = trace>Trace</option>\\n            </select>\\n          </div>\\n          <div class=\\\"form-group row\\\">\\n            <label class=\\\"col-3 col-form-label\\\">USER:</label>\\n            <select class=\\\"col-8 form-control\\\"  name=\\\"USER\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.USER\\\">\\n              <option value = fatal>Fatal</option>\\n              <option value = warn>Warning</option>\\n              <option value = info>Information</option>\\n              <option value = debug>Debug</option>\\n              <option value = trace>Trace</option>\\n            </select>\\n          </div>\\n          <div class=\\\"form-group row\\\">\\n            <label class=\\\"col-3 col-form-label\\\">MAIL:</label>\\n            <select class=\\\"col-8 form-control\\\"  name=\\\"MAIL\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.MAIL\\\">\\n              <option value = fatal>Fatal</option>\\n              <option value = warn>Warning</option>\\n              <option value = info>Information</option>\\n              <option value = debug>Debug</option>\\n              <option value = trace>Trace</option>\\n            </select>\\n          </div>\\n          <div class=\\\"form-group row\\\">\\n            <label class=\\\"col-3 col-form-label\\\">OTHER:</label>\\n            <select class=\\\"col-8 form-control\\\"  name=\\\"OTHER\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.OTHER\\\">\\n              <option value = fatal>Fatal</option>\\n              <option value = warn>Warning</option>\\n              <option value = info>Information</option>\\n              <option value = debug>Debug</option>\\n              <option value = trace>Trace</option>\\n            </select>\\n          </div>\\n          <div class=\\\"form-group row\\\">\\n            <label class=\\\"col-3 col-form-label\\\">All:</label>\\n            <select class=\\\"col-8 form-control\\\"  name=\\\"All\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.All\\\">\\n              <option value = fatal>Fatal</option>\\n              <option value = warn>Warning</option>\\n              <option value = info>Information</option>\\n              <option value = debug>Debug</option>\\n              <option value = trace>Trace</option>\\n            </select>\\n          </div>\\n        </form>\\n        <form *ngIf=\\\"vcsetting[editIndex].name == 'Log Age'\\\">\\n          <div>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"configLogAge\\\" class=\\\"col-4 col-form-label\\\">Max Age:</label>\\n              <input type=\\\"number\\\" name=configLogAge class=\\\"form-control\\\" [(ngModel)]=\\\"vcsetting[editIndex].value.duration\\\" >\\n            </div>\\n          </div>\\n        </form>\\n      </div>\\n      <div class=\\\"modal-footer align-items-end\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n        <button *ngIf=\\\"hasSystemPerm(permSystem.Modify)\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"updateConfig(vcsetting[editIndex])\\\" data-dismiss=\\\"modal\\\">Update</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<sysvisbo-navbar></sysvisbo-navbar>\\n<div class='well'>\\n  <div class=\\\"container-fluid\\\">\\n    <div class='row'>\\n      <div class='col'>\\n        <h2 class='panel-heading'>\\n          Visbo Log Files\\n        </h2>\\n      </div>\\n      <!-- <div class='col-6 col-md-2 align-self-end'>\\n        <button type=\\\"button\\\" class=\\\"mx-1 btn btn-sm btn-primary align-self-end\\\" (click)=\\\"getLogLevel()\\\" data-toggle=\\\"modal\\\" data-target=\\\"#ChangeLogLevel\\\">Change Log Level</button>\\n      </div> -->\\n    </div>\\n    <div class='col'>\\n      <form name=\\\"form\\\" (ngSubmit)=\\\"getVisboLogs()\\\" #f=\\\"ngForm\\\" novalidate>\\n        <div class=\\\"form-group row\\\">\\n          <label for=\\\"auditCount\\\" class=\\\"col-form-label\\\">Max age in days:</label>\\n          <select class=\\\"col-1 form-control mx-1\\\" name=\\\"ageDays\\\" [(ngModel)]=\\\"ageDays\\\">\\n            <option>0</option>\\n            <option>3</option>\\n            <option>7</option>\\n            <option>30</option>\\n            <option>365</option>\\n          </select>\\n          <button type=\\\"button\\\" class=\\\"btn btn-primary mx-1\\\" (click)=\\\"getVisboLogs()\\\">Refresh</button>\\n          <div class=\\\"col\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-sm btn-primary float-right\\\" (click)=\\\"getLogLevel()\\\" data-toggle=\\\"modal\\\" data-target=\\\"#ChangeLogLevel\\\">Change Log Level</button>\\n          </div>\\n        </div>\\n      </form>\\n    </div>\\n  </div>\\n\\n  <div>\\n    <div class='container-fluid'>\\n      <div class='panel-body'>\\n        <table class='table table-hover table-sortable'>\\n          <!--Table head-->\\n          <thead>\\n            <tr>\\n              <th class=\\\"d-none d-md-table-cell\\\" (click)=\\\"sortTable(1)\\\">Name</th>\\n              <th class=\\\"d-none d-md-table-cell\\\">Host</th>\\n              <th (click)=\\\"sortTable(2)\\\">Modified</th>\\n              <th (click)=\\\"sortTable(3)\\\"> Size</th>\\n              <th>Detail</th>\\n            </tr>\\n          </thead>\\n          <!--Table body-->\\n          <tbody>\\n            <tr *ngFor=\\\"let fileentry of files; let fileIndex=index\\\" (click)='helperFileIndex(fileIndex)'\\n              (click)='getVisboLogFile(fileentry)'>\\n              <td class=\\\"d-none d-md-table-cell\\\">{{fileentry.name }}</td>\\n              <td class=\\\"d-none d-md-table-cell\\\">{{fileentry.folder }}</td>\\n              <td>{{fileentry.updatedAt | date :'dd.MM HH:mm' }}</td>\\n              <td>{{formatBytes(fileentry.size, undefined) }}</td>\\n              <td>\\n                <button class=\\\"Detail\\\" title=\\\"Save As\\\" (click)=\\\"getVisboLogFile(fileentry)\\\">i</button>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<!-- Modal Change Log Level-->\\n<div class=\\\"modal fade\\\" id=\\\"ChangeLogLevel\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"ChangeLogLevelTitle\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"ChangeLogLevelTitle\\\">Change Log Level</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\" *ngIf=\\\"logLevelSetting\\\">\\n        <form>\\n          <div class=\\\"form-group row\\\">\\n            <label class=\\\"col-3 col-form-label\\\">VC:</label>\\n            <select class=\\\"col-8 form-control\\\"  name=\\\"VC\\\" [(ngModel)]=\\\"logLevelSetting.value.VC\\\">\\n              <option value = fatal>Fatal</option>\\n              <option value = warn>Warning</option>\\n              <option value = info>Information</option>\\n              <option value = debug>Debug</option>\\n              <option value = trace>Trace</option>\\n            </select>\\n          </div>\\n          <div class=\\\"form-group row\\\">\\n            <label class=\\\"col-3 col-form-label\\\">VP:</label>\\n            <select class=\\\"col-8 form-control\\\"  name=\\\"VP\\\" [(ngModel)]=\\\"logLevelSetting.value.VP\\\">\\n              <option value = fatal>Fatal</option>\\n              <option value = warn>Warning</option>\\n              <option value = info>Information</option>\\n              <option value = debug>Debug</option>\\n              <option value = trace>Trace</option>\\n            </select>\\n          </div>\\n          <div class=\\\"form-group row\\\">\\n            <label class=\\\"col-3 col-form-label\\\">VPV:</label>\\n            <select class=\\\"col-8 form-control\\\"  name=\\\"VPV\\\" [(ngModel)]=\\\"logLevelSetting.value.VPV\\\">\\n              <option value = fatal>Fatal</option>\\n              <option value = warn>Warning</option>\\n              <option value = info>Information</option>\\n              <option value = debug>Debug</option>\\n              <option value = trace>Trace</option>\\n            </select>\\n          </div>\\n          <div class=\\\"form-group row\\\">\\n            <label class=\\\"col-3 col-form-label\\\">USER:</label>\\n            <select class=\\\"col-8 form-control\\\"  name=\\\"USER\\\" [(ngModel)]=\\\"logLevelSetting.value.USER\\\">\\n              <option value = fatal>Fatal</option>\\n              <option value = warn>Warning</option>\\n              <option value = info>Information</option>\\n              <option value = debug>Debug</option>\\n              <option value = trace>Trace</option>\\n            </select>\\n          </div>\\n          <div class=\\\"form-group row\\\">\\n            <label class=\\\"col-3 col-form-label\\\">MAIL:</label>\\n            <select class=\\\"col-8 form-control\\\"  name=\\\"MAIL\\\" [(ngModel)]=\\\"logLevelSetting.value.MAIL\\\">\\n              <option value = fatal>Fatal</option>\\n              <option value = warn>Warning</option>\\n              <option value = info>Information</option>\\n              <option value = debug>Debug</option>\\n              <option value = trace>Trace</option>\\n            </select>\\n          </div>\\n          <div class=\\\"form-group row\\\">\\n            <label class=\\\"col-3 col-form-label\\\">OTHER:</label>\\n            <select class=\\\"col-8 form-control\\\"  name=\\\"OTHER\\\" [(ngModel)]=\\\"logLevelSetting.value.OTHER\\\">\\n              <option value = fatal>Fatal</option>\\n              <option value = warn>Warning</option>\\n              <option value = info>Information</option>\\n              <option value = debug>Debug</option>\\n              <option value = trace>Trace</option>\\n            </select>\\n          </div>\\n          <div class=\\\"form-group row\\\">\\n            <label class=\\\"col-3 col-form-label\\\">All:</label>\\n            <select class=\\\"col-8 form-control\\\"  name=\\\"All\\\" [(ngModel)]=\\\"logLevelSetting.value.All\\\">\\n              <option value = fatal>Fatal</option>\\n              <option value = warn>Warning</option>\\n              <option value = info>Information</option>\\n              <option value = debug>Debug</option>\\n              <option value = trace>Trace</option>\\n            </select>\\n          </div>\\n        </form>\\n      </div>\\n      <div class=\\\"modal-footer align-items-end\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"setLogLevel()\\\" data-dismiss=\\\"modal\\\">Save</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<nav class=\\\"navbar navbar-expand-md bg-light sticky-top\\\">\\n  <a class=\\\"navbar-brand bg-light\\\" (click)=\\\"gotoClickedItem('sysdashboard')\\\">Overviews</a>\\n  <button class=\\\"navbar-toggler\\\" type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#navbarSupportedContent\\\" aria-controls=\\\"navbarSupportedContent\\\" aria-expanded=\\\"false\\\" aria-label=\\\"Toggle navigation\\\">\\n    <i class=\\\"fas fa-bars\\\"></i>\\n  </button>\\n\\n  <div class=\\\"collapse navbar-collapse\\\" id=\\\"navbarSupportedContent\\\">\\n    <ul class=\\\"navbar-nav mr-auto\\\">\\n      <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link bg-light\\\" (click)=\\\"gotoClickedItem('sysadmins')\\\">Administrators</a>\\n      </li>\\n      <li *ngIf=\\\"hasVCPerm(permVC.View)\\\" class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link bg-light\\\" (click)=\\\"gotoClickedItem('sysvc')\\\">Visbo Centers</a>\\n      </li>\\n      <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link bg-light\\\" (click)=\\\"gotoClickedItem('sysuser')\\\">Users</a>\\n      </li>\\n      <li *ngIf=\\\"hasSystemPerm(permSystem.ViewAudit)\\\" class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link bg-light\\\"  (click)=\\\"gotoClickedItem('sysaudit')\\\">Audit</a>\\n      </li>\\n      <li class=\\\"nav-item dropdown\\\">\\n        <a class=\\\"nav-link dropdown-toggle bg-light\\\" href=\\\"#\\\" id=\\\"navbarDropdown\\\" role=\\\"button\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">\\n          Others\\n        </a>\\n        <div class=\\\"dropdown-menu\\\" aria-labelledby=\\\"navbarDropdown\\\">\\n          <div *ngIf=\\\"hasSystemPerm(permSystem.ViewLog)\\\">\\n            <a class=\\\"dropdown-item\\\"  (click)=\\\"gotoClickedItem('syslog')\\\">Log Files</a>\\n            <!-- <div class=\\\"dropdown-divider\\\"></div> -->\\n          </div>\\n          <div >\\n            <a class=\\\"dropdown-item\\\"  (click)=\\\"gotoClickedItem('systasks')\\\">Tasks</a>\\n            <!-- <div class=\\\"dropdown-divider\\\"></div> -->\\n          </div>\\n          <div >\\n            <a class=\\\"dropdown-item\\\"  (click)=\\\"gotoClickedItem('sysconfig')\\\">Configuration</a>\\n            <!-- <div class=\\\"dropdown-divider\\\"></div> -->\\n          </div>\\n          <a class=\\\"dropdown-item\\\" (click)=\\\"gotoClickedItem('sysothers')\\\">Others</a>\\n        </div>\\n      </li>\\n      <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link bg-light align-right\\\"  (click)=\\\"gotoClickedItem('/')\\\">Back</a>\\n      </li>\\n    </ul>\\n  </div>\\n</nav>\\n\"","export default \"<sysvisbo-navbar></sysvisbo-navbar>\\n<div class='well'>\\n  <div class='row'>\\n    <div class='col'>\\n      <h2 class='panel-heading'>\\n        Visbo Task System View\\n      </h2>\\n    </div>\\n    <div class=\\\"col\\\">\\n      <button type=\\\"button\\\" class=\\\"btn btn-primary float-right\\\" (click)=\\\"getVisboTasks()\\\">Refresh</button>\\n    </div>\\n  </div>\\n\\n  <div>\\n    <div class='container-fluid'>\\n      <div class='panel-body'>\\n        <table class='table table-hover table-sortable'>\\n          <!--Table head-->\\n          <thead>\\n            <tr>\\n              <th (click)=\\\"sortTable(1)\\\">Name</th>\\n              <th class=\\\"d-none d-md-table-cell\\\" (click)=\\\"sortTable(2)\\\">Last Run</th>\\n              <th class=\\\"d-none d-md-table-cell\\\" (click)=\\\"sortTable(3)\\\">Next Run</th>\\n              <th (click)=\\\"sortTable(4)\\\">Last Result</th>\\n              <th>Detail</th>\\n            </tr>\\n          </thead>\\n          <!-- Table body -->\\n          <tbody>\\n            <tr *ngFor=\\\"let entry of vcsetting; let settingIndex=index\\\" (click)='helperTaskIndex(settingIndex)' data-toggle=\\\"modal\\\" data-target=\\\"#TaskDetail\\\">\\n              <td>{{entry.name }}</td>\\n              <td class=\\\"d-none d-md-table-cell\\\">{{entry.value.lastRun | date :'dd.MM HH:mm:ss' }}</td>\\n              <td class=\\\"d-none d-md-table-cell\\\">{{entry.value.nextRun | date :'dd.MM HH:mm:ss' }}</td>\\n              <td>{{entry.value.taskSpecific && entry.value.taskSpecific.result }}</td>\\n              <td>\\n                <button class=\\\"Detail\\\" title=\\\"detail\\\">i</button>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal fade\\\" id=\\\"TaskDetail\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"Task Detail\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-lg modal-dialog-centered\\\" role=\\\"document\\\" *ngIf=\\\"taskIndex >= 0 && taskIndex < vcsetting.length\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"TaskDetailTitle\\\">Detail of Task</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-10\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" title=\\\"Prev Task\\\" (click)='pageTaskIndex(-1)'>Prev</button>\\n          </div>\\n          <div class=\\\"col-2\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-secondary align-self-end\\\" title=\\\"Next Task\\\" (click)='pageTaskIndex(1)'>Next</button>\\n          </div>\\n        </div>\\n        <form>\\n          <div class=\\\"form-group\\\">\\n            <label class=\\\"col-4 col-form-label\\\">Task:</label>\\n            <label class=\\\"col-7 form-control-static\\\">{{ vcsetting[taskIndex].name }} </label>\\n          </div>\\n          <div *ngIf=\\\"vcsetting[taskIndex].value\\\">\\n            <div class=\\\"form-group\\\">\\n              <label class=\\\"col-4 col-form-label\\\">Last Run:</label>\\n              <label class=\\\"col-7 form-control-static\\\">{{ vcsetting[taskIndex].value.lastRun | date :'dd.MM HH:mm:ss' }}</label>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label class=\\\"col-4 col-form-label\\\">Next Run:</label>\\n              <label class=\\\"col-7 form-control-static\\\">{{ vcsetting[taskIndex].value.nextRun | date :'dd.MM HH:mm:ss' }}</label>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label class=\\\"col-4 col-form-label\\\">Last Duration:</label>\\n              <label class=\\\"col-7 form-control-static\\\">{{ vcsetting[taskIndex].value.lastDuration | date :'mm:ss:SSS' }}</label>\\n            </div>\\n            <div *ngIf=\\\"vcsetting[taskIndex].value.taskSpecific\\\">\\n              <div class=\\\"form-group\\\">\\n                <label class=\\\"col-4 col-form-label\\\">Result:</label>\\n                <label class=\\\"col-7 form-control-static\\\">{{ vcsetting[taskIndex].value.taskSpecific.result }}</label>\\n              </div>\\n              <div class=\\\"form-group\\\">\\n                <label class=\\\"col-4 col-form-label\\\">Message:</label>\\n                <label class=\\\"col-7 form-control-static\\\">{{ vcsetting[taskIndex].value.taskSpecific.resultDescription }}</label>\\n              </div>\\n            </div>\\n          </div>\\n        </form>\\n      </div>\\n      <div class=\\\"modal-footer align-items-end\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"executeTask()\\\" data-dismiss=\\\"modal\\\">Execute</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<sysvisbo-navbar></sysvisbo-navbar>\\n<div class='well'>\\n  <div class='row'>\\n    <h2 class='panel-heading'>\\n      Visbo Users\\n    </h2>\\n  </div>\\n  <form name=\\\"form\\\" (ngSubmit)=\\\"getSysUsers()\\\" #f=\\\"ngForm\\\" novalidate>\\n    <div class=\\\"form-group row\\\">\\n      <label for=\\\"userMatch\\\" class=\\\"col-2 col-form-label\\\">Filter:</label>\\n      <input id=\\\"userMatch\\\" type=\\\"text\\\" class=\\\"col-2 col-sm-4 form-control mx-1\\\" name=\\\"userMatch\\\" [(ngModel)]=\\\"userMatch\\\" >\\n      <button type=\\\"button\\\" class=\\\"btn btn-primary mx-1\\\" (click)=\\\"getSysUsers()\\\">Filter</button>\\n    </div>\\n  </form>\\n  <div class='container-fluid'>\\n    <div class='panel-body'>\\n      <table class='table table-hover table-sortable'>\\n        <!--Table head-->\\n        <thead>\\n          <tr>\\n            <th class=\\\"d-none d-md-table-cell\\\">Nr.</th>\\n            <th (click)=\\\"sortTable(1)\\\">User</th>\\n            <th class=\\\"d-none d-md-table-cell\\\" (click)=\\\"sortTable(2)\\\">Updated</th>\\n            <th class=\\\"d-none d-md-table-cell\\\" (click)=\\\"sortTable(3)\\\">Last Login</th>\\n            <th class=\\\"d-none d-md-table-cell\\\" (click)=\\\"sortTable(4)\\\">Failed Login</th>\\n            <th>Detail</th>\\n          </tr>\\n        </thead>\\n        <!--Table body-->\\n        <tbody>\\n          <tr *ngFor=\\\"let userentry of user; let userIndex=index\\\" (click)='helperUserIndex(userIndex)'\\n          data-toggle=\\\"modal\\\" data-target=\\\"#UserDetail\\\">\\n            <td class=\\\"d-none d-md-table-cell\\\">{{userIndex+1}}</td>\\n            <td >{{userentry.email }}</td>\\n            <td class=\\\"d-none d-md-table-cell\\\">{{userentry.updatedAt | date :'dd.MM.yy'}}</td>\\n            <td *ngIf=\\\"userentry.status && userentry.status.lastLoginAt\\\" class=\\\"d-none d-md-table-cell\\\">{{userentry.status.lastLoginAt | date :'dd.MM.yy'}}</td>\\n            <td *ngIf=\\\"!(userentry.status && userentry.status.lastLoginAt)\\\" class=\\\"d-none d-md-table-cell\\\">Never</td>\\n            <td *ngIf=\\\"userentry.status && userentry.status.lastLoginFailedAt\\\" class=\\\"d-none d-md-table-cell\\\">{{userentry.status.lastLoginFailedAt | date :'dd.MM.yy'}}</td>\\n            <td *ngIf=\\\"!(userentry.status && userentry.status.lastLoginFailedAt)\\\" class=\\\"d-none d-md-table-cell\\\">Never</td>\\n            <td>\\n              <button class=\\\"Detail\\\" title=\\\"Detail of Visbo User\\\" (click)='helperUserIndex(userIndex)'\\n              data-toggle=\\\"modal\\\" data-target=\\\"#UserDetail\\\">i</button>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal fade\\\" id=\\\"UserDetail\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"User Detail\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-lg modal-dialog-centered\\\" role=\\\"document\\\" *ngIf=\\\"userIndex >= 0 && userIndex < user.length\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"UserDetailTitle\\\">Detail of User</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-10\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" title=\\\"Prev User\\\" (click)='pageUserIndex(-1)'>Prev</button>\\n          </div>\\n          <div class=\\\"col-2\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-secondary align-self-end\\\" title=\\\"Next User\\\" (click)='pageUserIndex(1)'>Next</button>\\n          </div>\\n        </div>\\n        <form>\\n          <div class=\\\"form-group\\\">\\n            <label class=\\\"col-4 col-form-label\\\">User:</label>\\n            <label class=\\\"col-7 form-control-static\\\">{{ user[userIndex].email }} </label>\\n          </div>\\n          <div *ngIf=\\\"user[userIndex].profile\\\"  class=\\\"form-group\\\">\\n            <label class=\\\"col-4 col-form-label\\\">Name:</label>\\n            <label class=\\\"col-7 form-control-static\\\">{{ user[userIndex].profile.firstName}}  {{ user[userIndex].profile.lastName}}</label>\\n          </div>\\n          <div *ngIf=\\\"user[userIndex].profile\\\"  class=\\\"form-group\\\">\\n            <label class=\\\"col-4 col-form-label\\\">Company:</label>\\n            <label class=\\\"col-7 form-control-static\\\">{{ user[userIndex].profile.company}}</label>\\n          </div>\\n          <div *ngIf=\\\"user[userIndex].profile\\\"  class=\\\"form-group\\\">\\n            <label class=\\\"col-4 col-form-label\\\">Phone:</label>\\n            <label class=\\\"col-7 form-control-static\\\">{{ user[userIndex].profile.phone}}</label>\\n          </div>\\n          <div *ngIf=\\\"showMore\\\" class=\\\"form-group\\\">\\n            <label class=\\\"col-4 col-form-label\\\">Created:</label>\\n            <label class=\\\"col-7 form-control-static\\\">{{ user[userIndex].createdAt | date :'dd.MM.yyyy HH:mm:ss' }} </label>\\n          </div>\\n          <div *ngIf=\\\"showMore\\\" class=\\\"form-group\\\">\\n            <label class=\\\"col-4 col-form-label\\\">Updated:</label>\\n            <label class=\\\"col-7 form-control-static\\\">{{ user[userIndex].updatedAt | date :'dd.MM.yyyy HH:mm:ss' }} </label>\\n          </div>\\n          <div class=\\\"form-group\\\">\\n            <label class=\\\"col-4 col-form-label\\\">Registered:</label>\\n            <label *ngIf=\\\"user[userIndex].status && user[userIndex].status.registeredAt\\\" class=\\\"col-7 form-control-static\\\">{{ user[userIndex].status.registeredAt | date :'dd.MM.yyyy HH:mm:ss' }} </label>\\n            <label *ngIf=\\\"!(user[userIndex].status && user[userIndex].status.registeredAt)\\\" class=\\\"col-7 form-control-static\\\">Not registered yet </label>\\n          </div>\\n          <div *ngIf=\\\"user[userIndex].status && user[userIndex].status.lockedUntil\\\" class=\\\"form-group\\\">\\n            <label class=\\\"col-4 col-form-label\\\">Locked:</label>\\n            <label class=\\\"col-7 form-control-static\\\">{{ user[userIndex].status.lockedUntil | date :'dd.MM.yyyy HH:mm:ss' }} </label>\\n          </div>\\n          <div *ngIf=\\\"user[userIndex].status && user[userIndex].status.loginRetries\\\" class=\\\"form-group\\\">\\n            <label class=\\\"col-4 col-form-label\\\">Retries:</label>\\n            <label class=\\\"col-7 form-control-static\\\">{{ user[userIndex].status.loginRetries }} </label>\\n          </div>\\n          <div *ngIf=\\\"user[userIndex].status\\\" class=\\\"form-group\\\">\\n            <label class=\\\"col-4 col-form-label\\\">Last Login:</label>\\n            <label class=\\\"col-7 form-control-static\\\">{{ user[userIndex].status.lastLoginAt | date :'dd.MM.yyyy HH:mm:ss' }} </label>\\n          </div>\\n        </form>\\n      </div>\\n      <div class=\\\"modal-footer align-items-end\\\">\\n        <button *ngIf=\\\"!showMore\\\" type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"toggleDetail()\\\">More</button>\\n        <button *ngIf=\\\"showMore\\\" type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"toggleDetail()\\\">Less</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<sysvisbo-navbar></sysvisbo-navbar>\\n<div *ngIf=\\\"visbocenter\\\">\\n  <h3>Visbo Center: <a (click)=\\\"gotoVPList(visbocenter)\\\">{{ visbocenter.name | uppercase }}</a></h3>\\n  <form>\\n    <div class=\\\"form-group row\\\">\\n      <label for=\\\"vcName\\\" class=\\\"col-4 col-md-3 col-form-label\\\">Name:</label>\\n      <input *ngIf=\\\"hasVCPerm(permVC.Modify)\\\" type=\\\"text\\\" name=vcName class=\\\"col-sm-8 form-control\\\" [(ngModel)]=\\\"visbocenter.name\\\" placeholder=\\\"Name\\\">\\n      <label *ngIf=\\\"!hasVCPerm(permVC.Modify)\\\" class=\\\"col-8 form-control-static\\\">{{ visbocenter.name }} </label>\\n    </div>\\n    <div class=\\\"form-group row\\\">\\n      <label for=\\\"vcDescription\\\" class=\\\"col-4 col-md-3 col-form-label\\\">Description:</label>\\n      <textarea *ngIf=\\\"hasVCPerm(permVC.Modify)\\\" name=vcDescription class=\\\"col-8 form-control\\\" [(ngModel)]=\\\"visbocenter.description\\\" placeholder=\\\"Type in your description\\\"></textarea>\\n      <label *ngIf=\\\"!hasVCPerm(permVC.Modify)\\\" class=\\\"col-8 form-control-static\\\">{{ visbocenter.description }} </label>\\n    </div>\\n    <div class=\\\"form-group row\\\">\\n      <label for=\\\"Created\\\" class=\\\"col-4 col-md-3 col-form-label\\\">Created / Updated at:</label>\\n      <label class=\\\"col form-control-static col-form-label\\\">{{ visbocenter.createdAt | date :'dd.MM.yyyy HH:mm:ss'}} </label>\\n      <label class=\\\"col form-control-static col-form-label\\\">{{ visbocenter.updatedAt | date :'dd.MM.yyyy HH:mm:ss'}} </label>\\n    </div>\\n  </form>\\n  <div class=\\\"btn-toolbar\\\" style=\\\"\\\">\\n    <button *ngIf=\\\"hasSystemPerm(permSystem.ViewAudit)\\\" type=\\\"button\\\" class=\\\"btn btn-md btn-light mx-1\\\" (click)=\\\"gotoVCAudit(visbocenter)\\\">View Audit</button>\\n    <button *ngIf=\\\"!showGroups\\\" type=\\\"button\\\" class=\\\"btn btn-md btn-light mx-1\\\" (click)=\\\"toggleUserGroup()\\\">Show Groups</button>\\n    <button *ngIf=\\\"showGroups\\\" type=\\\"button\\\" class=\\\"btn btn-md btn-light mx-1\\\" (click)=\\\"toggleUserGroup()\\\">Show Users</button>\\n  </div>\\n\\n  <div *ngIf=\\\"!showGroups\\\" >\\n    <div >\\n      <div class='row'>\\n        <div class='col'>\\n          <h5 class='panel-heading'>\\n              Visbo Center Users\\n          </h5>\\n        </div>\\n        <div *ngIf=\\\"hasVCPerm(permVC.ManagePerm)\\\" class='col'>\\n          <!-- Button trigger modal -->\\n          <button type=\\\"button\\\" class=\\\"btn btn-primary float-right my-1\\\" data-toggle=\\\"modal\\\" data-target=\\\"#VcUserModalCreate\\\">Add User</button>\\n        </div>\\n      </div>\\n      <div class='panel-body'>\\n        <table class='table table-hover'>\\n          <!--Table head-->\\n          <thead>\\n            <tr>\\n              <th>Nr.</th>\\n              <th (click)=\\\"sortUserTable(1)\\\">e-mail</th>\\n              <th (click)=\\\"sortUserTable(2)\\\">Group</th>\\n              <th *ngIf=\\\"!deleted && hasVCPerm(permVC.ManagePerm)\\\">Delete</th>\\n            </tr>\\n          </thead>\\n          <!--Table body-->\\n          <tbody>\\n            <tr *ngFor=\\\"let member of vgUsers; let memberIndex=index\\\"> <!-- class=\\\"danger\\\"> -->\\n              <td>{{memberIndex+1}}</td>\\n              <td>{{member.email}}</td>\\n              <td>{{member.groupName}}</td>\\n              <td *ngIf=\\\"!deleted && hasVCPerm(permVC.ManagePerm)\\\">\\n                <button class=\\\"Detail\\\" title=\\\"Remove User\\\" (click)='helperRemoveUser(memberIndex)'\\n                data-toggle=\\\"modal\\\" data-target=\\\"#VcUserRemove\\\">&times;</button>\\n              </td>\\n            </tr>\\n          </tbody>\\n          <!--Table body-->\\n        </table>\\n      </div>\\n    </div>\\n  </div>\\n  <div *ngIf=\\\"showGroups\\\" >\\n    <div >\\n      <div class='row'>\\n        <div class='col'>\\n          <h5 class='panel-heading'>\\n              Visbo Center Groups\\n          </h5>\\n        </div>\\n        <div *ngIf=\\\"hasVCPerm(permVC.ManagePerm)\\\" class='col'>\\n          <!-- Button trigger modal -->\\n          <button type=\\\"button\\\" class=\\\"btn btn-primary float-right my-1\\\" (click)=\\\"initGroup(null)\\\" data-toggle=\\\"modal\\\" data-target=\\\"#VcGroupModalCreate\\\">Add Group</button>\\n        </div>\\n      </div>\\n      <div class='panel-body'>\\n        <table class='table table-hover'>\\n          <!--Table head-->\\n          <thead>\\n            <tr>\\n              <th>Nr.</th>\\n              <th (click)=\\\"sortGroupTable(1)\\\">Group</th>\\n              <th (click)=\\\"sortGroupTable(2)\\\">Members</th>\\n              <th >Flag</th>\\n              <th *ngIf=\\\"!deleted && hasVCPerm(permVC.ManagePerm)\\\">Delete</th>\\n              <th>Info</th>\\n            </tr>\\n          </thead>\\n          <!--Table body-->\\n          <tbody>\\n            <tr *ngFor=\\\"let member of vgGroups; let memberIndex=index\\\">\\n              <td>{{memberIndex+1}}</td>\\n              <td>{{member.name}}</td>\\n              <td>{{member.users.length}}</td>\\n              <td *ngIf=\\\"member.global\\\">Global</td>\\n              <td *ngIf=\\\"!member.global\\\"></td>\\n              <td *ngIf=\\\"!deleted && hasVCPerm(permVC.ManagePerm)\\\">\\n                <button class=\\\"Detail\\\" title=\\\"Remove Group\\\" (click)='helperRemoveGroup(memberIndex)'\\n                data-toggle=\\\"modal\\\" data-target=\\\"#VcGroupRemove\\\">&times;</button>\\n              </td>\\n              <td>\\n                <button class=\\\"Detail\\\" title=\\\"Detail of Group\\\"\\n                 (click)='initGroup(member)' data-toggle=\\\"modal\\\" data-target=\\\"#VcGroupModalCreate\\\">i</button>\\n              </td>\\n            </tr>\\n          </tbody>\\n          <!--Table body-->\\n        </table>\\n      </div>\\n    </div>\\n  </div>\\n  <button *ngIf=\\\"!deleted && hasVCPerm(permVC.Modify)\\\" (click)=\\\"save()\\\" class=\\\"btn btn-primary mr-1\\\">save</button>\\n  <button *ngIf=\\\"deleted && hasSystemPerm(permSystem.DeleteVC)\\\" (click)=\\\"save()\\\" class=\\\"btn btn-primary mr-1\\\">Restore</button>\\n  <button class=\\\"btn btn-secondary mr-1\\\" (click)=\\\"goBack()\\\">go back</button>\\n  <button *ngIf=\\\"!deleted && hasSystemPerm(permSystem.DeleteVC)\\\" class=\\\"btn btn-md mx-1 bg-warning\\\" style=\\\"float: right\\\" title=\\\"Delete Visbo Center\\\" data-toggle=\\\"modal\\\" data-target=\\\"#VcDelete\\\">Delete!</button>\\n  <button *ngIf=\\\"deleted && hasSystemPerm(permSystem.DeleteVC)\\\" class=\\\"btn btn-md mx-1 bg-danger text-white\\\" style=\\\"float: right\\\" title=\\\"Destroy Visbo Center\\\" data-toggle=\\\"modal\\\" data-target=\\\"#VcDelete\\\">Destroy!</button>\\n\\n  <!-- Modal Add System User -->\\n  <div class=\\\"modal fade\\\" id=\\\"VcUserModalCreate\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"VcUserModalCreateTitle\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h5 class=\\\"modal-title\\\" id=\\\"VcUserModalCenterTitle\\\">Add a new User to the Visbo Center</h5>\\n          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <form name=\\\"newUserInvite\\\" #f=\\\"ngForm\\\" novalidate>\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !email.valid }\\\">\\n              <label for=\\\"email\\\" class=\\\"col-form-label\\\">Name:</label>\\n              <input type=\\\"email\\\" class=\\\"form-control\\\" name=\\\"email\\\" [(ngModel)]=\\\"newUserInvite.email\\\" #email=\\\"ngModel\\\" required pattern=\\\"[^@\\\\s]+@[^@\\\\s]+\\\\.[^@\\\\s]+\\\" autocomplete=\\\"email\\\">\\n              <div *ngIf=\\\"f.submitted && !email.valid\\\" class=\\\"help-block\\\">E-mail address is required</div>\\n            </div>\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !group.valid }\\\">\\n              <label for=\\\"group\\\" class=\\\"col-form-label\\\">Group:</label>\\n              <select class=\\\"form-control\\\" name=\\\"group\\\" [(ngModel)]=\\\"newUserInvite.groupName\\\" #group=\\\"ngModel\\\" required>\\n                <option></option>\\n                <option *ngFor=\\\"let groupItem of vgGroups\\\">{{groupItem.name}}</option>\\n              </select>\\n              <div *ngIf=\\\"f.submitted && !group.valid\\\" class=\\\"help-block\\\">Group must be defined</div>\\n            </div>\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !inviteMessage.valid }\\\">\\n              <label for=\\\"inviteMessage\\\" class=\\\"col-form-label\\\">Message:</label>\\n              <textarea class=\\\"form-control\\\" name=\\\"inviteMessage\\\" [(ngModel)]=\\\"newUserInvite.inviteMessage\\\" #inviteMessage=\\\"ngModel\\\" > </textarea>\\n            </div>\\n            <div *ngIf=\\\"f.submitted && !inviteMessage.valid\\\" class=\\\"help-block\\\">Error in Message</div>\\n            <div class=\\\"form-group\\\">\\n              <button *ngIf=\\\"!(email.valid && group.valid)\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\" >Invite</button>\\n              <button *ngIf=\\\"email.valid && group.valid\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"addNewVCUser()\\\" data-dismiss=\\\"modal\\\">Invite</button>\\n              <!-- <button *ngIf=\\\"f.form.valid\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"addNewVCUser()\\\" data-dismiss=\\\"modal\\\">Invite</button> -->\\n              <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Cancel</button>\\n            </div>\\n          </form>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <!-- Modal Delete User -->\\n  <div class=\\\"modal fade\\\" id=\\\"VcUserRemove\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"VcUserModalRemoveTitle\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\" *ngIf=\\\"userIndex >= 0 && userIndex < vgUsers.length\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h5 class=\\\"modal-title\\\" id=\\\"VcUserRemoveTitle\\\">Remove User from Visbo Center</h5>\\n          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <div>\\n            <label class=\\\"bg-warning\\\">Do you really want to remove this User from Visbo Center? </label>\\n          </div>\\n          <form>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"VcName\\\" class=\\\"col-form-label\\\">Visbo Center:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ visbocenter.name }} </label>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label class=\\\"col-form-label\\\">User:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ vgUsers[userIndex].email }}</label>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label class=\\\"col-form-label\\\">Group:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ vgUsers[userIndex].groupName }}</label>\\n            </div>\\n          </form>\\n        </div>\\n        <div class=\\\"modal-footer align-items-end\\\">\\n          <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n          <button type=\\\"button\\\" class=\\\"btn btn-warning\\\" (click)=\\\"removeVCUser(vgUsers[userIndex], visbocenter._id)\\\" data-dismiss=\\\"modal\\\">Remove</button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <!-- Modal Add/Change System Group -->\\n  <div class=\\\"modal fade\\\" id=\\\"VcGroupModalCreate\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"VcGroupModalCreateTitle\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\" >\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h5 *ngIf=\\\"actGroup.gid\\\" class=\\\"modal-title\\\" id=\\\"VcGroupModalCenterTitle\\\">Modify a Group in the Visbo Center</h5>\\n          <h5 *ngIf=\\\"!actGroup.gid\\\" class=\\\"modal-title\\\" id=\\\"VcGroupModalCenterTitle\\\">Add a new Group to the Visbo Center</h5>\\n          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <form name=\\\"actGroup\\\" #f=\\\"ngForm\\\" novalidate>\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !email.valid }\\\">\\n              <label for=\\\"groupName\\\" class=\\\"col-form-label\\\">Name:</label>\\n              <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"groupName\\\" [(ngModel)]=\\\"actGroup.groupName\\\" #groupName=\\\"ngModel\\\" required>\\n              <div *ngIf=\\\"f.submitted && !groupName.valid\\\" class=\\\"help-block\\\">Group Name is required</div>\\n            </div>\\n            <!-- VC Permissions -->\\n            <div>Define Visbo Center Permission</div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"perm1\\\" name=\\\"checkedView\\\" [(ngModel)]=\\\"actGroup.checkedView\\\" #checkedView=\\\"ngModel\\\">\\n                <label class=\\\"custom-control-label\\\" for=\\\"perm1\\\">View Visbo Center</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"perm2\\\" name=\\\"checkedViewAudit\\\" [(ngModel)]=\\\"actGroup.checkedViewAudit\\\" #checkedViewAudit=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"perm2\\\">View Audit</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"perm3\\\" name=\\\"checkedModify\\\" [(ngModel)]=\\\"actGroup.checkedModify\\\" #checkedModify=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"perm3\\\">Modify Visbo Center</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"perm4\\\" name=\\\"checkedCreateVP\\\" [(ngModel)]=\\\"actGroup.checkedCreateVP\\\" #checkedCreateVP=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"perm4\\\">Create Visbo Project</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"perm5\\\" name=\\\"checkedManagePerm\\\" [(ngModel)]=\\\"actGroup.checkedManagePerm\\\" #checkedManagePerm=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"perm5\\\">Manage Permissions, Users and Groups</label>\\n            </div>\\n            <br>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"global\\\" name=\\\"checkGlobal\\\" [(ngModel)]=\\\"actGroup.checkGlobal\\\" #checkGlobal=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"global\\\">Group has Access to all Visbo Projects</label>\\n            </div>\\n            <div *ngIf=\\\"actGroup.checkGlobal\\\" >\\n            <!-- VP Permissions -->\\n              <div>Define Visbo Project Permission</div>\\n              <div class=\\\"custom-control custom-checkbox\\\">\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP1\\\" name=\\\"checkedVPView\\\" [(ngModel)]=\\\"actGroup.checkedVPView\\\" #checkedVPView=\\\"ngModel\\\">\\n                  <label class=\\\"custom-control-label\\\" for=\\\"permVP1\\\">View Visbo Project</label>\\n              </div>\\n              <div class=\\\"custom-control custom-checkbox\\\">\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP2\\\" name=\\\"checkedVPViewAudit\\\" [(ngModel)]=\\\"actGroup.checkedVPViewAudit\\\" #checkedVPViewAudit=\\\"ngModel\\\" >\\n                  <label class=\\\"custom-control-label\\\" for=\\\"permVP2\\\">View Project Audit</label>\\n              </div>\\n              <div class=\\\"custom-control custom-checkbox\\\">\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP3\\\" name=\\\"checkedVPModify\\\" [(ngModel)]=\\\"actGroup.checkedVPModify\\\" #checkedVPModify=\\\"ngModel\\\" >\\n                  <label class=\\\"custom-control-label\\\" for=\\\"permVP3\\\">Modify Visbo Project</label>\\n              </div>\\n              <div class=\\\"custom-control custom-checkbox\\\">\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP4\\\" name=\\\"checkedCreateVariant\\\" [(ngModel)]=\\\"actGroup.checkedCreateVariant\\\" #checkedCreateVariant=\\\"ngModel\\\" >\\n                  <label class=\\\"custom-control-label\\\" for=\\\"permVP4\\\">Create Visbo Project Variant</label>\\n              </div>\\n              <div class=\\\"custom-control custom-checkbox\\\">\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP5\\\" name=\\\"checkedVPManagePerm\\\" [(ngModel)]=\\\"actGroup.checkedVPManagePerm\\\" #checkedVPManagePerm=\\\"ngModel\\\" >\\n                  <label class=\\\"custom-control-label\\\" for=\\\"permVP5\\\">Manage Permissions, Users and Groups</label>\\n              </div>\\n              <div class=\\\"custom-control custom-checkbox\\\">\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP6\\\" name=\\\"checkedVPDelete\\\" [(ngModel)]=\\\"actGroup.checkedVPDelete\\\" #checkedVPDelete=\\\"ngModel\\\" >\\n                  <label class=\\\"custom-control-label\\\" for=\\\"permVP6\\\">Delete Visbo Project</label>\\n              </div>\\n            </div>\\n\\n            <div class=\\\"form-group\\\">\\n              <button *ngIf=\\\"!(f.form.valid && !deleted && hasVCPerm(permVC.ManagePerm))\\\" type=\\\"submit\\\" class=\\\"btn btn-primary disabled\\\" >{{this.actGroup.confirm}}</button>\\n              <button *ngIf=\\\"(f.form.valid && !deleted && hasVCPerm(permVC.ManagePerm))\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"addModifyVCGroup()\\\" data-dismiss=\\\"modal\\\">{{this.actGroup.confirm}}</button>\\n              <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Cancel</button>\\n            </div>\\n          </form>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <!-- Modal Delete Group -->\\n  <div class=\\\"modal fade\\\" id=\\\"VcGroupRemove\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"VcGroupModalRemoveTitle\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\" *ngIf=\\\"groupIndex >= 0 && groupIndex < vgGroups.length\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h5 class=\\\"modal-title\\\" id=\\\"VcUserRemoveTitle\\\">Remove Group from Visbo Center</h5>\\n          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <div>\\n            <label class=\\\"bg-warning\\\">Do you really want to remove this Group from Visbo Center? </label>\\n          </div>\\n          <form>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"VcName\\\" class=\\\"col-form-label\\\">Visbo Center:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ visbocenter.name }} </label>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label class=\\\"col-form-label\\\">Group:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ vgGroups[groupIndex].name }}</label>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label class=\\\"col-form-label\\\">Members:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ vgGroups[groupIndex].users.length }}</label>\\n            </div>\\n          </form>\\n        </div>\\n        <div class=\\\"modal-footer align-items-end\\\">\\n          <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n          <button type=\\\"button\\\" class=\\\"btn btn-warning\\\" (click)=\\\"removeVCGroup(vgGroups[groupIndex])\\\" data-dismiss=\\\"modal\\\">Remove</button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <!-- Modal Delete VC -->\\n  <div class=\\\"modal fade\\\" id=\\\"VcDelete\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"Delete Visbo Center\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h5 class=\\\"modal-title\\\" id=\\\"VcDeleteTitle\\\">Delete this Visbo Center</h5>\\n          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <div>\\n            <label *ngIf=\\\"!deleted\\\" class=\\\"bg-warning\\\">Do you really want to delete this Visbo Center? </label>\\n            <label *ngIf=\\\"deleted\\\" class=\\\"bg-danger text-white\\\">Do you really want to destroy this Visbo Center? </label>\\n          </div>\\n          <form>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"VcName\\\" class=\\\"col-form-label\\\">Name:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ visbocenter.name }} </label>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"VcDescription\\\" class=\\\"col-form-label\\\">Description:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ visbocenter.description }} </label>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"VcProjects\\\" class=\\\"col-form-label\\\">Projects:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ visbocenter.vpCount }} </label>\\n            </div>\\n          </form>\\n        </div>\\n        <div class=\\\"modal-footer align-items-end\\\">\\n          <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n          <button *ngIf=\\\"!deleted\\\" type=\\\"button\\\" class=\\\"btn btn-warning text-white\\\" (click)=\\\"delete(visbocenter)\\\" data-dismiss=\\\"modal\\\">Delete</button>\\n          <button *ngIf=\\\"deleted\\\" type=\\\"button\\\" class=\\\"btn btn-danger text-white\\\" (click)=\\\"delete(visbocenter)\\\" data-dismiss=\\\"modal\\\">Destroy</button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n</div>\\n\"","export default \"<sysvisbo-navbar></sysvisbo-navbar>\\n<div class='well'>\\n  <div class='row'>\\n    <div class='col'>\\n      <h2 class='panel-heading ml-0'>\\n        Visbo Centers\\n      </h2>\\n    </div>\\n    <div *ngIf=\\\"hasSystemPerm(permSystem.DeleteVC)\\\" class='btn-group'>\\n        <button *ngIf=\\\"!deleted\\\" type=\\\"button\\\" class=\\\"m-1 btn btn-secondary\\\" (click)=\\\"toggleVisboCenters()\\\">Show Deleted</button>\\n        <button *ngIf=\\\"deleted\\\" type=\\\"button\\\" class=\\\"m-1 btn btn-secondary\\\" (click)=\\\"toggleVisboCenters()\\\">Show Existing</button>\\n        <button *ngIf=\\\"hasSystemPerm(permSystem.CreateVC)\\\" type=\\\"button\\\" class=\\\"m-1 btn btn-primary\\\" data-toggle=\\\"modal\\\" data-target=\\\"#VcModalCreate\\\">Create New</button>\\n    </div>\\n  </div>\\n\\n  <div class='panel-body'>\\n    <table class='table table-hover table-sortable'>\\n      <!--Table head-->\\n      <thead>\\n        <tr>\\n          <th class=\\\"d-none d-md-table-cell\\\">Nr.</th>\\n          <th (click)=\\\"sortVCTable(1)\\\">Name</th>\\n          <th class=\\\"d-none d-sm-table-cell\\\" (click)=\\\"sortVCTable(2)\\\">Modified</th>\\n          <th class=\\\"d-none d-md-table-cell\\\" (click)=\\\"sortVCTable(3)\\\"># Projects</th>\\n          <th>Detail</th>\\n        </tr>\\n      </thead>\\n      <!--Table body-->\\n      <tbody>\\n\\n        <tr *ngFor=\\\"let vc of visbocenters; let vcIndex=index\\\" (click)=\\\"gotoClickedRow(vc)\\\" >\\n          <td class=\\\"d-none d-md-table-cell\\\">{{vcIndex+1}}</td>\\n          <td>{{vc.name}}</td>\\n          <td class=\\\"d-none d-md-table-cell\\\">{{vc.updatedAt | date :'dd.MM.yyyy HH:mm'}}</td>\\n          <td class=\\\"d-none d-sm-table-cell d-md-none\\\">{{vc.updatedAt | date :'dd.MM.yy'}}</td>\\n          <td class=\\\"d-none d-md-table-cell\\\">{{vc.vpCount}}</td>\\n          <td>\\n            <button class=\\\"Detail\\\" title=\\\"Detail of Visbo Center\\\"\\n            (click)=\\\"gotoDetail(vc)\\\">i</button>\\n          </td>\\n        </tr>\\n      </tbody>\\n    </table>\\n  </div>\\n</div>\\n\\n<!-- Modal VC Create-->\\n<div class=\\\"modal fade\\\" id=\\\"VcModalCreate\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"VcModalCreateTitle\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"VcModalCenterTitle\\\">Create a new Visbo Center</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <form>\\n          <div class=\\\"form-group\\\">\\n            <label for=\\\"vcName\\\" class=\\\"col-form-label\\\">Name:</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" #vcName>\\n          </div>\\n          <div class=\\\"form-group\\\">\\n            <label for=\\\"vcDescription\\\" class=\\\"col-form-label\\\">Description:</label>\\n            <textarea class=\\\"form-control\\\" #vcDescription></textarea>\\n          </div>\\n        </form>\\n      </div>\\n      <div class=\\\"modal-footer align-items-end\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"add(vcName.value, vcDescription.value); vcName.value=''; vcDescription.value=''\\\" data-dismiss=\\\"modal\\\">Save</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<sysvisbo-navbar></sysvisbo-navbar>\\n<div *ngIf=\\\"visboproject\\\">\\n  <div class='container'>\\n    <h3>Project: <a (click)=\\\"gotoVPList(visboproject)\\\">{{ visboproject.name | uppercase }}</a></h3>\\n    <h5>Visbo Center:\\n      <a (click)=\\\"gotoVCDetail(visboproject)\\\">{{ visboproject.vc.name }}</a>\\n    </h5>\\n    <form>\\n      <div class=\\\"form-group row\\\">\\n        <label for=\\\"vpName\\\" class=\\\"col-4 col-md-3 col-form-label\\\">Name:</label>\\n        <label class=\\\"col-8 form-control-static\\\">{{ visboproject.name }} </label>\\n      </div>\\n      <div class=\\\"form-group row\\\">\\n        <label for=\\\"vpDescription\\\" class=\\\"col-4 col-md-3 col-form-label\\\">Description:</label>\\n        <label class=\\\"col-8 form-control-static\\\">{{ visboproject.description }} </label>\\n      </div>\\n\\n      <div class=\\\"form-group row\\\">\\n        <label for=\\\"Created\\\" class=\\\"col-4 col-md-3 col-form-label\\\">Created / Updated at:</label>\\n        <label class=\\\"col form-control-static col-form-label\\\">{{ visboproject.createdAt | date :'dd.MM.yyyy HH:mm:ss'}} </label>\\n        <label class=\\\"col form-control-static col-form-label\\\">{{ visboproject.updatedAt | date :'dd.MM.yyyy HH:mm:ss'}} </label>\\n      </div>\\n    </form>\\n    <div class=\\\"btn-toolbar\\\" style=\\\"\\\">\\n      <button *ngIf=\\\"hasSystemPerm(permSystem.ViewAudit)\\\" type=\\\"button\\\" class=\\\"btn btn-md btn-light mr-1\\\" (click)=\\\"gotoVPAudit(visboproject)\\\">View Audit</button>\\n      <button *ngIf=\\\"!showGroups\\\" type=\\\"button\\\" class=\\\"btn btn-md btn-light mx-1\\\" (click)=\\\"toggleUserGroup()\\\">Show Groups</button>\\n      <button *ngIf=\\\"showGroups\\\" type=\\\"button\\\" class=\\\"btn btn-md btn-light mx-1\\\" (click)=\\\"toggleUserGroup()\\\">Show Users</button>\\n    </div>\\n\\n    <div *ngIf=\\\"!showGroups\\\" >\\n      <div >\\n        <div class='row'>\\n          <div class='col'>\\n            <h5 class='panel-heading'>\\n                Visbo Project Users\\n            </h5>\\n          </div>\\n        </div>\\n        <div class='panel-body'>\\n          <table class='table table-hover'>\\n            <!--Table head-->\\n            <thead>\\n              <tr>\\n                <th>Nr.</th>\\n                <th (click)=\\\"sortUserTable(1)\\\">e-mail</th>\\n                <th (click)=\\\"sortUserTable(2)\\\">Group</th>\\n              </tr>\\n            </thead>\\n            <!--Table body-->\\n            <tbody>\\n              <tr *ngFor=\\\"let member of vgUsers; let memberIndex=index\\\"> <!-- class=\\\"danger\\\"> -->\\n                <td>{{memberIndex+1}}</td>\\n                <td>{{member.email}}</td>\\n                <td>{{member.groupName}}</td>\\n              </tr>\\n            </tbody>\\n            <!--Table body-->\\n          </table>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div *ngIf=\\\"showGroups\\\" >\\n      <div >\\n        <div class='row'>\\n          <div class='col'>\\n            <h5 class='panel-heading'>\\n                Visbo Project Groups\\n            </h5>\\n          </div>\\n        </div>\\n        <div class='panel-body'>\\n          <table class='table table-hover'>\\n            <!--Table head-->\\n            <thead>\\n              <tr>\\n                <th>Nr.</th>\\n                <th (click)=\\\"sortGroupTable(1)\\\">Group</th>\\n                <th (click)=\\\"sortGroupTable(2)\\\">Members</th>\\n                <th >Flag</th>\\n                <th>Info</th>\\n              </tr>\\n            </thead>\\n            <!--Table body-->\\n            <tbody>\\n              <tr *ngFor=\\\"let member of vgGroups; let memberIndex=index\\\">\\n                <td>{{memberIndex+1}}</td>\\n                <td>{{member.name}}</td>\\n                <td>{{member.users.length}}</td>\\n                <td *ngIf=\\\"member.global\\\">Global</td>\\n                <td *ngIf=\\\"!member.global\\\"></td>\\n                <td>\\n                  <button class=\\\"Detail\\\" title=\\\"Detail of Group\\\"\\n                   (click)='initGroup(member)' data-toggle=\\\"modal\\\" data-target=\\\"#VpGroupModalCreate\\\">i</button>\\n                </td>\\n              </tr>\\n            </tbody>\\n            <!--Table body-->\\n          </table>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n\\n  <!-- Modal Add/Change System Group -->\\n  <div class=\\\"modal fade\\\" id=\\\"VpGroupModalCreate\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"VpGroupModalCreateTitle\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\" >\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h5 *ngIf=\\\"actGroup.gid\\\" class=\\\"modal-title\\\" id=\\\"VpGroupModalCenterTitle\\\">Modify a Group in the Visbo Center</h5>\\n          <h5 *ngIf=\\\"!actGroup.gid\\\" class=\\\"modal-title\\\" id=\\\"VpGroupModalCenterTitle\\\">Add a new Group to the Visbo Center</h5>\\n          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <form name=\\\"actGroup\\\" #f=\\\"ngForm\\\" novalidate>\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !groupName.valid }\\\">\\n              <label for=\\\"groupName\\\" class=\\\"col-form-label\\\">Name:</label>\\n              <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"groupName\\\" [(ngModel)]=\\\"actGroup.groupName\\\" #groupName=\\\"ngModel\\\" required>\\n              <div *ngIf=\\\"f.submitted && !groupName.valid\\\" class=\\\"help-block\\\">Group Name is required</div>\\n            </div>\\n            <!-- VP Permissions -->\\n            <div>\\n              <div>Define Visbo Project Permission</div>\\n              <div class=\\\"custom-control custom-checkbox\\\">\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP1\\\" name=\\\"checkedVPView\\\" [(ngModel)]=\\\"actGroup.checkedVPView\\\" #checkedVPView=\\\"ngModel\\\">\\n                  <label class=\\\"custom-control-label\\\" for=\\\"permVP1\\\">View Visbo Project</label>\\n              </div>\\n              <div class=\\\"custom-control custom-checkbox\\\">\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP2\\\" name=\\\"checkedVPViewAudit\\\" [(ngModel)]=\\\"actGroup.checkedVPViewAudit\\\" #checkedVPViewAudit=\\\"ngModel\\\" >\\n                  <label class=\\\"custom-control-label\\\" for=\\\"permVP2\\\">View Project Audit</label>\\n              </div>\\n              <div class=\\\"custom-control custom-checkbox\\\">\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP3\\\" name=\\\"checkedVPModify\\\" [(ngModel)]=\\\"actGroup.checkedVPModify\\\" #checkedVPModify=\\\"ngModel\\\" >\\n                  <label class=\\\"custom-control-label\\\" for=\\\"permVP3\\\">Modify Visbo Project</label>\\n              </div>\\n              <div class=\\\"custom-control custom-checkbox\\\">\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP4\\\" name=\\\"checkedCreateVariant\\\" [(ngModel)]=\\\"actGroup.checkedCreateVariant\\\" #checkedCreateVariant=\\\"ngModel\\\" >\\n                  <label class=\\\"custom-control-label\\\" for=\\\"permVP4\\\">Create Visbo Project Variant</label>\\n              </div>\\n              <div class=\\\"custom-control custom-checkbox\\\">\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP5\\\" name=\\\"checkedVPManagePerm\\\" [(ngModel)]=\\\"actGroup.checkedVPManagePerm\\\" #checkedVPManagePerm=\\\"ngModel\\\" >\\n                  <label class=\\\"custom-control-label\\\" for=\\\"permVP5\\\">Manage Permissions, Users and Groups</label>\\n              </div>\\n              <div class=\\\"custom-control custom-checkbox\\\">\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP6\\\" name=\\\"checkedVPDelete\\\" [(ngModel)]=\\\"actGroup.checkedVPDelete\\\" #checkedVPDelete=\\\"ngModel\\\" >\\n                  <label class=\\\"custom-control-label\\\" for=\\\"permVP6\\\">Delete Visbo Project</label>\\n              </div>\\n            </div>\\n\\n            <div class=\\\"form-group\\\">\\n              <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Cancel</button>\\n            </div>\\n          </form>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n</div>\\n\"","export default \"<sysvisbo-navbar></sysvisbo-navbar>\\n<div class='well'>\\n  <div class='row'>\\n    <div class='col'>\\n      <h2 *ngIf=\\\"!vcActive\\\">\\n        Projects\\n      </h2>\\n      <h2 *ngIf=\\\"vcActive\\\">\\n        Projects in: <a (click)=\\\"gotoVCDetail(vcActive)\\\">{{vcActive.name}}</a>\\n      </h2>\\n    </div>\\n  </div>\\n\\n  <div class='panel-body'>\\n    <table class='table table-hover table-sortable'>\\n      <!--Table head-->\\n      <thead>\\n        <tr>\\n          <th class=\\\"d-none d-md-table-cell\\\">Nr.</th>\\n          <th (click)=\\\"sortVPTable(1)\\\">Name</th>\\n          <th class=\\\"d-none d-sm-table-cell\\\" (click)=\\\"sortVPTable(2)\\\">Modified</th>\\n          <th class=\\\"d-none d-md-table-cell\\\" (click)=\\\"sortVPTable(4)\\\"># Versions</th>\\n          <th class=\\\"d-none d-lg-table-cell\\\" (click)=\\\"sortVPTable(3)\\\">Visbo Center</th>\\n          <th>Info</th>\\n        </tr>\\n      </thead>\\n      <!--Table body-->\\n      <tbody>\\n        <tr *ngFor=\\\"let vp of visboprojects; let vpIndex=index\\\" (click)=\\\"gotoClickedRow(vp)\\\">\\n          <td class=\\\"d-none d-md-table-cell\\\">{{vpIndex+1}}</td>\\n          <td>{{vp.name}}</td>\\n          <td class=\\\"d-none d-lg-table-cell\\\">{{vp.updatedAt | date :'dd.MM.yyyy HH:mm'}}</td>\\n          <td class=\\\"d-none d-md-table-cell d-lg-none\\\">{{vp.updatedAt | date :'dd.MM.yy'}}</td>\\n          <td class=\\\"d-none d-md-table-cell\\\">{{vp.vpvCount}}</td>\\n          <td class=\\\"d-none d-lg-table-cell\\\" *ngIf=\\\"vp.vc\\\">{{vp.vc.name}}</td>\\n          <td class=\\\"d-none d-lg-table-cell\\\" *ngIf=\\\"!vp.vc\\\"> </td>\\n          <td>\\n            <button class=\\\"Detail\\\" title=\\\"Detail of Visbo Project\\\"\\n            (click)=\\\"gotoDetail(vp)\\\">i</button>\\n          </td>\\n        </tr>\\n      </tbody>\\n      <!--Table body-->\\n    </table>\\n  </div>\\n</div>\\n\"","export default \"<sysvisbo-navbar></sysvisbo-navbar>\\n<div *ngIf=\\\"visbocenter\\\">\\n  <h3>System: {{ visbocenter.name | uppercase }}</h3>\\n  <!-- <form>\\n    <div class=\\\"form-group row\\\">\\n      <label for=\\\"Updated\\\" class=\\\"col-4 col-md-3 col-form-label\\\">Updated at:</label>\\n      <label class=\\\"col-8 col-form-label\\\">{{ visbocenter.updatedAt | date :'dd.MM.yyyy HH:mm:ss'}} </label>\\n    </div>\\n  </form> -->\\n  <div class=\\\"btn-toolbar\\\" style=\\\"\\\">\\n    <button *ngIf=\\\"!showGroups\\\" type=\\\"button\\\" class=\\\"btn btn-md btn-light mx-1\\\" (click)=\\\"toggleUserGroup()\\\">Show Groups</button>\\n    <button *ngIf=\\\"showGroups\\\" type=\\\"button\\\" class=\\\"btn btn-md btn-light mx-1\\\" (click)=\\\"toggleUserGroup()\\\">Show Users</button>\\n  </div>\\n  <div *ngIf=\\\"!showGroups\\\" >\\n    <div >\\n      <div class='row'>\\n        <div class='col'>\\n          <h5 class='panel-heading'>\\n              Visbo System Users\\n          </h5>\\n        </div>\\n        <div *ngIf=\\\"hasSystemPerm(permSystem.ManagePerm)\\\" class='col'>\\n          <button type=\\\"button\\\" class=\\\"btn btn-primary float-right my-1\\\" data-toggle=\\\"modal\\\" data-target=\\\"#VcUserModalCreate\\\">Add User</button>\\n        </div>\\n      </div>\\n      <div class='panel-body'>\\n        <table class='table table-hover'>\\n          <!--Table head-->\\n          <thead>\\n            <tr>\\n              <th>Nr.</th>\\n              <th (click)=\\\"sortUserTable(1)\\\">e-mail</th>\\n              <th (click)=\\\"sortUserTable(2)\\\">Group</th>\\n              <th *ngIf=\\\"hasSystemPerm(permSystem.ManagePerm)\\\">Delete</th>\\n            </tr>\\n          </thead>\\n          <!--Table body-->\\n          <tbody>\\n            <tr *ngFor=\\\"let member of vcUsers; let memberIndex=index\\\"> <!-- class=\\\"danger\\\"> -->\\n              <td>{{memberIndex+1}}</td>\\n              <td>{{member.email}}</td>\\n              <td>{{member.groupName}}</td>\\n              <td *ngIf=\\\"hasSystemPerm(permSystem.ManagePerm)\\\">\\n                <button class=\\\"Detail\\\" title=\\\"Remove User\\\" (click)='helperRemoveUser(memberIndex)'\\n                data-toggle=\\\"modal\\\" data-target=\\\"#VcUserRemove\\\">&times;</button>\\n              </td>\\n            </tr>\\n          </tbody>\\n          <!--Table body-->\\n        </table>\\n      </div>\\n    </div>\\n  </div>\\n  <div *ngIf=\\\"showGroups\\\" >\\n    <div >\\n      <div class='row'>\\n        <div class='col'>\\n          <h5 class='panel-heading'>\\n              Visbo System Groups\\n          </h5>\\n        </div>\\n        <div *ngIf=\\\"hasSystemPerm(permSystem.ManagePerm)\\\" class='col'>\\n          <!-- Button trigger modal -->\\n          <button type=\\\"button\\\" class=\\\"btn btn-primary float-right my-1\\\" (click)=\\\"initGroup(null)\\\" data-toggle=\\\"modal\\\" data-target=\\\"#VcGroupModalCreate\\\">Add Group</button>\\n        </div>\\n      </div>\\n      <div class='panel-body'>\\n        <table class='table table-hover'>\\n          <!--Table head-->\\n          <thead>\\n            <tr>\\n              <th>Nr.</th>\\n              <th (click)=\\\"sortGroupTable(1)\\\">Group</th>\\n              <th (click)=\\\"sortGroupTable(2)\\\">Members</th>\\n              <th >Flag</th>\\n              <th *ngIf=\\\"hasSystemPerm(permSystem.ManagePerm)\\\">Delete</th>\\n              <th>Info</th>\\n            </tr>\\n          </thead>\\n          <!--Table body-->\\n          <tbody>\\n            <tr *ngFor=\\\"let member of vcGroups; let memberIndex=index\\\">\\n              <td>{{memberIndex+1}}</td>\\n              <td>{{member.name}}</td>\\n              <td>{{member.users.length}}</td>\\n              <td *ngIf=\\\"member.global\\\">Global</td>\\n              <td *ngIf=\\\"!member.global\\\"></td>\\n              <td *ngIf=\\\"hasSystemPerm(permSystem.ManagePerm)\\\">\\n                <button class=\\\"Detail\\\" title=\\\"Remove Group\\\" (click)='helperRemoveGroup(memberIndex)'\\n                data-toggle=\\\"modal\\\" data-target=\\\"#VcGroupRemove\\\">&times;</button>\\n              </td>\\n              <td>\\n                <button class=\\\"Detail\\\" title=\\\"Detail of Group\\\"\\n                 (click)='initGroup(member)' data-toggle=\\\"modal\\\" data-target=\\\"#VcGroupModalCreate\\\">i</button>\\n              </td>\\n            </tr>\\n          </tbody>\\n          <!--Table body-->\\n        </table>\\n      </div>\\n    </div>\\n  </div>\\n\\n<!-- Modal Add VC User -->\\n<div class=\\\"modal fade\\\" id=\\\"VcUserModalCreate\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"VcUserModalCreateTitle\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"VcUserModalCenterTitle\\\">Add a new User to the Visbo System</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <form name=\\\"newUserInvite\\\" #f=\\\"ngForm\\\" novalidate>\\n          <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !email.valid }\\\">\\n            <label for=\\\"email\\\" class=\\\"col-form-label\\\">Name:</label>\\n            <input type=\\\"email\\\" class=\\\"form-control\\\" name=\\\"email\\\" [(ngModel)]=\\\"newUserInvite.email\\\" #email=\\\"ngModel\\\" required pattern=\\\"[^@\\\\s]+@[^@\\\\s]+\\\\.[^@\\\\s]+\\\" autocomplete=\\\"email\\\">\\n            <div *ngIf=\\\"f.submitted && !email.valid\\\" class=\\\"help-block\\\">E-mail address is required</div>\\n          </div>\\n          <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !group.valid }\\\">\\n            <label for=\\\"group\\\" class=\\\"col-form-label\\\">Group:</label>\\n            <select class=\\\"form-control\\\" name=\\\"group\\\" [(ngModel)]=\\\"newUserInvite.groupName\\\" #group=\\\"ngModel\\\" required>\\n              <option></option>\\n              <option *ngFor=\\\"let groupItem of vcGroups\\\">{{groupItem.name}}</option>\\n            </select>\\n            <div *ngIf=\\\"f.submitted && !group.valid\\\" class=\\\"help-block\\\">Group must be defined</div>\\n          </div>\\n          <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !inviteMessage.valid }\\\">\\n            <label for=\\\"inviteMessage\\\" class=\\\"col-form-label\\\">Message:</label>\\n            <textarea class=\\\"form-control\\\" name=\\\"inviteMessage\\\" [(ngModel)]=\\\"newUserInvite.inviteMessage\\\" #inviteMessage=\\\"ngModel\\\" > </textarea>\\n          </div>\\n          <div *ngIf=\\\"f.submitted && !inviteMessage.valid\\\" class=\\\"help-block\\\">Error in Message</div>\\n          <div class=\\\"modal-footer align-items-end\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Cancel</button>\\n            <button *ngIf=\\\"!(email.valid && group.valid)\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\">Invite</button>\\n            <button *ngIf=\\\"email.valid && group.valid\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"addNewVCUser()\\\" data-dismiss=\\\"modal\\\">Invite</button>\\n          </div>\\n        </form>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<!-- Modal Delete User -->\\n<div class=\\\"modal fade\\\" id=\\\"VcUserRemove\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"VcUserModalRemoveTitle\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\" *ngIf=\\\"userIndex >= 0 && userIndex < vcUsers.length\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"VcUserRemoveTitle\\\">Remove User from Visbo System</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <div>\\n          <label class=\\\"bg-warning\\\">Do you really want to remove this User from Visbo System? </label>\\n        </div>\\n        <form>\\n          <div class=\\\"form-group\\\">\\n            <label for=\\\"VcName\\\" class=\\\"col-form-label\\\">Visbo Center:</label>\\n            <label class=\\\"col-8 form-control-static\\\">{{ visbocenter.name }} </label>\\n          </div>\\n          <div class=\\\"form-group\\\">\\n            <label class=\\\"col-form-label\\\">User:</label>\\n            <label class=\\\"col-8 form-control-static\\\">{{ vcUsers[userIndex].email }}</label>\\n          </div>\\n          <div class=\\\"form-group\\\">\\n            <label class=\\\"col-form-label\\\">Group:</label>\\n            <label class=\\\"col-8 form-control-static\\\">{{ vcUsers[userIndex].groupName }}</label>\\n          </div>\\n        </form>\\n      </div>\\n      <div class=\\\"modal-footer align-items-end\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-warning\\\" (click)=\\\"removeVCUser(vcUsers[userIndex], visbocenter._id)\\\" data-dismiss=\\\"modal\\\">Remove</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<!-- Modal Add/Change VC Group -->\\n<div class=\\\"modal fade\\\" id=\\\"VcGroupModalCreate\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"VcGroupModalCreateTitle\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\" >\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 *ngIf=\\\"actGroup.gid\\\" class=\\\"modal-title\\\" id=\\\"VcGroupModalCenterTitle\\\">Modify a Group in the Visbo System</h5>\\n        <h5 *ngIf=\\\"!actGroup.gid\\\" class=\\\"modal-title\\\" id=\\\"VcGroupModalCenterTitle\\\">Add a new Group to the Visbo System</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <form name=\\\"actGroup\\\" #f=\\\"ngForm\\\" novalidate>\\n          <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !email.valid }\\\">\\n            <label for=\\\"groupName\\\" class=\\\"col-form-label\\\">Name:</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"groupName\\\" [(ngModel)]=\\\"actGroup.groupName\\\" #groupName=\\\"ngModel\\\" required>\\n            <div *ngIf=\\\"f.submitted && !groupName.valid\\\" class=\\\"help-block\\\">Group Name is required</div>\\n          </div>\\n          <!-- System Permissions -->\\n          <div>Define System Permission</div>\\n          <div class=\\\"custom-control custom-checkbox\\\">\\n              <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"sysperm1\\\" name=\\\"checkedSystemView\\\" [(ngModel)]=\\\"actGroup.checkedSystemView\\\" #checkedSystemView=\\\"ngModel\\\">\\n              <label class=\\\"custom-control-label\\\" for=\\\"sysperm1\\\">View Visbo Center</label>\\n          </div>\\n          <div class=\\\"custom-control custom-checkbox\\\">\\n              <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"sysperm2\\\" name=\\\"checkedSystemViewAudit\\\" [(ngModel)]=\\\"actGroup.checkedSystemViewAudit\\\" #checkedSystemViewAudit=\\\"ngModel\\\" >\\n              <label class=\\\"custom-control-label\\\" for=\\\"sysperm2\\\">View Audit</label>\\n          </div>\\n          <div class=\\\"custom-control custom-checkbox\\\">\\n              <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"sysperm3\\\" name=\\\"checkedSystemViewLog\\\" [(ngModel)]=\\\"actGroup.checkedSystemViewLog\\\" #checkedSystemViewLog=\\\"ngModel\\\" >\\n              <label class=\\\"custom-control-label\\\" for=\\\"sysperm3\\\">View Log Files</label>\\n          </div>\\n          <div class=\\\"custom-control custom-checkbox\\\">\\n              <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"sysperm3a\\\" name=\\\"checkedSystemModify\\\" [(ngModel)]=\\\"actGroup.checkedSystemModify\\\" #checkedSystemModify=\\\"ngModel\\\" >\\n              <label class=\\\"custom-control-label\\\" for=\\\"sysperm3a\\\">Modify System</label>\\n          </div>\\n          <div class=\\\"custom-control custom-checkbox\\\">\\n              <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"sysperm4\\\" name=\\\"checkedSystemCreateVC\\\" [(ngModel)]=\\\"actGroup.checkedSystemCreateVC\\\" #checkedSystemCreateVC=\\\"ngModel\\\" >\\n              <label class=\\\"custom-control-label\\\" for=\\\"sysperm4\\\">Create Visbo Center</label>\\n          </div>\\n          <div class=\\\"custom-control custom-checkbox\\\">\\n              <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"sysperm5\\\" name=\\\"checkedSystemDeleteVC\\\" [(ngModel)]=\\\"actGroup.checkedSystemDeleteVC\\\" #checkedSystemDeleteVC=\\\"ngModel\\\" >\\n              <label class=\\\"custom-control-label\\\" for=\\\"sysperm5\\\">Delete Visbo Center</label>\\n          </div>\\n          <div class=\\\"custom-control custom-checkbox\\\">\\n              <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"sysperm6\\\" name=\\\"checkedSystemManagePerm\\\" [(ngModel)]=\\\"actGroup.checkedSystemManagePerm\\\" #checkedSystemManagePerm=\\\"ngModel\\\" >\\n              <label class=\\\"custom-control-label\\\" for=\\\"sysperm6\\\">Manage Permissions, Users and Groups</label>\\n          </div>\\n          <br>\\n          <div class=\\\"custom-control custom-checkbox\\\">\\n              <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"global\\\" name=\\\"checkGlobal\\\" [(ngModel)]=\\\"actGroup.checkGlobal\\\" #checkGlobal=\\\"ngModel\\\" >\\n              <label class=\\\"custom-control-label\\\" for=\\\"global\\\">Group has Access to all Visbo Centers / Projects</label>\\n          </div>\\n          <div *ngIf=\\\"actGroup.checkGlobal\\\" >\\n            <!-- VC Permissions -->\\n            <div>Define Visbo Center Permission</div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"perm1\\\" name=\\\"checkedView\\\" [(ngModel)]=\\\"actGroup.checkedView\\\" #checkedView=\\\"ngModel\\\">\\n                <label class=\\\"custom-control-label\\\" for=\\\"perm1\\\">View Visbo Center</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"perm2\\\" name=\\\"checkedViewAudit\\\" [(ngModel)]=\\\"actGroup.checkedViewAudit\\\" #checkedViewAudit=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"perm2\\\">View Audit</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"perm3\\\" name=\\\"checkedModify\\\" [(ngModel)]=\\\"actGroup.checkedModify\\\" #checkedModify=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"perm3\\\">Modify Visbo Center</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"perm4\\\" name=\\\"checkedCreateVP\\\" [(ngModel)]=\\\"actGroup.checkedCreateVP\\\" #checkedCreateVP=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"perm4\\\">Create Visbo Project</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"perm5\\\" name=\\\"checkedManagePerm\\\" [(ngModel)]=\\\"actGroup.checkedManagePerm\\\" #checkedManagePerm=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"perm5\\\">Manage Permissions, Users and Groups</label>\\n            </div>\\n            <!-- VP Permissions -->\\n            <div>Define Visbo Project Permission</div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP1\\\" name=\\\"checkedVPView\\\" [(ngModel)]=\\\"actGroup.checkedVPView\\\" #checkedVPView=\\\"ngModel\\\">\\n                <label class=\\\"custom-control-label\\\" for=\\\"permVP1\\\">View Visbo Project</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP2\\\" name=\\\"checkedVPViewAudit\\\" [(ngModel)]=\\\"actGroup.checkedVPViewAudit\\\" #checkedVPViewAudit=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"permVP2\\\">View Project Audit</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP3\\\" name=\\\"checkedVPModify\\\" [(ngModel)]=\\\"actGroup.checkedVPModify\\\" #checkedVPModify=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"permVP3\\\">Modify Visbo Project</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP4\\\" name=\\\"checkedCreateVariant\\\" [(ngModel)]=\\\"actGroup.checkedCreateVariant\\\" #checkedCreateVariant=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"permVP4\\\">Create Visbo Project Variant</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP5\\\" name=\\\"checkedVPManagePerm\\\" [(ngModel)]=\\\"actGroup.checkedVPManagePerm\\\" #checkedVPManagePerm=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"permVP5\\\">Manage Permissions, Users and Groups</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP6\\\" name=\\\"checkedVPDelete\\\" [(ngModel)]=\\\"actGroup.checkedVPDelete\\\" #checkedVPDelete=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"permVP6\\\">Delete Visbo Project</label>\\n            </div>\\n          </div>\\n\\n          <div class=\\\"form-group\\\">\\n            <button *ngIf=\\\"!(f.form.valid && hasSystemPerm(permSystem.ManagePerm))\\\" type=\\\"submit\\\" class=\\\"btn btn-primary disabled\\\" >{{this.actGroup.confirm}}</button>\\n            <button *ngIf=\\\"(f.form.valid && hasSystemPerm(permSystem.ManagePerm))\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"addModifyVCGroup()\\\" data-dismiss=\\\"modal\\\">{{this.actGroup.confirm}}</button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Cancel</button>\\n          </div>\\n        </form>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<!-- Modal Delete Group -->\\n<div class=\\\"modal fade\\\" id=\\\"VcGroupRemove\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"VcGroupModalRemoveTitle\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\" *ngIf=\\\"groupIndex >= 0 && groupIndex < vcGroups.length\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"VcUserRemoveTitle\\\">Remove Group from Visbo System</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <div>\\n          <label class=\\\"bg-warning\\\">Do you really want to remove this Group from Visbo System? </label>\\n        </div>\\n        <form>\\n          <div class=\\\"form-group\\\">\\n            <label for=\\\"VcName\\\" class=\\\"col-form-label\\\">Visbo Center:</label>\\n            <label class=\\\"col-8 form-control-static\\\">{{ visbocenter.name }} </label>\\n          </div>\\n          <div class=\\\"form-group\\\">\\n            <label class=\\\"col-form-label\\\">Group:</label>\\n            <label class=\\\"col-8 form-control-static\\\">{{ vcGroups[groupIndex].name }}</label>\\n          </div>\\n          <div class=\\\"form-group\\\">\\n            <label class=\\\"col-form-label\\\">Members:</label>\\n            <label class=\\\"col-8 form-control-static\\\">{{ vcGroups[groupIndex].users.length }}</label>\\n          </div>\\n        </form>\\n      </div>\\n      <div class=\\\"modal-footer align-items-end\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-warning\\\" (click)=\\\"removeVCGroup(vcGroups[groupIndex])\\\" data-dismiss=\\\"modal\\\">Remove</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<visbo-navbar></visbo-navbar>\\n<div class=\\\"col-md-8 col-md-offset-2\\\">\\n  <h3>Profile Information for {{model.email}}</h3>\\n  <div>\\n    <!-- <form name=\\\"form\\\" (ngSubmit)=\\\"f.form.valid && saveUserProfile()\\\" #f=\\\"ngForm\\\" novalidate> -->\\n    <form name=\\\"form\\\" (ngSubmit)=\\\"f.form.valid && saveUserProfile()\\\" #f=\\\"ngForm\\\" novalidate>\\n      <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !firstName.valid }\\\">\\n        <label for=\\\"firstName\\\">First Name</label>\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"firstName\\\" [(ngModel)]=\\\"model.firstName\\\" #firstName=\\\"ngModel\\\" required />\\n        <div *ngIf=\\\"f.submitted && !firstName.valid\\\" class=\\\"help-block\\\">First Name is required</div>\\n      </div>\\n      <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !lastName.valid }\\\">\\n        <label for=\\\"lastName\\\">Last Name</label>\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"lastName\\\" [(ngModel)]=\\\"model.lastName\\\" #lastName=\\\"ngModel\\\" required />\\n        <div *ngIf=\\\"f.submitted && !lastName.valid\\\" class=\\\"help-block\\\">Last Name is required</div>\\n      </div>\\n      <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !company.valid }\\\">\\n        <label for=\\\"company\\\">Company</label>\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"company\\\" [(ngModel)]=\\\"model.company\\\" #company=\\\"ngModel\\\" required />\\n        <div *ngIf=\\\"f.submitted && !company.valid\\\" class=\\\"help-block\\\">Company is required</div>\\n      </div>\\n      <div class=\\\"form-group\\\">\\n        <label for=\\\"phone\\\">Phone</label>\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"phone\\\" [(ngModel)]=\\\"model.phone\\\" #phone=\\\"ngModel\\\" />\\n      </div>\\n      <div class=\\\"form-group\\\">\\n        <button class=\\\"btn btn-primary\\\">Save</button>\\n        <img *ngIf=\\\"loading\\\" src=\\\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\\\" />\\n        <a [routerLink]=\\\"['/']\\\" class=\\\"btn btn-link\\\">Cancel</a>\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" style=\\\"float: right\\\" (click)=\\\"passwordInit()\\\" title=\\\"Change Password\\\" data-toggle=\\\"modal\\\" data-target=\\\"#UserModalChangePassword\\\">\\n          Change Password\\n        </button>\\n      </div>\\n    </form>\\n    <div>\\n      Your last Login was at {{model.lastLoginAt | date :'dd.MM.yyyy HH:mm:ss'}}\\n      <br>\\n      Your last failed login was at {{model.lastLoginFailedAt | date :'dd.MM.yyyy HH:mm:ss'}}\\n      <br>\\n      You registered at {{model.registeredAt | date :'dd.MM.yyyy HH:mm'}}\\n    </div>\\n  </div>\\n</div>\\n\\n<!-- Modal Chaneg Password -->\\n<div class=\\\"modal fade\\\" id=\\\"UserModalChangePassword\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"UserPasswordChangeModalTitle\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"UserPasswordChangeModalTitle\\\">Change Password</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <form name=\\\"passwordChange\\\" #fpw=\\\"ngForm\\\" novalidate>\\n          <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': fpw.submitted && !oldpassword.valid }\\\">\\n            <label for=\\\"oldpassword\\\" class=\\\"col-form-label\\\">Old Password:</label>\\n            <input type=\\\"password\\\" class=\\\"form-control\\\" name=\\\"oldpassword\\\" [(ngModel)]=\\\"modelPw.oldpassword\\\" #oldpassword=\\\"ngModel\\\" required autocomplete=\\\"password\\\">\\n            <div *ngIf=\\\"fpw.submitted && !oldpassword.valid\\\" class=\\\"help-block\\\">Old password is required</div>\\n          </div>\\n          <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': fpw.submitted && !newpassword.valid }\\\">\\n            <label for=\\\"newpassword\\\" class=\\\"col-form-label\\\" data-toggle=\\\"tooltip\\\" data-placement=\\\"top\\\" data-delay='50'\\n              title=\\\"Password Rule: {{PWPolicyDescription}}\\\">\\n              New Password(*):\\n            </label>\\n            <input type=\\\"password\\\" class=\\\"form-control\\\" name=\\\"newpassword\\\" [(ngModel)]=\\\"modelPw.newpassword\\\" #newpassword=\\\"ngModel\\\" required autocomplete=\\\"off\\\" pattern= {{PWPolicy}} >\\n            <div *ngIf=\\\"!newpassword.valid\\\" class=\\\"help-block\\\">New password has to follow the Policy.</div>\\n            <div *ngIf=\\\"!newpassword.valid\\\" class=\\\"help-block\\\">{{PWPolicyDescription}}</div>\\n          </div>\\n          <div class=\\\"form-group\\\">\\n            <button *ngIf=\\\"!fpw.form.valid\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\" >Change</button>\\n            <button *ngIf=\\\"fpw.form.valid\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"passwordChange()\\\" data-dismiss=\\\"modal\\\">Change</button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n          </div>\\n        </form>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<div *ngIf=\\\"!sysadmin\\\">\\n  <visbo-navbar></visbo-navbar>\\n</div>\\n<div *ngIf=\\\"sysadmin\\\">\\n  <sysvisbo-navbar></sysvisbo-navbar>\\n</div>\\n<div class='well'>\\n  <div class='row'>\\n    <h2 *ngIf=\\\"!visbocenter\\\" class='panel-heading ml-0'>\\n      Visbo Center Audit\\n    </h2>\\n    <h2 *ngIf=\\\"visbocenter\\\" class='panel-heading ml-0'>\\n      Visbo Center Audit for: <a (click)=\\\"goBack()\\\">{{visbocenter.name}}</a>\\n    </h2>\\n  </div>\\n  <form name=\\\"form\\\" (ngSubmit)=\\\"getVisboCenterAudits()\\\" #f=\\\"ngForm\\\" novalidate>\\n    <div *ngIf=\\\"sysadmin\\\" class=\\\"form-group row\\\">\\n      <label for=\\\"auditFrom\\\" class=\\\"col-1 col-form-label\\\">From:</label>\\n      <input id=\\\"auditFrom\\\" type=\\\"datetime-local\\\" class=\\\"col-2 col-sm-4 form-control\\\" name=\\\"auditFrom\\\" [(ngModel)]=\\\"auditFrom\\\">\\n      <label for=\\\"auditTo\\\" class=\\\"col-1 col-form-label\\\">To:</label>\\n      <input id=\\\"auditTo\\\" type=\\\"datetime-local\\\" class=\\\"col-2 col-sm-4 form-control\\\" name=\\\"auditTo\\\" [(ngModel)]=\\\"auditTo\\\" >\\n    </div>\\n    <div *ngIf=\\\"!sysadmin\\\" class=\\\"form-group row\\\">\\n      <label for=\\\"auditFrom\\\" class=\\\"col-1 col-form-label\\\">From:</label>\\n      <input id=\\\"auditFrom\\\" type=\\\"date\\\" class=\\\"col-2 col-sm-4 form-control\\\" name=\\\"auditFrom\\\" [(ngModel)]=\\\"auditFrom\\\">\\n      <label for=\\\"auditTo\\\" class=\\\"col-1 col-form-label\\\">To:</label>\\n      <input id=\\\"auditTo\\\" type=\\\"date\\\" class=\\\"col-2 col-sm-4 form-control\\\" name=\\\"auditTo\\\" [(ngModel)]=\\\"auditTo\\\" >\\n    </div>\\n    <div class=\\\"form-group row\\\">\\n      <label for=\\\"auditText\\\" class=\\\"col-1 col-form-label\\\">Filter:</label>\\n      <input id=\\\"auditText\\\" type=\\\"text\\\" class=\\\"col-2 col-sm-3 form-control\\\" name=\\\"auditText\\\" [(ngModel)]=\\\"auditText\\\" >\\n\\n      <label for=\\\"auditCount\\\" class=\\\"col-1 col-form-label\\\">Max:</label>\\n      <select class=\\\"col-1 form-control mx-1\\\" name=\\\"auditCount\\\" [(ngModel)]=\\\"auditCount\\\">\\n        <option>50</option>\\n        <option>100</option>\\n        <option>500</option>\\n        <option>2000</option>\\n      </select>\\n\\n      <select class=\\\"col-1 form-control mx-1\\\" id=\\\"auditType\\\" name=\\\"auditArea\\\" [(ngModel)]=\\\"auditArea\\\">\\n        <option *ngFor=\\\"let actionItem of auditAreaList\\\">{{actionItem.name}}</option>\\n      </select>\\n      <select class=\\\"col-1 form-control mx-1\\\" id=\\\"auditType\\\" name=\\\"auditType\\\" [(ngModel)]=\\\"auditType\\\">\\n        <option *ngFor=\\\"let actionItem of auditTypeList\\\">{{actionItem.name}}</option>\\n      </select>\\n      <div class='btn-group '>\\n        <button type=\\\"button\\\" class=\\\"btn btn-sm btn-primary ml-auto mx-1\\\" (click)=\\\"getVisboCenterAudits()\\\">Filter</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-sm btn-secondary ml-auto mx-1\\\" (click)=\\\"downloadVisboAudit()\\\">Download</button>\\n      </div>\\n    </div>\\n  </form>\\n\\n  <div class='container-fluid'>\\n    <div class='panel-body'>\\n      <table class='table table-hover table-sortable'>\\n        <!--Table head-->\\n        <thead>\\n          <tr>\\n            <th class=\\\"d-none d-md-table-cell\\\" (click)=\\\"sortTable(1)\\\">Created</th>\\n            <th (click)=\\\"sortTable(2)\\\">User</th>\\n            <th (click)=\\\"sortTable(3)\\\"> Action</th>\\n            <th class=\\\"d-none d-md-table-cell\\\" (click)=\\\"sortTable(4)\\\"> Info</th>\\n            <th class=\\\"d-none d-lg-table-cell\\\" (click)=\\\"sortTable(5)\\\"> Result</th>\\n            <th>Detail</th>\\n          </tr>\\n        </thead>\\n        <!--Table body-->\\n        <tbody>\\n          <tr *ngFor=\\\"let auditentry of audit; let auditIndex=index\\\" (click)='helperAuditIndex(auditIndex)'\\n          data-toggle=\\\"modal\\\" data-target=\\\"#AuditDetail\\\">\\n            <td  *ngIf=\\\"isToday(auditentry.createdAt)\\\" class=\\\"d-none d-md-table-cell\\\">{{auditentry.createdAt | date :'HH:mm:ss'}}</td>\\n            <td  *ngIf=\\\"!isToday(auditentry.createdAt)\\\" class=\\\"d-none d-md-table-cell\\\">{{auditentry.createdAt | date :'dd.MM HH:mm'}}</td>\\n            <td *ngIf=\\\"auditentry.user\\\" >{{auditentry.user.email }}</td>\\n            <td *ngIf=\\\"!auditentry.user\\\"> Unknown </td>\\n            <td>{{auditentry.actionDescription }}</td>\\n            <td class=\\\"d-none d-md-table-cell\\\" >{{helperShortenText(auditentry.actionInfo, 30) }}</td>\\n            <td class=\\\"d-none d-lg-table-cell\\\" >{{helperResponseText(auditentry) }}</td>\\n            <td>\\n              <button class=\\\"Detail\\\" title=\\\"Detail of Visbo Audit\\\" (click)='helperAuditIndex(auditIndex)'\\n              data-toggle=\\\"modal\\\" data-target=\\\"#AuditDetail\\\">i</button>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal fade\\\" id=\\\"AuditDetail\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"Audit Detail\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-lg modal-dialog-centered\\\" role=\\\"document\\\" *ngIf=\\\"auditIndex >= 0 && auditIndex < audit.length\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"AuditDetailTitle\\\">Detail of Audit Entry</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-11\\\">\\n            <h3 title=\\\"Previous Entry\\\" (click)='pageAuditIndex(-1)'><a class=\\\"px-3 col-1 fas fa-caret-square-left\\\"></a></h3>\\n          </div>\\n          <div class=\\\"col-1\\\">\\n            <h3 title=\\\"Next Entry\\\" (click)='pageAuditIndex(1)'><a class=\\\"px-3 col-1 fas fa-caret-square-right\\\"></a></h3>\\n          </div>\\n        </div>\\n        <form>\\n          <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Created:</label>\\n          <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].createdAt | date :'dd.MM.yyyy HH:mm:ss.SSS' }} </label>\\n          <label class=\\\"py-0 m-0 col-4 form-control-static\\\">User:</label>\\n          <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].user.email }} </label>\\n          <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Action:</label>\\n          <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].actionDescription }} </label>\\n          <div *ngIf=\\\"audit[auditIndex].actionInfo\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Info:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].actionInfo }} </label>\\n          </div>\\n          <div *ngIf=\\\"audit[auditIndex].vc\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Visbo Center:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].vc.name }} </label>\\n          </div>\\n          <div *ngIf=\\\"audit[auditIndex].vp\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Visbo Project:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].vp.name }} ({{ audit[auditIndex].vp.vpid }}) </label>\\n          </div>\\n          <div *ngIf=\\\"audit[auditIndex].vpv\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Project Version:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].vpv.name }} ({{ audit[auditIndex].vpv.vpvid }})</label>\\n          </div>\\n          <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Result:</label>\\n          <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ helperResponseText(audit[auditIndex]) }} </label>\\n          <div *ngIf=\\\"showMore\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">tech. Action:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].action }} </label>\\n          </div>\\n          <div *ngIf=\\\"showMore\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">URL:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\" style=\\\"overflow-wrap: break-word;\\\">{{ audit[auditIndex].url }} </label>\\n          </div>\\n          <div *ngIf=\\\"showMore\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Response Time:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].result.time }} ms </label>\\n          </div>\\n          <div *ngIf=\\\"showMore\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Response Size:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ helperFormatBytes(audit[auditIndex].result.size || 0, 2) }} </label>\\n          </div>\\n          <div *ngIf=\\\"showMore\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">User Agent:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].userAgent }}</label>\\n          </div>\\n          <div *ngIf=\\\"showMore\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">IP:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].ip }}</label>\\n          </div>\\n          <div *ngIf=\\\"showMore && audit[auditIndex].ttl\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">TTL:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].ttl | date :'dd.MM HH:mm' }}</label>\\n          </div>\\n        </form>\\n      </div>\\n      <div class=\\\"modal-footer align-items-end\\\">\\n        <button *ngIf=\\\"!showMore\\\" type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"toggleDetail()\\\">More</button>\\n        <button *ngIf=\\\"showMore\\\" type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"toggleDetail()\\\">Less</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<visbo-navbar></visbo-navbar>\\n<div *ngIf=\\\"visbocenter\\\">\\n  <!-- <div class='container'> -->\\n    <h3>Visbo Center: <a (click)=\\\"gotoVPList(visbocenter)\\\">{{ visbocenter.name | uppercase }}</a></h3>\\n    <form>\\n      <div class=\\\"form-group row\\\">\\n        <label for=\\\"vcName\\\" class=\\\"col-3 col-md-2 col-form-label\\\">Name:</label>\\n        <input *ngIf=\\\"hasVCPerm(permVC.Modify)\\\" type=\\\"text\\\" name=vcName class=\\\"col-8 form-control\\\" [(ngModel)]=\\\"visbocenter.name\\\" placeholder=\\\"Name\\\">\\n        <label *ngIf=\\\"!hasVCPerm(permVC.Modify)\\\" class=\\\"col-8 form-control-static\\\">{{ visbocenter.name }} </label>\\n      </div>\\n      <div class=\\\"form-group row\\\">\\n        <label for=\\\"vcDescription\\\" class=\\\"col-3 col-md-2 col-form-label\\\">Description:</label>\\n        <textarea *ngIf=\\\"hasVCPerm(permVC.Modify)\\\" name=vcDescription class=\\\"col-8 form-control\\\" [(ngModel)]=\\\"visbocenter.description\\\" placeholder=\\\"Type in your description\\\"></textarea>\\n        <label *ngIf=\\\"!hasVCPerm(permVC.Modify)\\\" class=\\\"col-8 form-control-static\\\">{{ visbocenter.description }} </label>\\n      </div>\\n      <div class=\\\"form-group row d-none d-md-block\\\">\\n        <label for=\\\"Created\\\" class=\\\"col-3 col-md-2 col-form-label\\\">Created / Updated at:</label>\\n        <label class=\\\"col-4 form-control-static col-form-label\\\">{{ visbocenter.createdAt | date :'dd.MM.yyyy HH:mm:ss'}} </label>\\n        <label class=\\\"col-4 form-control-static col-form-label\\\">{{ visbocenter.updatedAt | date :'dd.MM.yyyy HH:mm:ss'}} </label>\\n      </div>\\n    </form>\\n    <div *ngIf=\\\"getVCPerm() != permVC.View\\\">\\n      <div class=\\\"btn-toolbar\\\" style=\\\"\\\">\\n        <button *ngIf=\\\"hasVCPerm(permVC.ViewAudit)\\\" type=\\\"button\\\" class=\\\"btn btn-md btn-light mr-1\\\" (click)=\\\"gotoVCAudit(visbocenter)\\\">View Audit</button>\\n        <button *ngIf=\\\"!showGroups\\\" type=\\\"button\\\" class=\\\"btn btn-md btn-light mx-1\\\" (click)=\\\"toggleUserGroup()\\\">Show Groups</button>\\n        <button *ngIf=\\\"showGroups\\\" type=\\\"button\\\" class=\\\"btn btn-md btn-light mx-1\\\" (click)=\\\"toggleUserGroup()\\\">Show Users</button>\\n        <button *ngIf=\\\"vgVPUsers && vgVPUsers.length > 0\\\" type=\\\"button\\\" class=\\\"btn btn-md btn-light mx-1\\\" (click)=\\\"showProjectUser()\\\">Show Project Users</button>\\n      </div>\\n\\n      <div *ngIf=\\\"!showGroups && !showProjectUsers\\\" >\\n        <div >\\n          <div class='row'>\\n            <div class='col'>\\n              <h4 class='panel-heading'>\\n                  Visbo Center Users\\n              </h4>\\n            </div>\\n            <div *ngIf=\\\"hasVCPerm(permVC.ManagePerm)\\\" class='col'>\\n              <!-- Button trigger modal -->\\n              <button type=\\\"button\\\" class=\\\"my-1 btn btn-primary float-right\\\" data-toggle=\\\"modal\\\" data-target=\\\"#VcUserModalCreate\\\">Add User</button>\\n            </div>\\n          </div>\\n          <div class='panel-body'>\\n            <table class='table table-hover'>\\n              <!--Table head-->\\n              <thead>\\n                <tr>\\n                  <th>Nr.</th>\\n                  <th (click)=\\\"sortUserTable(1)\\\">e-mail</th>\\n                  <th (click)=\\\"sortUserTable(2)\\\">Group</th>\\n                  <th *ngIf=\\\"hasVCPerm(permVC.ManagePerm)\\\">Delete</th>\\n                </tr>\\n              </thead>\\n              <!--Table body-->\\n              <tbody>\\n                <tr *ngFor=\\\"let member of vgUsers; let memberIndex=index\\\"> <!-- class=\\\"danger\\\"> -->\\n                  <td>{{memberIndex+1}}</td>\\n                  <td>{{member.email}}</td>\\n                  <td>{{member.groupName}}</td>\\n                  <td *ngIf=\\\"hasVCPerm(permVC.ManagePerm)\\\">\\n                    <button class=\\\"Detail\\\" title=\\\"Remove User\\\" (click)='helperRemoveUser(memberIndex)'\\n                    data-toggle=\\\"modal\\\" data-target=\\\"#VcUserRemove\\\">&times;</button>\\n                  </td>\\n                </tr>\\n              </tbody>\\n              <!--Table body-->\\n            </table>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div *ngIf=\\\"showGroups && !showProjectUsers\\\" >\\n        <div >\\n          <div class='row'>\\n            <div class='col'>\\n              <h5 class='panel-heading'>\\n                  Visbo Center Groups\\n              </h5>\\n            </div>\\n            <div *ngIf=\\\"hasVCPerm(permVC.ManagePerm)\\\" class='col'>\\n              <!-- Button trigger modal -->\\n              <button type=\\\"button\\\" class=\\\"btn btn-primary float-right\\\" (click)=\\\"initGroup(null)\\\" data-toggle=\\\"modal\\\" data-target=\\\"#VcGroupModalCreate\\\">\\n                Add Group\\n              </button>\\n            </div>\\n          </div>\\n          <div class='panel-body'>\\n            <table class='table table-hover'>\\n              <!--Table head-->\\n              <thead>\\n                <tr>\\n                  <th>Nr.</th>\\n                  <th (click)=\\\"sortGroupTable(1)\\\">Group</th>\\n                  <th (click)=\\\"sortGroupTable(2)\\\">Members</th>\\n                  <th >Flag</th>\\n                  <th *ngIf=\\\"hasVCPerm(permVC.ManagePerm)\\\">Delete</th>\\n                  <th>Info</th>\\n                </tr>\\n              </thead>\\n              <!--Table body-->\\n              <tbody>\\n                <tr *ngFor=\\\"let member of vgGroups; let memberIndex=index\\\">\\n                  <td>{{memberIndex+1}}</td>\\n                  <td>{{member.name}}</td>\\n                  <td>{{member.users.length}}</td>\\n                  <td *ngIf=\\\"member.global\\\">Global</td>\\n                  <td *ngIf=\\\"!member.global\\\"></td>\\n                  <td *ngIf=\\\"hasVCPerm(permVC.ManagePerm)\\\">\\n                    <button class=\\\"Detail\\\" title=\\\"Remove Group\\\" (click)='helperRemoveGroup(memberIndex)'\\n                    data-toggle=\\\"modal\\\" data-target=\\\"#VcGroupRemove\\\">&times;</button>\\n                  </td>\\n                  <td>\\n                    <button class=\\\"Detail\\\" title=\\\"Detail of Group\\\"\\n                     (click)='initGroup(member)' data-toggle=\\\"modal\\\" data-target=\\\"#VcGroupModalCreate\\\">i</button>\\n                  </td>\\n                </tr>\\n              </tbody>\\n              <!--Table body-->\\n            </table>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div *ngIf=\\\"showProjectUsers\\\" >\\n        <div >\\n          <div class='row'>\\n            <div class='col'>\\n              <h5 class='panel-heading'>\\n                  Visbo Project Users\\n              </h5>\\n            </div>\\n          </div>\\n          <div class='panel-body'>\\n            <table class='table table-hover'>\\n              <!--Table head-->\\n              <thead>\\n                <tr>\\n                  <th>Nr.</th>\\n                  <th (click)=\\\"sortVPUserTable(1)\\\">e-mail</th>\\n                  <th (click)=\\\"sortVPUserTable(2)\\\">Project</th>\\n                  <th>Group</th>\\n                </tr>\\n              </thead>\\n              <!--Table body-->\\n              <tbody>\\n                <tr *ngFor=\\\"let member of vgVPUsers; let memberIndex=index\\\" (click)=\\\"gotoVPDetail(member.vpid)\\\"> <!-- class=\\\"danger\\\"> -->\\n                  <td>{{memberIndex+1}}</td>\\n                  <td>{{member.users.email}}</td>\\n                  <td>{{member.vp.name}}</td>\\n                  <td>{{member.groupName}}</td>\\n                </tr>\\n              </tbody>\\n              <!--Table body-->\\n            </table>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <button *ngIf=\\\"hasVCPerm(permVC.Modify)\\\" (click)=\\\"save()\\\" class=\\\"btn btn-primary mr-1\\\">save</button>\\n    <button class=\\\"btn btn-secondary mx-1\\\" (click)=\\\"goBack()\\\">go back</button>\\n  <!-- </div> -->\\n\\n  <!-- Modal Add VC User -->\\n  <div class=\\\"modal fade\\\" id=\\\"VcUserModalCreate\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"VcUserModalCreateTitle\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h5 class=\\\"modal-title\\\" id=\\\"VcUserModalCenterTitle\\\">Add a new User to the Visbo Center</h5>\\n          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <form name=\\\"newUserInvite\\\" #f=\\\"ngForm\\\" novalidate>\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !email.valid }\\\">\\n              <label for=\\\"email\\\" class=\\\"col-form-label\\\">Name:</label>\\n              <input type=\\\"email\\\" class=\\\"form-control\\\" name=\\\"email\\\" [(ngModel)]=\\\"newUserInvite.email\\\" #email=\\\"ngModel\\\" required pattern=\\\"[^@\\\\s]+@[^@\\\\s]+\\\\.[^@\\\\s]+\\\" autocomplete=\\\"email\\\">\\n              <div *ngIf=\\\"f.submitted && !email.valid\\\" class=\\\"help-block\\\">E-mail address is required</div>\\n            </div>\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !group.valid }\\\">\\n              <label for=\\\"group\\\" class=\\\"col-form-label\\\">Group:</label>\\n              <select class=\\\"form-control\\\" name=\\\"group\\\" [(ngModel)]=\\\"newUserInvite.groupName\\\" #group=\\\"ngModel\\\" required>\\n                <option></option>\\n                <option *ngFor=\\\"let groupItem of vgGroups\\\">{{groupItem.name}}</option>\\n              </select>\\n              <div *ngIf=\\\"f.submitted && !group.valid\\\" class=\\\"help-block\\\">Group must be defined</div>\\n            </div>\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !inviteMessage.valid }\\\">\\n              <label for=\\\"inviteMessage\\\" class=\\\"col-form-label\\\">Message:</label>\\n              <textarea class=\\\"form-control\\\" name=\\\"inviteMessage\\\" [(ngModel)]=\\\"newUserInvite.inviteMessage\\\" #inviteMessage=\\\"ngModel\\\" > </textarea>\\n            </div>\\n            <div *ngIf=\\\"f.submitted && !inviteMessage.valid\\\" class=\\\"help-block\\\">Error in Message</div>\\n            <div class=\\\"form-group\\\">\\n              <button *ngIf=\\\"!(email.valid && group.valid)\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\" >Invite(insensitive)</button>\\n              <button *ngIf=\\\"email.valid && group.valid\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"addNewVCUser()\\\" data-dismiss=\\\"modal\\\">Invite</button>\\n              <!-- <button *ngIf=\\\"f.form.valid\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"addNewVCUser()\\\" data-dismiss=\\\"modal\\\">Invite</button> -->\\n              <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Cancel</button>\\n            </div>\\n          </form>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <!-- Modal Delete User -->\\n  <div class=\\\"modal fade\\\" id=\\\"VcUserRemove\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"VcUserModalRemoveTitle\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\" *ngIf=\\\"userIndex >= 0 && userIndex < vgUsers.length\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h5 class=\\\"modal-title\\\" id=\\\"VcUserRemoveTitle\\\">Remove User from Visbo Center Group</h5>\\n          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <div>\\n            <label class=\\\"bg-warning\\\">Do you really want to remove this User from the Visbo Center Group? </label>\\n          </div>\\n          <form>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"VcName\\\" class=\\\"col-form-label\\\">Visbo Center:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ visbocenter.name }} </label>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label class=\\\"col-form-label\\\">User:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ vgUsers[userIndex].email }}</label>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label class=\\\"col-form-label\\\">Group:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ vgUsers[userIndex].groupName }}</label>\\n            </div>\\n          </form>\\n        </div>\\n        <div class=\\\"modal-footer align-items-end\\\">\\n          <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n          <button type=\\\"button\\\" class=\\\"btn btn-warning\\\" (click)=\\\"removeVCUser(vgUsers[userIndex], visbocenter._id)\\\" data-dismiss=\\\"modal\\\">Remove</button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <!-- Modal Add/Change VC Group -->\\n  <div class=\\\"modal fade\\\" id=\\\"VcGroupModalCreate\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"VcGroupModalCreateTitle\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\" >\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h5 *ngIf=\\\"actGroup.gid\\\" class=\\\"modal-title\\\" id=\\\"VcGroupModalCenterTitle\\\">Modify a Group in the Visbo Center</h5>\\n          <h5 *ngIf=\\\"!actGroup.gid\\\" class=\\\"modal-title\\\" id=\\\"VcGroupModalCenterTitle\\\">Add a new Group to the Visbo Center</h5>\\n          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <form name=\\\"actGroup\\\" #f=\\\"ngForm\\\" novalidate>\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !email.valid }\\\">\\n              <label for=\\\"groupName\\\" class=\\\"col-form-label\\\">Name:</label>\\n              <input *ngIf=\\\"!actGroup.internal\\\" type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"groupName\\\" [(ngModel)]=\\\"actGroup.groupName\\\" #groupName=\\\"ngModel\\\" required>\\n              <label *ngIf=\\\"actGroup.internal\\\" class=\\\"col-form-label\\\">{{actGroup.groupName}}</label>\\n              <div *ngIf=\\\"f.submitted && !actGroup.groupName.valid\\\" class=\\\"help-block\\\">Group Name is required</div>\\n            </div>\\n            <!-- VC Permissions -->\\n            <div>Define Visbo Center Permission</div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"perm1\\\" name=\\\"checkedView\\\" [(ngModel)]=\\\"actGroup.checkedView\\\" #checkedView=\\\"ngModel\\\">\\n                <label class=\\\"custom-control-label\\\" for=\\\"perm1\\\">View Visbo Center</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"perm2\\\" name=\\\"checkedViewAudit\\\" [(ngModel)]=\\\"actGroup.checkedViewAudit\\\" #checkedViewAudit=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"perm2\\\">View Audit</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"perm3\\\" name=\\\"checkedModify\\\" [(ngModel)]=\\\"actGroup.checkedModify\\\" #checkedModify=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"perm3\\\">Modify Visbo Center</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"perm4\\\" name=\\\"checkedCreateVP\\\" [(ngModel)]=\\\"actGroup.checkedCreateVP\\\" #checkedCreateVP=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"perm4\\\">Create Visbo Project</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"perm5\\\" name=\\\"checkedManagePerm\\\" [(ngModel)]=\\\"actGroup.checkedManagePerm\\\" #checkedManagePerm=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"perm5\\\">Manage Permissions, Users and Groups</label>\\n            </div>\\n            <br>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"global\\\" name=\\\"checkGlobal\\\" [(ngModel)]=\\\"actGroup.checkGlobal\\\" #checkGlobal=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"global\\\">Group has Access to all Visbo Projects</label>\\n            </div>\\n            <div *ngIf=\\\"actGroup.checkGlobal\\\" >\\n            <!-- VP Permissions -->\\n              <div>Define Visbo Project Permission</div>\\n              <div class=\\\"custom-control custom-checkbox\\\">\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP1\\\" name=\\\"checkedVPView\\\" [(ngModel)]=\\\"actGroup.checkedVPView\\\" #checkedVPView=\\\"ngModel\\\">\\n                  <label class=\\\"custom-control-label\\\" for=\\\"permVP1\\\">View Visbo Project</label>\\n              </div>\\n              <div class=\\\"custom-control custom-checkbox\\\">\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP2\\\" name=\\\"checkedVPViewAudit\\\" [(ngModel)]=\\\"actGroup.checkedVPViewAudit\\\" #checkedVPViewAudit=\\\"ngModel\\\" >\\n                  <label class=\\\"custom-control-label\\\" for=\\\"permVP2\\\">View Project Audit</label>\\n              </div>\\n              <div class=\\\"custom-control custom-checkbox\\\">\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP3\\\" name=\\\"checkedVPModify\\\" [(ngModel)]=\\\"actGroup.checkedVPModify\\\" #checkedVPModify=\\\"ngModel\\\" >\\n                  <label class=\\\"custom-control-label\\\" for=\\\"permVP3\\\">Modify Visbo Project</label>\\n              </div>\\n              <div class=\\\"custom-control custom-checkbox\\\">\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP4\\\" name=\\\"checkedCreateVariant\\\" [(ngModel)]=\\\"actGroup.checkedCreateVariant\\\" #checkedCreateVariant=\\\"ngModel\\\" >\\n                  <label class=\\\"custom-control-label\\\" for=\\\"permVP4\\\">Create Visbo Project Variant</label>\\n              </div>\\n              <div class=\\\"custom-control custom-checkbox\\\">\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP5\\\" name=\\\"checkedVPManagePerm\\\" [(ngModel)]=\\\"actGroup.checkedVPManagePerm\\\" #checkedVPManagePerm=\\\"ngModel\\\" >\\n                  <label class=\\\"custom-control-label\\\" for=\\\"permVP5\\\">Manage Permissions, Users and Groups</label>\\n              </div>\\n              <div class=\\\"custom-control custom-checkbox\\\">\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP6\\\" name=\\\"checkedVPDelete\\\" [(ngModel)]=\\\"actGroup.checkedVPDelete\\\" #checkedVPDelete=\\\"ngModel\\\" >\\n                  <label class=\\\"custom-control-label\\\" for=\\\"permVP6\\\">Delete Visbo Project</label>\\n              </div>\\n            </div>\\n\\n            <div class=\\\"form-group\\\">\\n              <button *ngIf=\\\"!(f.form.valid && hasVCPerm(permVC.ManagePerm))\\\" type=\\\"submit\\\" class=\\\"btn btn-primary disabled\\\" >{{this.actGroup.confirm}}</button>\\n              <button *ngIf=\\\"(f.form.valid && hasVCPerm(permVC.ManagePerm))\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"addModifyVCGroup()\\\" data-dismiss=\\\"modal\\\">{{this.actGroup.confirm}}</button>\\n              <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Cancel</button>\\n            </div>\\n          </form>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <!-- Modal Delete Group -->\\n  <div class=\\\"modal fade\\\" id=\\\"VcGroupRemove\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"VcGroupModalRemoveTitle\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\" *ngIf=\\\"groupIndex >= 0 && groupIndex < vgGroups.length\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h5 class=\\\"modal-title\\\" id=\\\"VcUserRemoveTitle\\\">Remove Group from Visbo Center</h5>\\n          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <div>\\n            <label class=\\\"bg-warning\\\">Do you really want to remove this Group from Visbo Center? </label>\\n          </div>\\n          <form>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"VcName\\\" class=\\\"col-form-label\\\">Visbo Center:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ visbocenter.name }} </label>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label class=\\\"col-form-label\\\">Group:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ vgGroups[groupIndex].name }}</label>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label class=\\\"col-form-label\\\">Members:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ vgGroups[groupIndex].users.length }}</label>\\n            </div>\\n          </form>\\n        </div>\\n        <div class=\\\"modal-footer align-items-end\\\">\\n          <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n          <button type=\\\"button\\\" class=\\\"btn btn-warning\\\" (click)=\\\"removeVCGroup(vgGroups[groupIndex])\\\" data-dismiss=\\\"modal\\\">Remove</button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<visbo-navbar></visbo-navbar>\\n<div class='well'>\\n  <h2 class='panel-heading'>\\n    Visbo Centers\\n  </h2>\\n\\n  <div class='panel-body'>\\n    <table class='table table-hover table-sortable'>\\n      <!--Table head-->\\n      <thead>\\n        <tr>\\n          <th class=\\\"d-none d-md-table-cell\\\">Nr.</th>\\n          <th (click)=\\\"sortVCTable(1)\\\">Name</th>\\n          <th class=\\\"d-none d-sm-table-cell\\\" (click)=\\\"sortVCTable(2)\\\">Modified</th>\\n          <th class=\\\"d-none d-md-table-cell\\\" (click)=\\\"sortVCTable(3)\\\"># Projects</th>\\n          <th>Detail</th>\\n        </tr>\\n      </thead>\\n      <!--Table body-->\\n      <tbody>\\n        <tr *ngFor=\\\"let vc of visbocenters; let vcIndex=index\\\" (click)=\\\"gotoClickedRow(vc)\\\" > <!-- class=\\\"danger\\\"> -->\\n          <td class=\\\"d-none d-md-table-cell\\\">{{vcIndex+1}}</td>\\n          <td>{{vc.name}}</td>\\n          <td class=\\\"d-none d-md-table-cell\\\">{{vc.updatedAt | date :'dd.MM.yyyy HH:mm'}}</td>\\n          <td class=\\\"d-none d-sm-table-cell d-md-none\\\">{{vc.updatedAt | date :'dd.MM.yy'}}</td>\\n          <td class=\\\"d-none d-md-table-cell\\\">{{vc.vpCount}}</td>\\n          <td>\\n            <button class=\\\"Detail\\\" title=\\\"Detail of Visbo Center\\\"\\n            (click)=\\\"gotoDetail(vc)\\\">i</button>\\n          </td>\\n        </tr>\\n      </tbody>\\n    </table>\\n  </div>\\n</div>\\n\"","export default \"<visbo-navbar></visbo-navbar>\\n<div class='well'>\\n  <div class='row'>\\n    <div class='col'>\\n      <h2 *ngIf=\\\"!vpActive\\\">\\n        Portfolio Project List\\n      </h2>\\n      <h2 *ngIf=\\\"vpActive\\\">\\n        Portfolio Project List for: <a (click)=\\\"gotoVPDetail(vpActive)\\\">{{vpActive.name}}</a>\\n      </h2>\\n      <h5 *ngIf=\\\"vpActive\\\">Visbo Center:\\n        <a (click)=\\\"gotoVC(vpActive)\\\">{{ vpActive.vc.name }}</a>\\n      </h5>\\n    </div>\\n  </div>\\n  <div  *ngIf=\\\"vpfActiveIndex\\\" class='row'>\\n    <label class=\\\"col-2 my-2\\\">Portfolio Version:</label>\\n    <select class=\\\"col-4 form-control\\\" id=\\\"dropDownSelected\\\" name=\\\"dropDownSelected\\\" [(ngModel)]=\\\"dropDownSelected\\\" (change)=\\\"changePFVersion();\\\">\\n      <option *ngFor=\\\"let item of dropDown\\\">{{item.name}}</option>\\n    </select>\\n    <div  *ngIf=\\\"vpfActive.variantName\\\" class='row'>\\n      <label class=\\\"col-3\\\">Variant:</label>\\n      <label class=\\\"col-3\\\">{{vpfActive.variantName}}</label>\\n    </div>\\n  </div>\\n  <hr>\\n\\n  <div class='container-fluid'>\\n    <div class=\\\"row\\\">\\n      <h3 class=\\\"col-6 px-0\\\">\\n        <div class=\\\"d-none d-lg-block\\\">Project Key Metrics from {{vpvRefDate | date: 'dd.MM.yyyy'}}</div>\\n        <div class=\\\"d-block d-lg-none\\\">Metrics: {{vpvRefDate | date: 'dd.MM'}}</div>\\n      </h3>\\n      <div class=\\\"col-4\\\">\\n        <div class=\\\"row\\\">\\n          <span style=\\\"font-size: 2em\\\" class=\\\"mx-1 fas fa-caret-square-left\\\" title=\\\"Previous Period\\\" (click)='getRefDateVersions(-1)'></span>\\n          <select class=\\\"col-4 form-control d-none d-md-block\\\" name=\\\"refDateInterval\\\" [(ngModel)]=\\\"refDateInterval\\\">\\n            <option>day</option>\\n            <option>week</option>\\n            <option>month</option>\\n            <option>quarter</option>\\n          </select>\\n          <span style=\\\"font-size: 2em\\\" class=\\\"mx-1 fas fa-caret-square-right\\\" title=\\\"Next Period\\\" (click)='getRefDateVersions(1)'></span>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n      <form name=\\\"form\\\" (ngSubmit)=\\\"showTempList(false)\\\">\\n        <div class=\\\"form-group row\\\">\\n          <label for=\\\"Filter\\\" class=\\\"col-6 col-form-label\\\">Filter Projects:</label>\\n          <div class=\\\"col-6\\\">\\n            <input class=\\\"form-control\\\"  (keyup)=\\\"showTempList(true); visboKeyMetricsCalc()\\\" id=\\\"Filter\\\" name=\\\"vpFilter\\\" [(ngModel)]=\\\"vpFilter\\\">\\n          </div>\\n        </div>\\n      </form>\\n    </div>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"my-1\\\">\\n        <span class=\\\"font-weight-bold\\\"><a data-toggle=\\\"modal\\\" (click)= \\\"drawChart(false)\\\" data-target=\\\"#VpfMetricSelector\\\">{{typeMetricX}}</a></span>\\n        <span> against </span>\\n        <span class=\\\"font-weight-bold\\\"><a data-toggle=\\\"modal\\\" (click)= \\\"drawChart(false)\\\" data-target=\\\"#VpfMetricSelector\\\">{{typeMetricY}}</a></span>\\n      </div>\\n      <div class=\\\"mx-2\\\">\\n        <button *ngIf= \\\"showChart\\\" type=\\\"button\\\" class=\\\"btn btn-sm btn-primary ml-2\\\" data-toggle=\\\"modal\\\" (click)= \\\"drawChart(false)\\\" data-target=\\\"#VpfMetricSelector\\\">Change</button>\\n        <button *ngIf= \\\"!showChart\\\" type=\\\"button\\\" class=\\\"btn btn-sm btn-primary ml-2\\\" (click)= \\\"drawChart(true)\\\">Show Chart</button>\\n      </div>\\n      <div *ngIf=\\\"hasVPPerm(permVP.ViewAudit)\\\">\\n          <button type=\\\"button\\\" class=\\\"btn btn-sm btn-secondary ml-auto\\\" (click)=\\\"showChartOption(undefined)\\\">{{chartButton}}</button>\\n      </div>\\n    </div>\\n  </div>\\n  <div *ngIf=\\\"visbokeymetrics.length > 0\\\">\\n    <div *ngIf=\\\"hasVPPerm(permVP.ViewAudit) && chart && showChart\\\" class='container-fluid'>\\n      <div *ngIf=\\\"graphBubbleData && graphBubbleData.length\\\">\\n        <app-bubble-chart [graphData]=\\\"graphBubbleData\\\" [graphOptions]=\\\"graphBubbleOptions\\\" [parentThis]=\\\"parentThis\\\"></app-bubble-chart>\\n      </div>\\n    </div>\\n\\n    <div *ngIf=\\\"chart==false\\\" class='container-fluid'>\\n      <div class='panel-body'>\\n        <table *ngIf=\\\"hasVPPerm(permVP.ViewAudit)\\\" class='table table-hover table-sortable'>\\n          <thead>\\n            <tr>\\n              <th (click)=\\\"sortKeyMetricsTable(1)\\\">Project</th>\\n              <th *ngIf=\\\"selectedMetric('Costs')\\\" class=\\\"text-right\\\" (click)=\\\"sortKeyMetricsTable(2)\\\">Change Total Cost</th>\\n              <th *ngIf=\\\"selectedMetric('Costs')\\\" class=\\\"text-right d-none d-md-table-cell\\\" (click)=\\\"sortKeyMetricsTable(3)\\\">Total Cost (Base Line)</th>\\n              <th *ngIf=\\\"selectedMetric('EndDate')\\\" class=\\\"text-right\\\" (click)=\\\"sortKeyMetricsTable(4)\\\">Change End Date</th>\\n              <th *ngIf=\\\"selectedMetric('EndDate')\\\" class=\\\"text-right d-none d-md-table-cell\\\" (click)=\\\"sortKeyMetricsTable(5)\\\">End Date (Base Line)</th>\\n              <th *ngIf=\\\"selectedMetric('Deadlines')\\\" class=\\\"text-right\\\" (click)=\\\"sortKeyMetricsTable(6)\\\">Achieved Deadlines</th>\\n              <th *ngIf=\\\"selectedMetric('Deadlines')\\\" class=\\\"text-right d-none d-md-table-cell\\\" (click)=\\\"sortKeyMetricsTable(7)\\\">Deadlines (Base Line)</th>\\n              <th *ngIf=\\\"selectedMetric('Deliveries')\\\" class=\\\"text-right\\\" (click)=\\\"sortKeyMetricsTable(8)\\\">Achieved Deliveries</th>\\n              <th *ngIf=\\\"selectedMetric('Deliveries')\\\" class=\\\"text-right d-none d-md-table-cell\\\" (click)=\\\"sortKeyMetricsTable(9)\\\">Deliveries (Base Line)</th>\\n            </tr>\\n          </thead>\\n          <!--Table body-->\\n          <tbody>\\n            <tr *ngFor=\\\"let vp of visbokeymetrics; let vpIndex=index\\\" (click)='gotoClickedRow(vp)'\\n            data-toggle=\\\"modal\\\" data-target=\\\"#ProjectDetail\\\">\\n              <td>{{vp.name }}</td>\\n              <td *ngIf=\\\"selectedMetric('Costs')\\\" class=\\\"text-right\\\">{{vp.savingCostTotal*100 | number:'1.0-0'}} %</td>\\n              <td *ngIf=\\\"selectedMetric('Costs')\\\" class=\\\"text-right\\\">{{vp.keyMetrics.costBaseLastTotal | number:'1.0-0'}} k</td>\\n              <td *ngIf=\\\"selectedMetric('EndDate')\\\" class=\\\"text-right\\\">{{vp.savingEndDate | number:'1.0-0' }} weeks</td>\\n              <td *ngIf=\\\"selectedMetric('EndDate')\\\" class=\\\"text-right\\\">{{vp.keyMetrics.endDateBaseLast | date :'dd.MM.yyyy'}}</td>\\n              <td *ngIf=\\\"selectedMetric('Deadlines')\\\" class=\\\"text-right\\\">{{vp.timeCompletionActual*100 | number:'1.0-0'}} %</td>\\n              <td *ngIf=\\\"selectedMetric('Deadlines')\\\" class=\\\"text-right\\\">{{vp.keyMetrics.timeCompletionBaseLastActual | number:'1.0-0'}}</td>\\n              <td *ngIf=\\\"selectedMetric('Deliveries')\\\" class=\\\"text-right\\\">{{vp.deliveryCompletionActual*100 | number:'1.0-0'}} %</td>\\n              <td *ngIf=\\\"selectedMetric('Deliveries')\\\" class=\\\"text-right\\\">{{vp.keyMetrics.deliverableCompletionBaseLastActual | number:'1.0-0'}}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n        <table *ngIf=\\\"!hasVPPerm(permVP.ViewAudit)\\\" class='table table-hover table-sortable'>\\n          <!--Table head-->\\n          <thead>\\n            <tr>\\n              <th (click)=\\\"sortKeyMetricsTable(1)\\\">Project</th>\\n              <th class=\\\"text-right d-none d-md-table-cell\\\" (click)=\\\"sortKeyMetricsTable(7)\\\">Timestamp</th>\\n            </tr>\\n          </thead>\\n          <!--Table body-->\\n          <tbody>\\n            <tr *ngFor=\\\"let vp of visbokeymetrics; let vpIndex=index\\\" (click)='gotoClickedRow(vp)'\\n            data-toggle=\\\"modal\\\" data-target=\\\"#ProjectDetail\\\">\\n              <td>{{vp.name }}</td>\\n              <td class=\\\"text-right\\\">{{vp.timestamp  | date :'dd.MM.yyyy'}}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n    </div>\\n  </div>\\n  <div *ngIf=\\\"visbokeymetrics.length == 0\\\">\\n    <h3 class=\\\"d-flex justify-content-center\\\">\\n      No Project Versions related to this Date\\n    </h3>\\n  </div>\\n</div>\\n\\n<!-- Modal Change Key metrics -->\\n<div class=\\\"modal fade\\\" id=\\\"VpfMetricSelector\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"VpfMetricSelectorTitle\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"VpfMetricSelectorTitle\\\">Change Key Metrics</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <form #f=\\\"ngForm\\\" novalidate>\\n          <div class=\\\"form-group\\\">\\n            <label for=\\\"typeMetricX\\\" class=\\\"col-form-label\\\">X-Axis:</label>\\n            <select class=\\\"form-control\\\" id=\\\"typeMetricX\\\" name=\\\"typeMetricX\\\" [(ngModel)]=\\\"typeMetricX\\\">\\n              <option *ngFor=\\\"let metricItem of typeMetricList\\\">{{metricItem.name}}</option>\\n            </select>\\n          </div>\\n          <div class=\\\"form-group\\\">\\n            <label for=\\\"typeMetricY\\\" class=\\\"col-form-label\\\">Y-Axis:</label>\\n            <select class=\\\"form-control\\\" id=\\\"typeMetricY\\\" name=\\\"typeMetricY\\\" [(ngModel)]=\\\"typeMetricY\\\">\\n              <option *ngFor=\\\"let metricItem of typeMetricList\\\">{{metricItem.name}}</option>\\n            </select>\\n          </div>\\n          <div class=\\\"form-group\\\">\\n            <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"changeChart()\\\" data-dismiss=\\\"modal\\\">Change</button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"changeChart()\\\" data-dismiss=\\\"modal\\\">Cancel</button>\\n          </div>\\n        </form>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<div *ngIf=\\\"!sysadmin\\\">\\n  <visbo-navbar></visbo-navbar>\\n</div>\\n<div *ngIf=\\\"sysadmin\\\">\\n  <sysvisbo-navbar></sysvisbo-navbar>\\n</div>\\n<div class='well'>\\n  <div class='row'>\\n    <h2 *ngIf=\\\"!visboproject\\\" class='panel-heading ml-0'>\\n      Visbo Project Audit\\n    </h2>\\n    <h2 *ngIf=\\\"visboproject\\\" class='panel-heading ml-0'>\\n      Visbo Project Audit for: <a (click)=\\\"goBack()\\\">{{visboproject.name}}</a>\\n    </h2>\\n  </div>\\n  <form name=\\\"form\\\" (ngSubmit)=\\\"getVisboProjectAudits()\\\" #f=\\\"ngForm\\\" novalidate>\\n    <div *ngIf=\\\"sysadmin\\\" class=\\\"form-group row\\\">\\n      <label for=\\\"auditFrom\\\" class=\\\"col-1 col-form-label\\\">From:</label>\\n      <input id=\\\"auditFrom\\\" type=\\\"datetime-local\\\" class=\\\"col-2 col-sm-4 form-control\\\" name=\\\"auditFrom\\\" [(ngModel)]=\\\"auditFrom\\\">\\n      <label for=\\\"auditTo\\\" class=\\\"col-1 col-form-label\\\">To:</label>\\n      <input id=\\\"auditTo\\\" type=\\\"datetime-local\\\" class=\\\"col-2 col-sm-4 form-control\\\" name=\\\"auditTo\\\" [(ngModel)]=\\\"auditTo\\\" >\\n    </div>\\n    <div *ngIf=\\\"!sysadmin\\\" class=\\\"form-group row\\\">\\n      <label for=\\\"auditFrom\\\" class=\\\"col-1 col-form-label\\\">From:</label>\\n      <input id=\\\"auditFrom\\\" type=\\\"date\\\" class=\\\"col-2 col-sm-4 form-control\\\" name=\\\"auditFrom\\\" [(ngModel)]=\\\"auditFrom\\\">\\n      <label for=\\\"auditTo\\\" class=\\\"col-1 col-form-label\\\">To:</label>\\n      <input id=\\\"auditTo\\\" type=\\\"date\\\" class=\\\"col-2 col-sm-4 form-control\\\" name=\\\"auditTo\\\" [(ngModel)]=\\\"auditTo\\\" >\\n    </div>\\n    <div class=\\\"form-group row\\\">\\n      <label for=\\\"auditText\\\" class=\\\"col-1 col-form-label\\\">Filter:</label>\\n      <input id=\\\"auditText\\\" type=\\\"text\\\" class=\\\"col-2 col-sm-3 form-control\\\" name=\\\"auditText\\\" [(ngModel)]=\\\"auditText\\\" >\\n\\n      <label for=\\\"auditCount\\\" class=\\\"col-1 col-form-label\\\">Max:</label>\\n      <select class=\\\"col-1 form-control mx-1\\\" name=\\\"auditCount\\\" [(ngModel)]=\\\"auditCount\\\">\\n        <option>50</option>\\n        <option>100</option>\\n        <option>500</option>\\n        <option>2000</option>\\n      </select>\\n      <select class=\\\"col-1 form-control mx-1\\\" id=\\\"auditType\\\" name=\\\"auditType\\\" [(ngModel)]=\\\"auditType\\\">\\n        <option *ngFor=\\\"let actionItem of auditTypeList\\\">{{actionItem.name}}</option>\\n      </select>\\n      <div class='btn-group '>\\n        <button type=\\\"button\\\" class=\\\"btn btn-sm btn-primary ml-auto mx-1\\\" (click)=\\\"getVisboProjectAudits()\\\">Filter</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-sm btn-secondary ml-auto mx-1\\\" (click)=\\\"downloadVisboAudit()\\\">Download</button>\\n      </div>\\n    </div>\\n  </form>\\n  <div class='container-fluid'>\\n    <div class='panel-body'>\\n      <table class='table table-hover table-sortable'>\\n        <!--Table head-->\\n        <thead>\\n          <tr>\\n            <th class=\\\"d-none d-md-table-cell\\\" (click)=\\\"sortTable(1)\\\">Created</th>\\n            <th (click)=\\\"sortTable(2)\\\">User</th>\\n            <th (click)=\\\"sortTable(3)\\\"> Action</th>\\n            <th class=\\\"d-none d-md-table-cell\\\" (click)=\\\"sortTable(4)\\\"> Info</th>\\n            <th class=\\\"d-none d-lg-table-cell\\\" (click)=\\\"sortTable(5)\\\"> Result</th>\\n            <th>Detail</th>\\n          </tr>\\n        </thead>\\n        <!--Table body-->\\n        <tbody>\\n          <tr *ngFor=\\\"let auditentry of audit; let auditIndex=index\\\" (click)='helperAuditIndex(auditIndex)'\\n          data-toggle=\\\"modal\\\" data-target=\\\"#AuditDetail\\\">\\n          <td  *ngIf=\\\"isToday(auditentry.createdAt)\\\" class=\\\"d-none d-md-table-cell\\\">{{auditentry.createdAt | date :'HH:mm:ss'}}</td>\\n          <td  *ngIf=\\\"!isToday(auditentry.createdAt)\\\" class=\\\"d-none d-md-table-cell\\\">{{auditentry.createdAt | date :'dd.MM HH:mm'}}</td>\\n            <td *ngIf=\\\"auditentry.user\\\" >{{auditentry.user.email }}</td>\\n            <td *ngIf=\\\"!auditentry.user\\\"> Unknown </td>\\n            <td>{{auditentry.actionDescription }}</td>\\n            <td class=\\\"d-none d-md-table-cell\\\" >{{helperShortenText(auditentry.actionInfo, 30) }}</td>\\n            <td class=\\\"d-none d-lg-table-cell\\\" >{{helperResponseText(auditentry) }}</td>\\n            <td>\\n              <button class=\\\"Detail\\\" title=\\\"Detail of Visbo Audit\\\" (click)='helperAuditIndex(auditIndex)'\\n              data-toggle=\\\"modal\\\" data-target=\\\"#AuditDetail\\\">i</button>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal fade\\\" id=\\\"AuditDetail\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"Audit Detail\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-lg modal-dialog-centered\\\" role=\\\"document\\\" *ngIf=\\\"auditIndex >= 0 && auditIndex < audit.length\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"AuditDetailTitle\\\">Detail of Audit Entry</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-11\\\">\\n            <h3 title=\\\"Previous Entry\\\" (click)='pageAuditIndex(-1)'><a class=\\\"px-3 col-1 fas fa-caret-square-left\\\"></a></h3>\\n          </div>\\n          <div class=\\\"col-1\\\">\\n            <h3 title=\\\"Next Entry\\\" (click)='pageAuditIndex(1)'><a class=\\\"px-3 col-1 fas fa-caret-square-right\\\"></a></h3>\\n          </div>\\n        </div>\\n        <form>\\n          <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Created:</label>\\n          <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].createdAt | date :'dd.MM.yyyy HH:mm:ss.SSS' }} </label>\\n          <label class=\\\"py-0 m-0 col-4 form-control-static\\\">User:</label>\\n          <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].user.email }} </label>\\n          <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Action:</label>\\n          <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].actionDescription }} </label>\\n          <div *ngIf=\\\"audit[auditIndex].actionInfo\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Info:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].actionInfo }} </label>\\n          </div>\\n          <div *ngIf=\\\"audit[auditIndex].vc\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Visbo Center:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].vc.name }} </label>\\n          </div>\\n          <div *ngIf=\\\"audit[auditIndex].vp\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Visbo Project:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].vp.name }} ({{ audit[auditIndex].vp.vpid }}) </label>\\n          </div>\\n          <div *ngIf=\\\"audit[auditIndex].vpv\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Project Version:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].vpv.name }} ({{ audit[auditIndex].vpv.vpvid }})</label>\\n          </div>\\n          <div>\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Result:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{helperResponseText(audit[auditIndex]) }} </label>\\n          </div>\\n          <div *ngIf=\\\"showMore\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">tech. Action:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].action }} </label>\\n          </div>\\n          <div *ngIf=\\\"showMore\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">URL:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\" style=\\\"overflow-wrap: break-word;\\\">{{ audit[auditIndex].url }} </label>\\n          </div>\\n          <div *ngIf=\\\"showMore\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Response Time:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].result.time }} ms </label>\\n          </div>\\n          <div *ngIf=\\\"showMore\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">Response Size:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ helperFormatBytes(audit[auditIndex].result.size || 0, 2) }} </label>\\n          </div>\\n          <div *ngIf=\\\"showMore\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">User Agent:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].userAgent }}</label>\\n          </div>\\n          <div *ngIf=\\\"showMore\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">IP:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].ip }}</label>\\n          </div>\\n          <div *ngIf=\\\"showMore && audit[auditIndex].ttl\\\">\\n            <label class=\\\"py-0 m-0 col-4 form-control-static\\\">TTL:</label>\\n            <label class=\\\"py-0 m-0 col-7 form-control-static\\\">{{ audit[auditIndex].ttl | date :'dd.MM HH:mm' }}</label>\\n          </div>\\n        </form>\\n      </div>\\n      <div class=\\\"modal-footer align-items-end\\\">\\n        <button *ngIf=\\\"!showMore\\\" type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"toggleDetail()\\\">More</button>\\n        <button *ngIf=\\\"showMore\\\" type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"toggleDetail()\\\">Less</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<visbo-navbar></visbo-navbar>\\n<div *ngIf=\\\"visboproject\\\">\\n  <h3>Project: <a (click)=\\\"gotoVPList(visboproject)\\\">{{ visboproject.name | uppercase }}</a></h3>\\n  <h5>Visbo Center:\\n    <a (click)=\\\"gotoVCDetail(visboproject)\\\">{{ visboproject.vc.name }}</a>\\n  </h5>\\n  <form>\\n    <div class=\\\"form-group row\\\">\\n      <label for=\\\"vpName\\\" class=\\\"col-3 col-md-2 col-form-label\\\">Name:</label>\\n      <input *ngIf=\\\"hasVPPerm(permVP.Modify)\\\" type=\\\"text\\\" name=vpName class=\\\"col-sm-8 form-control\\\" [(ngModel)]=\\\"visboproject.name\\\" placeholder=\\\"Name\\\">\\n      <label *ngIf=\\\"!hasVPPerm(permVP.Modify)\\\" class=\\\"col-8 form-control-static\\\">{{ visboproject.name }} </label>\\n    </div>\\n    <div class=\\\"form-group row\\\">\\n      <label for=\\\"vpDescription\\\" class=\\\"col-3 col-md-2 col-form-label\\\">Description:</label>\\n      <textarea *ngIf=\\\"hasVPPerm(permVP.Modify)\\\" name=vpDescription class=\\\"col-8 form-control\\\" [(ngModel)]=\\\"visboproject.description\\\" placeholder=\\\"Type in your description\\\"></textarea>\\n      <label *ngIf=\\\"!hasVPPerm(permVP.Modify)\\\" class=\\\"col-8 form-control-static\\\">{{ visboproject.description }} </label>\\n    </div>\\n    <div class=\\\"form-group row\\\">\\n      <label for=\\\"vpType\\\" class=\\\"col-3 col-md-2 col-form-label\\\">Type:</label>\\n      <label name=vpType class=\\\"col form-control-static col-form-label\\\">{{ getVPType(visboproject.vpType) }} </label>\\n    </div>\\n    <div class=\\\"form-group row d-none d-md-block\\\">\\n      <label for=\\\"Created\\\" class=\\\"col-3 col-md-2 col-form-label\\\">Created / Updated at:</label>\\n      <label class=\\\"col-4 form-control-static col-form-label\\\">{{ visboproject.createdAt | date :'dd.MM.yyyy HH:mm:ss'}} </label>\\n      <label class=\\\"col-4 form-control-static col-form-label\\\">{{ visboproject.updatedAt | date :'dd.MM.yyyy HH:mm:ss'}} </label>\\n    </div>\\n  </form>\\n  <div *ngIf=\\\"getVPPerm() != permVP.View\\\">\\n    <div class=\\\"btn-toolbar\\\" style=\\\"\\\">\\n      <button *ngIf=\\\"hasVPPerm(permVP.ViewAudit)\\\" type=\\\"button\\\" class=\\\"btn btn-md btn-light mr-1\\\" (click)=\\\"gotoVPAudit(visboproject)\\\">View Audit</button>\\n      <button *ngIf=\\\"!showGroups\\\" type=\\\"button\\\" class=\\\"btn btn-md btn-light mr-1\\\" (click)=\\\"toggleUserGroup()\\\">Show Groups</button>\\n      <button *ngIf=\\\"showGroups\\\" type=\\\"button\\\" class=\\\"btn btn-md btn-light mr-1\\\" (click)=\\\"toggleUserGroup()\\\">Show Users</button>\\n    </div>\\n\\n    <div *ngIf=\\\"!showGroups\\\" >\\n      <div >\\n        <div class='row'>\\n          <div class='col'>\\n            <h5 class='panel-heading'>\\n                Visbo Project Users\\n            </h5>\\n          </div>\\n          <div *ngIf=\\\"hasVPPerm(permVP.ManagePerm)\\\" class='col'>\\n            <!-- Button trigger modal -->\\n            <button type=\\\"button\\\" class=\\\"my-1 btn btn-primary float-right\\\" data-toggle=\\\"modal\\\" data-target=\\\"#VpUserModalCreate\\\">Add User</button>\\n          </div>\\n        </div>\\n        <div class='panel-body'>\\n          <table class='table table-hover'>\\n            <!--Table head-->\\n            <thead>\\n              <tr>\\n                <th>Nr.</th>\\n                <th (click)=\\\"sortUserTable(1)\\\">e-mail</th>\\n                <th (click)=\\\"sortUserTable(2)\\\">Group</th>\\n                <th class=\\\"d-none d-md-table-cell\\\">Type</th>\\n                <th *ngIf=\\\"!deleted && hasVPPerm(permVP.ManagePerm)\\\">Delete</th>\\n              </tr>\\n            </thead>\\n            <!--Table body-->\\n            <tbody>\\n              <tr *ngFor=\\\"let member of vgUsers; let memberIndex=index\\\"> <!-- class=\\\"danger\\\"> -->\\n                <td>{{memberIndex+1}}</td>\\n                <td>{{member.email}}</td>\\n                <td>{{member.groupName}}</td>\\n                <td class=\\\"d-none d-md-table-cell\\\">{{member.groupType == 'VP' ? '' : 'Global'}}</td>\\n                <td *ngIf=\\\"!deleted && hasVPPerm(permVP.ManagePerm) && member.groupType == 'VP'\\\">\\n                  <button class=\\\"btn btn-sm\\\" title=\\\"Remove User\\\" (click)='helperRemoveUser(memberIndex)'\\n                  data-toggle=\\\"modal\\\" data-target=\\\"#VpUserRemove\\\">&times;</button>\\n                </td>\\n                <td *ngIf=\\\"!(!deleted && hasVPPerm(permVP.ManagePerm) && member.groupType == 'VP')\\\">\\n                </td>\\n              </tr>\\n            </tbody>\\n            <!--Table body-->\\n          </table>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div *ngIf=\\\"showGroups\\\" >\\n      <div>\\n        <div class='row'>\\n          <div class='col'>\\n            <h5 class='panel-heading'>\\n                Visbo Project Groups\\n            </h5>\\n          </div>\\n          <div *ngIf=\\\"hasVPPerm(permVP.ManagePerm)\\\" class='col'>\\n            <!-- Button trigger modal -->\\n            <button type=\\\"button\\\" class=\\\"btn btn-primary float-right\\\" (click)=\\\"initGroup(null)\\\" data-toggle=\\\"modal\\\" data-target=\\\"#VpGroupModalCreate\\\">\\n              Add Group\\n            </button>\\n          </div>\\n        </div>\\n        <div class='panel-body'>\\n          <table class='table table-hover'>\\n            <!--Table head-->\\n            <thead>\\n              <tr>\\n                <th>Nr.</th>\\n                <th (click)=\\\"sortGroupTable(1)\\\">Group</th>\\n                <th (click)=\\\"sortGroupTable(2)\\\">Members</th>\\n                <th class=\\\"d-none d-md-table-cell\\\">Flag</th>\\n                <th *ngIf=\\\"!deleted && hasVPPerm(permVP.ManagePerm)\\\">Delete</th>\\n                <th>Info</th>\\n              </tr>\\n            </thead>\\n            <!--Table body-->\\n            <tbody>\\n              <tr *ngFor=\\\"let member of vgGroups; let memberIndex=index\\\">\\n                <td>{{memberIndex+1}}</td>\\n                <td (click)='initGroup(member)' data-toggle=\\\"modal\\\" data-target=\\\"#VpGroupModalCreate\\\">{{member.name}}</td>\\n                <td>{{member.users.length}}</td>\\n                <td *ngIf=\\\"member.global\\\" class=\\\"d-none d-md-table-cell\\\">Global</td>\\n                <td *ngIf=\\\"!member.global\\\" class=\\\"d-none d-md-table-cell\\\"></td>\\n                <td *ngIf=\\\"!deleted && hasVPPerm(permVP.ManagePerm) && member.groupType == 'VP' && member.internal == false\\\">\\n                  <button class=\\\"btn btn-sm\\\" title=\\\"Remove Group\\\" (click)='helperRemoveGroup(memberIndex)'\\n                  data-toggle=\\\"modal\\\" data-target=\\\"#VpGroupRemove\\\">&times;</button>\\n                </td>\\n                <td *ngIf=\\\"!(!deleted && hasVPPerm(permVP.ManagePerm) && member.groupType == 'VP' && member.internal == false)\\\">\\n                </td>\\n                <td>\\n                  <button class=\\\"Detail\\\" title=\\\"Detail of Group\\\"\\n                   (click)='initGroup(member)' data-toggle=\\\"modal\\\" data-target=\\\"#VpGroupModalCreate\\\">i</button>\\n                </td>\\n              </tr>\\n            </tbody>\\n            <!--Table body-->\\n          </table>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <!-- Show Locks -->\\n    <div *ngIf=\\\"visboproject.lock.length >0\\\">\\n      <div class='row'>\\n        <div class='col'>\\n          <h5 class='panel-heading'>\\n              Visbo Project Locks\\n          </h5>\\n        </div>\\n      </div>\\n      <div class='panel-body'>\\n        <table class='table table-hover'>\\n          <!--Table head-->\\n          <thead>\\n            <tr>\\n              <th>User</th>\\n              <th>Expires</th>\\n              <th>Variant</th>\\n              <th>Delete</th>\\n            </tr>\\n          </thead>\\n          <!--Table body-->\\n          <tbody>\\n            <tr *ngFor=\\\"let lock of visboproject.lock; let lockIndex=index\\\">\\n              <td>{{visboproject.lock[lockIndex].email}}</td>\\n              <td>{{visboproject.lock[lockIndex].expiresAt | date :'dd.MM HH:mm'}}</td>\\n              <td>{{visboproject.lock[lockIndex].variantName}}</td>\\n              <td *ngIf=\\\"!deleted && hasVPPerm(permVP.Modify)\\\">\\n                <button class=\\\"btn btn-sm\\\" title=\\\"Unlock\\\" (click)='unlockVP(lockIndex)'\\n                data-toggle=\\\"modal\\\" data-target=\\\"#VpUnlock\\\">&times;</button>\\n              </td>\\n            </tr>\\n          </tbody>\\n          <!--Table body-->\\n        </table>\\n      </div>\\n    </div>\\n  </div>\\n  <div>\\n    <button *ngIf=\\\"!deleted && hasVPPerm(permVP.Modify)\\\" (click)=\\\"save()\\\" class=\\\"btn btn-primary mr-1\\\">save</button>\\n    <button *ngIf=\\\"deleted && hasVPPerm(permVP.DeleteVP)\\\" (click)=\\\"save()\\\" class=\\\"btn btn-primary mx-1\\\">Restore</button>\\n    <button (click)=\\\"goBack()\\\">go back</button>\\n    <button *ngIf=\\\"!deleted && hasVPPerm(permVP.DeleteVP)\\\" class=\\\"btn bg-warning mx-1\\\" style=\\\"float: right\\\" title=\\\"Delete Visbo Project\\\" data-toggle=\\\"modal\\\" data-target=\\\"#VpDelete\\\">Delete!</button>\\n    <button *ngIf=\\\"deleted && hasVPPerm(permVP.DeleteVP)\\\" class=\\\"btn bg-danger text-white mx-1\\\" style=\\\"float: right\\\" title=\\\"Destroy Visbo Project\\\" data-toggle=\\\"modal\\\" data-target=\\\"#VpDelete\\\">Destroy!</button>\\n  </div>\\n\\n  <!-- Modal Add VP User -->\\n  <div class=\\\"modal fade\\\" id=\\\"VpUserModalCreate\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"VpUserModalCreateTitle\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h5 class=\\\"modal-title\\\" id=\\\"VpUserModalCenterTitle\\\">Add a new User to the Project</h5>\\n          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <form name=\\\"newUserInvite\\\" #f=\\\"ngForm\\\" novalidate>\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !email.valid }\\\">\\n              <label for=\\\"email\\\" class=\\\"col-form-label\\\">Name:</label>\\n              <input type=\\\"email\\\" class=\\\"form-control\\\" name=\\\"email\\\" [(ngModel)]=\\\"newUserInvite.email\\\" #email=\\\"ngModel\\\" required pattern=\\\"[^@\\\\s]+@[^@\\\\s]+\\\\.[^@\\\\s]+\\\" autocomplete=\\\"email\\\">\\n              <div *ngIf=\\\"f.submitted && !email.valid\\\" class=\\\"help-block\\\">E-Mail address is required</div>\\n            </div>\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !group.valid }\\\">\\n              <label for=\\\"group\\\" class=\\\"col-form-label\\\">Group:</label>\\n              <select class=\\\"form-control\\\" name=\\\"group\\\" [(ngModel)]=\\\"newUserInvite.groupName\\\" #group=\\\"ngModel\\\" required>\\n                <option></option>\\n                <option *ngFor=\\\"let groupItem of vgGroupsInvite\\\">{{groupItem.name}}</option>\\n              </select>\\n              <div *ngIf=\\\"f.submitted && !group.valid\\\" class=\\\"help-block\\\">Group must be defined</div>\\n            </div>\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !inviteMessage.valid }\\\">\\n              <label for=\\\"inviteMessage\\\" class=\\\"col-form-label\\\">Message:</label>\\n              <textarea class=\\\"form-control\\\" name=\\\"inviteMessage\\\" [(ngModel)]=\\\"newUserInvite.inviteMessage\\\" #inviteMessage=\\\"ngModel\\\" > </textarea>\\n            </div>\\n            <div *ngIf=\\\"f.submitted && !inviteMessage.valid\\\" class=\\\"help-block\\\">Error in Message</div>\\n            <div class=\\\"form-group\\\">\\n              <button *ngIf=\\\"!(email.valid && group.valid)\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\" >Invite</button>\\n              <button *ngIf=\\\"email.valid && group.valid\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"addNewVPUser()\\\" data-dismiss=\\\"modal\\\">Invite</button>\\n              <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Cancel</button>\\n            </div>\\n          </form>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <!-- Modal Delete User -->\\n  <div class=\\\"modal fade\\\" id=\\\"VpUserRemove\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"Remove User\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\" *ngIf=\\\"userIndex >= 0 && userIndex < vgUsers.length\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h5 class=\\\"modal-title\\\" id=\\\"VpUserRemoveTitle\\\">Remove User from Project Group</h5>\\n          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <div>\\n            <label class=\\\"bg-warning\\\">Do you really want to remove this User from the Project Group? </label>\\n          </div>\\n          <form>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"VpName\\\" class=\\\"col-form-label\\\">Project:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ visboproject.name }} </label>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label class=\\\"col-form-label\\\">User:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ vgUsers[userIndex].email }}</label>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label class=\\\"col-form-label\\\">Group:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ vgUsers[userIndex].groupName }}</label>\\n            </div>\\n          </form>\\n        </div>\\n        <div class=\\\"modal-footer align-items-end\\\">\\n          <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n          <button type=\\\"button\\\" class=\\\"btn btn-warning\\\" (click)=\\\"removeVPUser(vgUsers[userIndex], visboproject._id)\\\" data-dismiss=\\\"modal\\\">Remove</button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <!-- Modal Add/Change VP Group -->\\n  <div class=\\\"modal fade\\\" id=\\\"VpGroupModalCreate\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"VpGroupModalCreateTitle\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\" >\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h5 *ngIf=\\\"actGroup.confirm == 'Modify'\\\" class=\\\"modal-title\\\" id=\\\"VpGroupModalCenterTitle\\\">Modify a Group in the Visbo Project</h5>\\n          <h5 *ngIf=\\\"actGroup.confirm == 'View'\\\" class=\\\"modal-title\\\" id=\\\"VpGroupModalCenterTitle\\\">View a Group in the Visbo Project</h5>\\n          <h5 *ngIf=\\\"!actGroup.gid\\\" class=\\\"modal-title\\\" id=\\\"VpGroupModalCenterTitle\\\">Add a new Group to the Visbo Project</h5>\\n          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <form name=\\\"actGroup\\\" #f=\\\"ngForm\\\" novalidate>\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'has-error': f.submitted && !email.valid }\\\">\\n              <label for=\\\"groupName\\\" class=\\\"col-form-label\\\">Name:</label>\\n              <input *ngIf=\\\"!actGroup.internal\\\" type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"groupName\\\" [(ngModel)]=\\\"actGroup.groupName\\\" #groupName=\\\"ngModel\\\" required>\\n              <label *ngIf=\\\"actGroup.internal\\\" class=\\\"col-form-label\\\">{{actGroup.groupName}}</label>\\n              <div *ngIf=\\\"f.submitted && !actGroup.groupName.valid\\\" class=\\\"help-block\\\">Group Name is required</div>\\n            </div>\\n            <!-- VP Permissions -->\\n            <div>Define Visbo Project Permission</div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP1\\\" name=\\\"checkedVPView\\\" [(ngModel)]=\\\"actGroup.checkedVPView\\\" #checkedVPView=\\\"ngModel\\\">\\n                <label class=\\\"custom-control-label\\\" for=\\\"permVP1\\\">View Visbo Project</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP2\\\" name=\\\"checkedVPViewAudit\\\" [(ngModel)]=\\\"actGroup.checkedVPViewAudit\\\" #checkedVPViewAudit=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"permVP2\\\">View Project Audit</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP3\\\" name=\\\"checkedVPModify\\\" [(ngModel)]=\\\"actGroup.checkedVPModify\\\" #checkedVPModify=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"permVP3\\\">Modify Visbo Project</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP4\\\" name=\\\"checkedCreateVariant\\\" [(ngModel)]=\\\"actGroup.checkedCreateVariant\\\" #checkedCreateVariant=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"permVP4\\\">Create Visbo Project Variant</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP5\\\" name=\\\"checkedVPManagePerm\\\" [(ngModel)]=\\\"actGroup.checkedVPManagePerm\\\" #checkedVPManagePerm=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"permVP5\\\">Manage Permissions, Users and Groups</label>\\n            </div>\\n            <div class=\\\"custom-control custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"permVP6\\\" name=\\\"checkedVPDelete\\\" [(ngModel)]=\\\"actGroup.checkedVPDelete\\\" #checkedVPDelete=\\\"ngModel\\\" >\\n                <label class=\\\"custom-control-label\\\" for=\\\"permVP6\\\">Delete Visbo Project</label>\\n            </div>\\n\\n            <div class=\\\"form-group\\\">\\n              <button *ngIf=\\\"!(f.form.valid && !deleted && hasVPPerm(permVP.ManagePerm))\\\" type=\\\"submit\\\" class=\\\"btn btn-primary disabled\\\" >{{this.actGroup.confirm}}</button>\\n              <button *ngIf=\\\"(f.form.valid && !deleted && hasVPPerm(permVP.ManagePerm))\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"addModifyVPGroup()\\\" data-dismiss=\\\"modal\\\">{{this.actGroup.confirm}}</button>\\n              <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Cancel</button>\\n            </div>\\n          </form>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n\\n  <!-- Modal Delete Group -->\\n  <div class=\\\"modal fade\\\" id=\\\"VpGroupRemove\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"VpGroupModalRemoveTitle\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\" *ngIf=\\\"groupIndex >= 0 && groupIndex < vgGroups.length\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h5 class=\\\"modal-title\\\" id=\\\"VpUserRemoveTitle\\\">Remove Group from Visbo Project</h5>\\n          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <div>\\n            <label class=\\\"bg-warning\\\">Do you really want to remove this Group from Visbo Project? </label>\\n          </div>\\n          <form>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"VcName\\\" class=\\\"col-form-label\\\">Visbo Project:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ visboproject.name }} </label>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label class=\\\"col-form-label\\\">Group:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ vgGroups[groupIndex].name }}</label>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label class=\\\"col-form-label\\\">Members:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ vgGroups[groupIndex].users.length }}</label>\\n            </div>\\n          </form>\\n        </div>\\n        <div class=\\\"modal-footer align-items-end\\\">\\n          <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n          <button type=\\\"button\\\" class=\\\"btn btn-warning\\\" (click)=\\\"removeVPGroup(vgGroups[groupIndex], visboproject._id)\\\" data-dismiss=\\\"modal\\\">Remove</button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <!-- Modal Delete VP -->\\n  <div class=\\\"modal fade\\\" id=\\\"VpDelete\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"Delete Project\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h5 class=\\\"modal-title\\\" id=\\\"VpDeleteTitle\\\">Delete this Project</h5>\\n          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <div>\\n            <label *ngIf=\\\"!deleted\\\" class=\\\"bg-warning\\\">Do you really want to delete this Project? </label>\\n            <label *ngIf=\\\"deleted\\\" class=\\\"bg-danger text-white\\\">Do you really want to destroy this Project? </label>\\n          </div>\\n          <form>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"VpName\\\" class=\\\"col-form-label\\\">Name:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ visboproject.name }} </label>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"VpDescription\\\" class=\\\"col-form-label\\\">Description:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ visboproject.description }} </label>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"VpVersions\\\" class=\\\"col-form-label\\\">Versions:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ visboproject.vpvCount }} </label>\\n            </div>\\n          </form>\\n        </div>\\n        <div class=\\\"modal-footer align-items-end\\\">\\n          <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n          <button *ngIf=\\\"!deleted\\\" type=\\\"button\\\" class=\\\"btn btn-warning text-white\\\" (click)=\\\"delete(visboproject)\\\" data-dismiss=\\\"modal\\\">Delete</button>\\n          <button *ngIf=\\\"deleted\\\" type=\\\"button\\\" class=\\\"btn btn-danger text-white\\\" (click)=\\\"delete(visboproject)\\\" data-dismiss=\\\"modal\\\">Destroy</button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<visbo-navbar></visbo-navbar>\\n<div class='well'>\\n  <div class='row'>\\n    <div class='col'>\\n      <h2 *ngIf=\\\"!vpActive\\\">\\n        Project Key Metrics\\n      </h2>\\n      <h2 *ngIf=\\\"vpActive\\\">\\n        Key Metrics for: <a (click)=\\\"gotoVPDetail(vpActive)\\\">{{vpActive.name}}</a>\\n      </h2>\\n      <h5 *ngIf=\\\"vpActive\\\">Visbo Center:\\n        <a (click)=\\\"gotoVC(vpActive)\\\">{{ vpActive.vc.name }}</a>\\n      </h5>\\n    </div>\\n  </div>\\n  <div *ngIf=\\\"hasVPPerm(permVP.ViewAudit) && vpvKeyMetricActive\\\">\\n    <form>\\n      <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n          <label for=\\\"vpName\\\" class=\\\"col-3 col-md-2\\\">Status of:</label>\\n          <dt class=\\\"col-8\\\">{{ vpvKeyMetricActive.timestamp | date :'dd.MM.yyyy hh:mm'}} </dt>\\n        </div>\\n        <table *ngIf=\\\"hasVPPerm(permVP.ViewAudit) && vpvKeyMetricActive\\\" class='table table-hover table-sortable'>\\n          <!--Table head-->\\n          <thead>\\n            <tr>\\n              <th>Key Metric</th>\\n              <th>Actual</th>\\n              <th>Total</th>\\n              <th class=\\\"d-none d-md-table-cell\\\">Ahead/Delay</th>\\n              <th>Detail</th>\\n              <th class=\\\"d-none d-md-table-cell\\\">Trend</th>\\n            </tr>\\n          </thead>\\n          <!--Table body-->\\n          <tbody>\\n            <tr>\\n              <td (click)=\\\"switchTo('Costs')\\\">Cost Achievement</td>\\n              <td title=\\\"Actual Cost Achievement\\\" (click)=\\\"switchTo('Costs')\\\">\\n                <span *ngIf=\\\"qualityCost == 1\\\" class=\\\"fas fa-check-circle\\\" style=\\\"color:green\\\"></span>\\n                <span *ngIf=\\\"qualityCost == 2\\\" class=\\\"fas fa-exclamation-triangle\\\" style=\\\"color:orange\\\"></span>\\n                <span *ngIf=\\\"qualityCost == 3\\\" class=\\\"fas fa-exclamation-circle\\\" style=\\\"color:red\\\"></span>\\n                <span> {{100 - vpvKeyMetricActive.savingCostActual | number:'1.0-0'}} % </span>\\n              </td>\\n              <td title=\\\"Total Cost Achievement\\\" (click)=\\\"switchTo('Costs')\\\">\\n                <span *ngIf=\\\"qualityTotalCost == 1\\\" class=\\\"fas fa-check-circle\\\" style=\\\"color:green\\\"></span>\\n                <span *ngIf=\\\"qualityTotalCost == 2\\\" class=\\\"fas fa-exclamation-triangle\\\" style=\\\"color:orange\\\"></span>\\n                <span *ngIf=\\\"qualityTotalCost == 3\\\" class=\\\"fas fa-exclamation-circle\\\" style=\\\"color:red\\\"></span>\\n                <span> {{100 - vpvKeyMetricActive.savingCostTotal | number:'1.0-0'}} % </span>\\n              </td>\\n              <td class=\\\"d-none d-md-table-cell\\\"></td>\\n              <td>\\n                <button class=\\\"Detail\\\" title=\\\"View Monthly Cost\\\"\\n                (click)=\\\"gotoViewCost()\\\">View</button>\\n              </td>\\n              <td>\\n                <button class=\\\"Detail\\\" title=\\\"Trend of Cost Metrics\\\"\\n                (click)=\\\"switchTo('Costs')\\\">i</button>\\n              </td>\\n            </tr>\\n            <tr (click)=\\\"switchTo('Deliveries')\\\">\\n              <td>Delivery Achievement</td>\\n              <td title=\\\"Actual Delivery Achievement\\\">\\n                <span *ngIf=\\\"qualityDelivery == 1\\\" class=\\\"fas fa-check-circle\\\" style=\\\"color:green\\\"></span>\\n                <span *ngIf=\\\"qualityDelivery == 2\\\" class=\\\"fas fa-exclamation-triangle\\\" style=\\\"color:orange\\\"></span>\\n                <span *ngIf=\\\"qualityDelivery == 3\\\" class=\\\"fas fa-exclamation-circle\\\" style=\\\"color:red\\\"></span>\\n                <span> {{vpvKeyMetricActive.deliveryCompletionActual | number:'1.0-0'}} % </span>\\n              </td>\\n              <td>\\n                <span>{{vpvKeyMetricActive.keyMetrics.deliverableCompletionCurrentTotal | number:'1.0-0'}} </span>\\n                <span *ngIf=\\\"vpvKeyMetricActive.keyMetrics.deliverableCompletionCurrentTotal < vpvKeyMetricActive.keyMetrics.deliverableCompletionBaseLastTotal\\\" class=\\\"text-danger\\\">({{vpvKeyMetricActive.keyMetrics.deliverableCompletionBaseLastTotal - vpvKeyMetricActive.keyMetrics.deliverableCompletionCurrentTotal}} Missing)</span>\\n                <span *ngIf=\\\"vpvKeyMetricActive.keyMetrics.deliverableCompletionCurrentTotal == vpvKeyMetricActive.keyMetrics.deliverableCompletionBaseLastTotal\\\" >(in Plan)</span>\\n              </td>\\n              <td class=\\\"d-none d-md-table-cell\\\" title=\\\"Status Actual Deliveries in Time\\\">\\n                <span *ngIf=\\\"delayActualDelivery == 1\\\" class=\\\"fas fa-check-circle\\\" style=\\\"color:green\\\"></span>\\n                <span *ngIf=\\\"delayActualDelivery == 2\\\" class=\\\"fas fa-exclamation-triangle\\\" style=\\\"color:orange\\\"></span>\\n                <span *ngIf=\\\"delayActualDelivery == 3\\\" class=\\\"fas fa-exclamation-circle\\\" style=\\\"color:red\\\"></span>\\n                <span> / </span>\\n                <span *ngIf=\\\"delayTotalDelivery == 1\\\" class=\\\"fas fa-check-circle\\\" style=\\\"color:green\\\"></span>\\n                <span *ngIf=\\\"delayTotalDelivery == 2\\\" class=\\\"fas fa-exclamation-triangle\\\" style=\\\"color:orange\\\"></span>\\n                <span *ngIf=\\\"delayTotalDelivery == 3\\\" class=\\\"fas fa-exclamation-circle\\\" style=\\\"color:red\\\"></span>\\n                <span> Delay</span>\\n              </td>\\n              <td>\\n              </td>\\n              <td>\\n                <button class=\\\"Detail\\\" title=\\\"Trend of Cost Metrics\\\"\\n                (click)=\\\"switchTo('Deliveries')\\\">i</button>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td (click)=\\\"switchTo('Deadlines')\\\">Deadline Achievement</td>\\n              <td (click)=\\\"switchTo('Deadlines')\\\" title=\\\"Actual Deadline Achievement\\\">\\n                <span *ngIf=\\\"qualityDeadlines == 1\\\" class=\\\"fas fa-check-circle\\\" style=\\\"color:green\\\"></span>\\n                <span *ngIf=\\\"qualityDeadlines == 2\\\" class=\\\"fas fa-exclamation-triangle\\\" style=\\\"color:orange\\\"></span>\\n                <span *ngIf=\\\"qualityDeadlines == 3\\\" class=\\\"fas fa-exclamation-circle\\\" style=\\\"color:red\\\"></span>\\n                <span> {{vpvKeyMetricActive.timeCompletionActual | number:'1.0-0'}} % </span>\\n              </td>\\n              <td (click)=\\\"switchTo('Deadlines')\\\">\\n                <span>{{vpvKeyMetricActive.keyMetrics.timeCompletionCurrentTotal | number:'1.0-0'}} </span>\\n                <span *ngIf=\\\"vpvKeyMetricActive.keyMetrics.timeCompletionCurrentTotal < vpvKeyMetricActive.keyMetrics.timeCompletionBaseLastTotal\\\" class=\\\"text-danger\\\">({{vpvKeyMetricActive.keyMetrics.timeCompletionBaseLastTotal - vpvKeyMetricActive.keyMetrics.timeCompletionCurrentTotal}} Missing)</span>\\n                <span *ngIf=\\\"vpvKeyMetricActive.keyMetrics.timeCompletionCurrentTotal == vpvKeyMetricActive.keyMetrics.timeCompletionBaseLastTotal\\\" >(in Plan)</span>\\n              </td>\\n              <td (click)=\\\"switchTo('Deadlines')\\\" class=\\\"d-none d-md-table-cell\\\" title=\\\"Status Actual Deliveries in Time\\\">\\n                <span *ngIf=\\\"delayActualDeadlines == 1\\\" class=\\\"fas fa-check-circle\\\" style=\\\"color:green\\\"></span>\\n                <span *ngIf=\\\"delayActualDeadlines == 2\\\" class=\\\"fas fa-exclamation-triangle\\\" style=\\\"color:orange\\\"></span>\\n                <span *ngIf=\\\"delayActualDeadlines == 3\\\" class=\\\"fas fa-exclamation-circle\\\" style=\\\"color:red\\\"></span>\\n                <span> / </span>\\n                <span *ngIf=\\\"delayTotalDeadlines == 1\\\" class=\\\"fas fa-check-circle\\\" style=\\\"color:green\\\"></span>\\n                <span *ngIf=\\\"delayTotalDeadlines == 2\\\" class=\\\"fas fa-exclamation-triangle\\\" style=\\\"color:orange\\\"></span>\\n                <span *ngIf=\\\"delayTotalDeadlines == 3\\\" class=\\\"fas fa-exclamation-circle\\\" style=\\\"color:red\\\"></span>\\n                <!-- <span *ngIf=\\\"delayActualDelivery > 1 || delayTotalDelivery > 1\\\"> Delay</span> -->\\n                <span> Delay</span>\\n              </td>\\n              <td>\\n              </td>\\n              <td>\\n                <button class=\\\"Detail\\\" title=\\\"Trend of Cost Metrics\\\"\\n                (click)=\\\"switchTo('Deadlines')\\\">i</button>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Project End Date</td>\\n              <td>\\n                <span *ngIf=\\\"delayEndDate > 0\\\" class=\\\"fas fa-exclamation-circle\\\" style=\\\"color:red\\\"></span>\\n                <span *ngIf=\\\"delayEndDate <= 0\\\" class=\\\"fas fa-check-circle\\\" style=\\\"color:green\\\"></span>\\n                <span> {{ vpvKeyMetricActive.keyMetrics.endDateCurrent | date :'dd.MM.yyyy'}}</span>\\n              </td>\\n              <td></td>\\n              <td class=\\\"d-none d-md-table-cell\\\">\\n                <span *ngIf=\\\"delayEndDate > 0\\\" class=\\\"text-danger\\\"> {{delayEndDate | number:'1.1-1'}} Weeks Delay</span>\\n                <span *ngIf=\\\"delayEndDate < 0\\\" class=\\\"text-success\\\"> {{-delayEndDate | number:'1.1-1'}} Weeks Ahead</span>\\n                <span *ngIf=\\\"delayEndDate == 0\\\"> in Time</span>\\n              </td>\\n              <td></td>\\n              <td></td>\\n            </tr>\\n            <tr>\\n              <td>Traffic Light</td>\\n              <td title=\\\"{{ vpvKeyMetricActive.ampelErlaeuterung }}\\\">\\n                <span *ngIf=\\\"vpvKeyMetricActive.ampelStatus == 1\\\" class=\\\"fas fa-lightbulb text-success\\\"></span>\\n                <span *ngIf=\\\"vpvKeyMetricActive.ampelStatus == 2\\\" class=\\\"fas fa-lightbulb text-warning\\\"></span>\\n                <span *ngIf=\\\"vpvKeyMetricActive.ampelStatus == 3\\\" class=\\\"fas fa-lightbulb text-danger\\\"></span>\\n              </td>\\n              <td></td>\\n              <td class=\\\"d-none d-md-table-cell\\\" title=\\\"{{ vpvKeyMetricActive.ampelErlaeuterung }}\\\">\\n                {{ getShortText(vpvKeyMetricActive.ampelErlaeuterung, 40) }}\\n              </td>\\n              <td></td>\\n              <td></td>\\n            </tr>\\n            <tr *ngIf=\\\"vpvKeyMetricActive.leadPerson\\\">\\n              <td>Lead Person</td>\\n              <td title=\\\"{{ vpvKeyMetricActive.leadPerson }}\\\">\\n                {{ getShortText(vpvKeyMetricActive.leadPerson, 20) }}\\n              </td>\\n              <td></td>\\n              <td></td>\\n              <td></td>\\n              <td></td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n    </form>\\n    <div *ngIf=\\\"history\\\">\\n      <hr>\\n      <div class=\\\"btn-group\\\">\\n        <button *ngIf=\\\"hasVPPerm(permVP.ViewAudit)\\\" class=\\\"btn mx-1\\\" (click)=\\\"switchChart()\\\">{{chartButton}}</button>\\n        <button *ngIf=\\\"!this.chart\\\" type=\\\"button\\\" class=\\\"btn mx-1\\\" (click)=\\\"gotoVisboProjectVersions()\\\">Show All Versions</button>\\n      </div>\\n      <div *ngIf=\\\"chart && graphDataLineChart.length > 0\\\" >\\n        <div *ngIf=\\\"typeMetricChart == 'Costs'\\\">\\n          <app-line-chart [graphData]=\\\"graphDataLineChart\\\" [graphOptions]=\\\"graphOptionsLineChart\\\" [parentThis]=\\\"parentThis\\\"></app-line-chart>\\n        </div>\\n        <div *ngIf=\\\"typeMetricChart == 'Deadlines'\\\">\\n          <app-line-chart [graphData]=\\\"graphDataLineChart\\\" [graphOptions]=\\\"graphOptionsLineChart\\\" [parentThis]=\\\"parentThis\\\"></app-line-chart>\\n        </div>\\n        <div *ngIf=\\\"typeMetricChart == 'Deliveries'\\\">\\n          <app-line-chart [graphData]=\\\"graphDataLineChart\\\" [graphOptions]=\\\"graphOptionsLineChart\\\" [parentThis]=\\\"parentThis\\\"></app-line-chart>\\n        </div>\\n      </div>\\n      <div *ngIf=\\\"!chart && graphDataLineChart.length > 0\\\" >\\n        <table *ngIf=\\\"typeMetricChart == 'Costs'\\\" class='table table-hover table-sortable'>\\n          <!--Table head-->\\n          <thead>\\n            <tr>\\n              <th (click)=\\\"sortKeyMetricsTable(1)\\\">Time Stamp</th>\\n              <th class=\\\"text-right\\\" (click)=\\\"sortKeyMetricsTable(2)\\\">Actual Saving Cost</th>\\n              <th class=\\\"text-right\\\" (click)=\\\"sortKeyMetricsTable(3)\\\">Total Saving Cost</th>\\n              <th class=\\\"text-right d-none d-md-table-cell\\\" (click)=\\\"sortKeyMetricsTable(4)\\\">Actual Cost (Base Line)</th>\\n              <th class=\\\"text-right d-none d-md-table-cell\\\" (click)=\\\"sortKeyMetricsTable(5)\\\">Total Cost (Base Line)</th>\\n              <th class=\\\"text-right d-none d-md-table-cell\\\" (click)=\\\"sortKeyMetricsTable(6)\\\">Traffic Light</th>\\n              <th class=\\\"text-right d-none d-lg-table-cell\\\">Info</th>\\n            </tr>\\n          </thead>\\n          <!--Table body-->\\n          <tbody>\\n            <tr *ngFor=\\\"let vp of visbokeymetrics; let vpIndex=index\\\" (click)='listSelectRow(vp)'\\n            data-toggle=\\\"modal\\\" data-target=\\\"#ProjectDetail\\\">\\n              <td *ngIf=\\\"vp.timestamp == vpvKeyMetricActive.timestamp\\\" class=\\\"font-weight-bold\\\">{{vp.timestamp | date :'dd.MM.yyyy hh:mm' }}</td>\\n              <td *ngIf=\\\"vp.timestamp != vpvKeyMetricActive.timestamp\\\">{{vp.timestamp | date :'dd.MM.yyyy hh:mm' }}</td>\\n              <td class=\\\"text-right\\\">{{vp.savingCostActual | number:'1.0-0'}} %</td>\\n              <td class=\\\"text-right\\\">{{vp.savingCostTotal | number:'1.0-0'}} %</td>\\n              <td class=\\\"text-right\\\">{{vp.keyMetrics.costBaseLastActual | number:'1.0-0'}} k</td>\\n              <td class=\\\"text-right\\\">{{vp.keyMetrics.costBaseLastTotal | number:'1.0-0'}} k</td>\\n              <td class=\\\"text-right\\\">\\n                <span *ngIf=\\\"vp.ampelStatus == 1\\\" class=\\\"fas fa-lightbulb text-success\\\"></span>\\n                <span *ngIf=\\\"vp.ampelStatus == 2\\\" class=\\\"fas fa-lightbulb text-warning\\\"></span>\\n                <span *ngIf=\\\"vp.ampelStatus == 3\\\" class=\\\"fas fa-lightbulb text-danger\\\"></span>\\n              </td>\\n              <td><button class=\\\"Detail\\\" title=\\\"Version Detail\\\" (click)=\\\"gotoClickedRow(vp)\\\">i</button>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n\\n        <table *ngIf=\\\"typeMetricChart == 'Deadlines'\\\" class='table table-hover table-sortable'>\\n          <!--Table head-->\\n          <thead>\\n            <tr>\\n              <th (click)=\\\"sortKeyMetricsTable(1)\\\">Time Stamp</th>\\n              <th class=\\\"text-right\\\" (click)=\\\"sortKeyMetricsTable(10)\\\">Actual Completion</th>\\n              <th class=\\\"text-right\\\" (click)=\\\"sortKeyMetricsTable(11)\\\">Actual Deadlines (Base Line)</th>\\n              <th class=\\\"text-right d-none d-md-table-cell\\\" (click)=\\\"sortKeyMetricsTable(12)\\\">Total Deadlines (Base Line)</th>\\n              <th class=\\\"text-right d-none d-md-table-cell\\\" (click)=\\\"sortKeyMetricsTable(13)\\\">Actual Delay</th>\\n              <th class=\\\"text-right d-none d-md-table-cell\\\" (click)=\\\"sortKeyMetricsTable(14)\\\">Total Delay</th>\\n              <th class=\\\"text-right d-none d-md-table-cell\\\" (click)=\\\"sortKeyMetricsTable(6)\\\">Traffic Light</th>\\n          <th class=\\\"text-right d-none d-lg-table-cell\\\">Info</th>\\n            </tr>\\n          </thead>\\n          <!--Table body-->\\n          <tbody>\\n            <tr *ngFor=\\\"let vp of visbokeymetrics; let vpIndex=index\\\" (click)='listSelectRow(vp)'\\n            data-toggle=\\\"modal\\\" data-target=\\\"#ProjectDetail\\\">\\n              <td *ngIf=\\\"vp.timestamp == vpvKeyMetricActive.timestamp\\\" class=\\\"font-weight-bold\\\">{{vp.timestamp | date :'dd.MM.yyyy hh:mm' }}</td>\\n              <td *ngIf=\\\"vp.timestamp != vpvKeyMetricActive.timestamp\\\">{{vp.timestamp | date :'dd.MM.yyyy hh:mm' }}</td>\\n              <td class=\\\"text-right\\\">{{vp.timeCompletionActual | number:'1.0-0'}} %</td>\\n              <td class=\\\"text-right\\\">{{vp.keyMetrics.timeCompletionBaseLastActual | number:'1.0-0'}}</td>\\n              <td class=\\\"text-right\\\">{{vp.keyMetrics.timeCompletionBaseLastTotal | number:'1.0-0'}}</td>\\n              <td class=\\\"text-right\\\">{{vp.keyMetrics.timeDelayCurrentActual | number:'1.0-0'}}</td>\\n              <td class=\\\"text-right\\\">{{vp.keyMetrics.timeDelayCurrentTotal | number:'1.0-0'}}</td>\\n              <td class=\\\"text-right\\\">\\n                <span *ngIf=\\\"vp.ampelStatus == 1\\\" class=\\\"fas fa-lightbulb text-success\\\"></span>\\n                <span *ngIf=\\\"vp.ampelStatus == 2\\\" class=\\\"fas fa-lightbulb text-warning\\\"></span>\\n                <span *ngIf=\\\"vp.ampelStatus == 3\\\" class=\\\"fas fa-lightbulb text-danger\\\"></span>\\n              </td>\\n              <td><button class=\\\"Detail\\\" title=\\\"Version Detail\\\" (click)=\\\"gotoClickedRow(vp)\\\">i</button>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n\\n        <table *ngIf=\\\"typeMetricChart == 'Deliveries'\\\" class='table table-hover table-sortable'>\\n          <!--Table head-->\\n          <thead>\\n            <tr>\\n              <th (click)=\\\"sortKeyMetricsTable(1)\\\">Time Stamp</th>\\n              <th class=\\\"text-right\\\" (click)=\\\"sortKeyMetricsTable(20)\\\">Actual Completion</th>\\n              <th class=\\\"text-right\\\" (click)=\\\"sortKeyMetricsTable(21)\\\">Actual Deliveries (Base Line)</th>\\n              <th class=\\\"text-right d-none d-md-table-cell\\\" (click)=\\\"sortKeyMetricsTable(22)\\\">Total Deliveries (Base Line)</th>\\n              <th class=\\\"text-right d-none d-md-table-cell\\\" (click)=\\\"sortKeyMetricsTable(23)\\\">Actual Delay</th>\\n              <th class=\\\"text-right d-none d-md-table-cell\\\" (click)=\\\"sortKeyMetricsTable(24)\\\">Total Delay</th>\\n              <th class=\\\"text-right d-none d-md-table-cell\\\" (click)=\\\"sortKeyMetricsTable(6)\\\">Traffic Light</th>\\n          <th class=\\\"text-right d-none d-lg-table-cell\\\">Info</th>\\n            </tr>\\n          </thead>\\n          <!--Table body-->\\n          <tbody>\\n            <tr *ngFor=\\\"let vp of visbokeymetrics; let vpIndex=index\\\" (click)='listSelectRow(vp)'\\n            data-toggle=\\\"modal\\\" data-target=\\\"#ProjectDetail\\\">\\n              <td *ngIf=\\\"vp.timestamp == vpvKeyMetricActive.timestamp\\\" class=\\\"font-weight-bold\\\">{{vp.timestamp | date :'dd.MM.yyyy hh:mm' }}</td>\\n              <td *ngIf=\\\"vp.timestamp != vpvKeyMetricActive.timestamp\\\">{{vp.timestamp | date :'dd.MM.yyyy hh:mm' }}</td>\\n              <td class=\\\"text-right\\\">{{vp.deliveryCompletionActual | number:'1.0-0'}} %</td>\\n              <td class=\\\"text-right\\\">{{vp.keyMetrics.deliverableCompletionCurrentActual | number:'1.0-0'}}</td>\\n              <td class=\\\"text-right\\\">{{vp.keyMetrics.deliverableCompletionCurrentTotal | number:'1.0-0'}}</td>\\n              <td class=\\\"text-right\\\">{{vp.keyMetrics.deliverableDelayCurrentActual | number:'1.0-0'}}</td>\\n              <td class=\\\"text-right\\\">{{vp.keyMetrics.deliverableDelayCurrentTotal | number:'1.0-0'}}</td>\\n              <td class=\\\"text-right\\\">\\n                <span *ngIf=\\\"vp.ampelStatus == 1\\\" class=\\\"fas fa-lightbulb text-success\\\"></span>\\n                <span *ngIf=\\\"vp.ampelStatus == 2\\\" class=\\\"fas fa-lightbulb text-warning\\\"></span>\\n                <span *ngIf=\\\"vp.ampelStatus == 3\\\" class=\\\"fas fa-lightbulb text-danger\\\"></span>\\n              </td>\\n              <td><button class=\\\"Detail\\\" title=\\\"Version Detail\\\" (click)=\\\"gotoClickedRow(vp)\\\">i</button>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"!hasVPPerm(permVP.ViewAudit)\\\" class='container-fluid'>\\n    <div class='panel-body'>\\n      <table class='table table-hover table-sortable'>\\n        <!--Table head-->\\n        <thead>\\n          <tr>\\n            <th (click)=\\\"sortKeyMetricsTable(1)\\\">Project</th>\\n            <th class=\\\"text-right d-none d-md-table-cell\\\" (click)=\\\"sortKeyMetricsTable(7)\\\">Timestamp</th>\\n          </tr>\\n        </thead>\\n        <!--Table body-->\\n        <tbody>\\n          <tr *ngFor=\\\"let vp of visbokeymetrics; let vpIndex=index\\\" (click)='gotoClickedRow(vp)'\\n          data-toggle=\\\"modal\\\" data-target=\\\"#ProjectDetail\\\">\\n            <td>{{vp.name }}</td>\\n            <td class=\\\"text-right\\\">{{vp.timestamp  | date :'dd.MM.yyyy'}}</td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<visbo-navbar></visbo-navbar>\\n<div class='well'>\\n  <div class='row'>\\n    <div class='col'>\\n      <h2 *ngIf=\\\"!vpActive\\\">\\n        Project Key Metrics\\n      </h2>\\n      <h2 *ngIf=\\\"vpActive\\\">\\n        Monthly Costs for: <a (click)=\\\"gotoVP(vpActive)\\\">{{vpActive.name}}</a>\\n      </h2>\\n      <h5 *ngIf=\\\"vpActive\\\">Visbo Center:\\n        <a (click)=\\\"gotoVC(vpActive)\\\">{{ vpActive.vc.name }}</a>\\n      </h5>\\n    </div>\\n  </div>\\n  <div *ngIf=\\\"hasVPPerm(permVP.ViewAudit) && vpvActive && vpvCost\\\">\\n    <div class='container-fluid'>\\n      <div class=\\\"d-flex flex-row justify-content-center\\\">\\n        <h3 class=\\\"col-4\\\">\\n          <div class=\\\"d-none d-lg-block\\\">Version of: {{ vpvActive.timestamp | date :'dd.MM.yyyy'}}</div>\\n          <div class=\\\"d-block d-lg-none\\\">Version of: {{ vpvActive.timestamp | date :'dd.MM'}}</div>\\n        </h3>\\n        <div class=\\\"col-4\\\">\\n          <div class=\\\"row\\\">\\n            <span style=\\\"font-size: 2em\\\" class=\\\"mx-1 fas fa-caret-square-left\\\" title=\\\"Previous Period\\\" (click)='getRefDateVersions(-1)'></span>\\n            <select class=\\\"col-4 form-control d-none d-md-block\\\" name=\\\"refDateInterval\\\" [(ngModel)]=\\\"refDateInterval\\\">\\n              <option>day</option>\\n              <option>week</option>\\n              <option>month</option>\\n              <option>quarter</option>\\n            </select>\\n            <span style=\\\"font-size: 2em\\\" class=\\\"mx-1 fas fa-caret-square-right\\\" title=\\\"Next Period\\\" (click)='getRefDateVersions(1)'></span>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"d-flex flex-row justify-content-center\\\">\\n        Total Cost {{vpvTotalCostBaseLine | number : '1.0-0'}} k Base Line vs {{vpvTotalCostCurrent | number : '1.0-0'}} k Plan\\n      </div>\\n    </div>\\n\\n    <hr>\\n    <div *ngIf=\\\"chart && graphDataLineChart.length > 0\\\" >\\n      <app-line-chart [graphData]=\\\"graphDataLineChart\\\" [graphOptions]=\\\"graphOptionsLineChart\\\" [parentThis]=\\\"parentThis\\\"></app-line-chart>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<visbo-navbar></visbo-navbar>\\n<div class='well'>\\n  <div class='row'>\\n    <div class='col'>\\n      <h2 *ngIf=\\\"!vcActive\\\" class='panel-heading ml-0'>\\n        Projects\\n      </h2>\\n      <h2 *ngIf=\\\"vcActive\\\" class='panel-heading ml-0'>\\n        Projects in: <a (click)=\\\"gotoVCDetail(vcActive)\\\">{{vcActive.name}}</a>\\n      </h2>\\n    </div>\\n    <div class='btn-group'>\\n      <div *ngIf=\\\"hasVPPerm(permVP.DeleteVP)\\\">\\n          <button *ngIf=\\\"!deleted\\\" type=\\\"button\\\" class=\\\"m-2 btn btn-secondary\\\" (click)=\\\"toggleVisboProjects()\\\">Show Deleted</button>\\n          <button *ngIf=\\\"deleted\\\" type=\\\"button\\\" class=\\\"m-2 btn btn-secondary\\\" (click)=\\\"toggleVisboProjects()\\\">Show Existing</button>\\n      </div>\\n      <div *ngIf=\\\"vcActive && hasVCPerm(permVC.CreateVP)\\\">\\n        <button type=\\\"button\\\" class=\\\"m-2 btn btn-primary\\\" data-toggle=\\\"modal\\\" data-target=\\\"#VpModalCreate\\\">New Project</button>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class='panel-body'>\\n    <table class='table table-hover table-sortable'>\\n      <!--Table head-->\\n      <thead>\\n        <tr>\\n          <th class=\\\"d-none d-md-table-cell\\\">Nr.</th>\\n          <th (click)=\\\"sortVPTable(1)\\\">Name</th>\\n          <th class=\\\"d-none d-md-table-cell\\\" (click)=\\\"sortVPTable(5)\\\">Type</th>\\n          <th class=\\\"d-none d-md-table-cell\\\" (click)=\\\"sortVPTable(2)\\\">Modified</th>\\n          <th class=\\\"d-none d-md-table-cell\\\" (click)=\\\"sortVPTable(4)\\\"># Versions</th>\\n          <th class=\\\"d-none d-lg-table-cell\\\" (click)=\\\"sortVPTable(3)\\\">Visbo Center</th>\\n          <th>Info</th>\\n        </tr>\\n      </thead>\\n      <!--Table body-->\\n      <tbody>\\n        <tr *ngFor=\\\"let vp of visboprojects; let vpIndex=index\\\" (click)=\\\"gotoClickedRow(vp)\\\">\\n          <td class=\\\"d-none d-md-table-cell\\\">{{vpIndex+1}}</td>\\n          <td>{{vp.name}}</td>\\n          <td class=\\\"d-none d-md-table-cell\\\">{{getVPType(vp.vpType)}}</td>\\n          <td class=\\\"d-none d-lg-table-cell\\\">{{vp.updatedAt | date :'dd.MM.yyyy HH:mm'}}</td>\\n          <td class=\\\"d-none d-md-table-cell d-lg-none\\\">{{vp.updatedAt | date :'dd.MM.yy'}}</td>\\n          <td class=\\\"d-none d-md-table-cell\\\">{{vp.vpvCount}}</td>\\n          <td class=\\\"d-none d-lg-table-cell\\\" *ngIf=\\\"vp.vc\\\">{{vp.vc.name}}</td>\\n          <td class=\\\"d-none d-lg-table-cell\\\" *ngIf=\\\"!vp.vc\\\"> </td>\\n          <td>\\n            <button class=\\\"Detail\\\" title=\\\"Detail of Visbo Project\\\"\\n            (click)=\\\"gotoDetail(vp)\\\">i</button>\\n          </td>\\n        </tr>\\n      </tbody>\\n      <!--Table body-->\\n    </table>\\n  </div>\\n</div>\\n\\n<!-- Modal VP Create-->\\n<div class=\\\"modal fade\\\" id=\\\"VpModalCreate\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"VpModalCreateTitle\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"VpModalCenterTitle\\\">Create a new Visbo Project</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <form>\\n          <div class=\\\"form-group\\\">\\n            <label for=\\\"vpName\\\" class=\\\"col-form-label\\\">Name:</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" #vpName>\\n          </div>\\n          <div class=\\\"form-group\\\">\\n            <label class=\\\"col-form-label\\\">Description:</label>\\n            <textarea class=\\\"form-control\\\" #vpDescription></textarea>\\n          </div>\\n        </form>\\n      </div>\\n      <div class=\\\"modal-footer align-items-end\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"addproject(vpName.value, vcActive._id, vpDescription.value); vpName.value=''; vpDescription.value='';\\\" data-dismiss=\\\"modal\\\">Save</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<visbo-navbar></visbo-navbar>\\n<div *ngIf=\\\"visboprojectversion\\\">\\n  <h4>Version Details: <a (click)=\\\"gotoVPVList(visboprojectversion)\\\">{{ visboprojectversion.name | uppercase }}</a></h4>\\n  <form>\\n    <div class=\\\"form-group row\\\">\\n      <label for=\\\"vpName\\\" class=\\\"col-4 col-md-3 col-form-label\\\">Name:</label>\\n      <label class=\\\"col-8 form-control-static\\\">{{ visboprojectversion.name }} </label>\\n    </div>\\n    <div class=\\\"form-group row\\\">\\n      <label for=\\\"vpvDescription\\\" class=\\\"col-4 col-md-3 col-form-label\\\">Description:</label>\\n      <label class=\\\"col-8 form-control-static\\\">{{ visboprojectversion.description }} </label>\\n    </div>\\n\\n    <div class=\\\"form-group row\\\">\\n      <label for=\\\"Created\\\" class=\\\"col-4 col-md-3 col-form-label\\\">Created / Updated at:</label>\\n      <label class=\\\"col form-control-static col-form-label\\\">{{ visboprojectversion.createdAt | date :'dd.MM.yyyy HH:mm:ss'}} </label>\\n      <label class=\\\"col form-control-static col-form-label\\\">{{ visboprojectversion.updatedAt | date :'dd.MM.yyyy HH:mm:ss'}} </label>\\n    </div>\\n    <div class=\\\"form-group row\\\">\\n      <label for=\\\"Timestamp\\\" class=\\\"col-4 col-md-3 col-form-label\\\">Timestamp at:</label>\\n      <label class=\\\"col form-control-static col-form-label\\\">{{ visboprojectversion.timestamp | date :'dd.MM.yyyy HH:mm:ss'}} </label>\\n    </div>\\n    <div *ngIf=\\\"visboprojectversion.variantName\\\" class=\\\"form-group row\\\">\\n      <label for=\\\"Variant\\\" class=\\\"col-4 col-md-3 col-form-label\\\">Variant:</label>\\n      <label class=\\\"col form-control-static col-form-label\\\">{{ visboprojectversion.variantName}} </label>\\n    </div>\\n  </form>\\n\\n  <div>\\n    <button *ngIf=\\\"deleted && hasVPPerm(permVP.DeleteVP)\\\" (click)=\\\"save()\\\" class=\\\"btn btn-primary\\\">Restore</button>\\n    <button (click)=\\\"goBack()\\\">go back</button>\\n    <button *ngIf=\\\"!deleted && hasVPPerm(permVP.DeleteVP)\\\" class=\\\"bg-warning\\\" style=\\\"float: right\\\" title=\\\"Delete Visbo Project Version\\\" data-toggle=\\\"modal\\\" data-target=\\\"#VpvDelete\\\">\\n      Delete!\\n    </button>\\n    <button *ngIf=\\\"deleted && hasVPPerm(permVP.DeleteVP)\\\" class=\\\"bg-danger text-white\\\" style=\\\"float: right\\\" title=\\\"Destroy Visbo Project Version\\\" data-toggle=\\\"modal\\\" data-target=\\\"#VpvDelete\\\">\\n      Destroy!\\n    </button>\\n  </div>\\n\\n  <!-- Modal Delete VPV  -->\\n  <div class=\\\"modal fade\\\" id=\\\"VpvDelete\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"Delete Project Version\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h5 class=\\\"modal-title\\\" id=\\\"VpvDeleteTitle\\\">Delete this Project Version</h5>\\n          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <div>\\n            <label *ngIf=\\\"!deleted\\\" class=\\\"bg-warning\\\">Do you really want to delete this Project Version? </label>\\n            <label *ngIf=\\\"deleted\\\" class=\\\"bg-danger text-white\\\">Do you really want to destroy this Project Version? </label>\\n          </div>\\n          <form>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"VpvName\\\" class=\\\"col-form-label\\\">Name:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ visboprojectversion.name }} </label>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <label for=\\\"VpvVersions\\\" class=\\\"col-form-label\\\">Timestamp:</label>\\n              <label class=\\\"col-8 form-control-static\\\">{{ visboprojectversion.timestamp }} </label>\\n            </div>\\n          </form>\\n        </div>\\n        <div class=\\\"modal-footer align-items-end\\\">\\n          <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Close</button>\\n          <button *ngIf=\\\"!deleted\\\" type=\\\"button\\\" class=\\\"btn btn-warning text-white\\\" (click)=\\\"delete(visboprojectversion)\\\" data-dismiss=\\\"modal\\\">Delete</button>\\n          <button *ngIf=\\\"deleted\\\" type=\\\"button\\\" class=\\\"btn btn-danger text-white\\\" (click)=\\\"delete(visboprojectversion)\\\" data-dismiss=\\\"modal\\\">Destroy</button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<visbo-navbar></visbo-navbar>\\n<div class='well'>\\n  <div class=\\\"container\\\">\\n    <div class='row'>\\n      <div class='col'>\\n        <h2 *ngIf=\\\"!vpActive\\\">\\n          Project Versions\\n        </h2>\\n        <h2 *ngIf=\\\"vpActive\\\">\\n          Project Versions in:\\n          <button class='panel-heading bg-white btn-white' (click)=\\\"gotoVPDetail(vpActive)\\\">\\n            {{vpActive.name}}\\n          </button>\\n        </h2>\\n      </div>\\n      <div class='btn-group '>\\n        <button *ngIf=\\\"!deleted\\\" class=\\\"btn btn-sm btn-secondary m-2\\\" (click)=\\\"toggleVisboProjectVersions()\\\">Show Deleted</button>\\n        <button *ngIf=\\\"deleted\\\" class=\\\"btn btn-sm btn-secondary m-2\\\" (click)=\\\"toggleVisboProjectVersions()\\\">Show Existing</button>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class='panel-body'>\\n    <table class='table table-hover table-sortable'>\\n      <!--Table head-->\\n      <thead>\\n        <tr>\\n          <th class=\\\"d-none d-md-table-cell\\\">Nr.</th>\\n          <!-- <th>Name</th> -->\\n          <th (click)=\\\"sortVPVTable(1)\\\">Timestamp</th>\\n          <th class=\\\"d-none d-md-table-cell\\\">Status</th>\\n          <th (click)=\\\"sortVPVTable(2)\\\" class=\\\"d-none d-md-table-cell\\\">End Date</th>\\n          <th (click)=\\\"sortVPVTable(3)\\\">Ampel</th>\\n          <th (click)=\\\"sortVPVTable(4)\\\">Budget</th>\\n          <th (click)=\\\"sortVPVTable(5)\\\" class=\\\"d-none d-md-table-cell\\\">Variant Name</th>\\n          <!-- <th>Info</th> -->\\n        </tr>\\n      </thead>\\n      <!--Table body-->\\n      <tbody>\\n        <tr *ngFor=\\\"let vpv of visboprojectversions; let vpvIndex=index\\\" (click)=\\\"gotoClickedRow(vpv)\\\">\\n          <td class=\\\"d-none d-md-table-cell\\\">{{vpvIndex+1}}</td>\\n          <td class=\\\"d-none d-md-table-cell\\\">{{vpv.timestamp | date :'dd.MM.yyyy HH:mm'}}</td>\\n          <td class=\\\"d-none d-sm-table-cell d-md-none\\\">{{vpv.timestamp | date :'dd.MM.yy'}}</td>\\n          <td class=\\\"d-none d-md-table-cell\\\">{{vpv.status}}</td>\\n          <td class=\\\"d-none d-md-table-cell\\\">{{vpv.endDate | date :'dd.MM.yy'}}</td>\\n          <td>{{vpv.ampelStatus}}</td>\\n          <td>{{vpv.Erloes | number : '1.2-2'}}</td>\\n          <td class=\\\"d-none d-md-table-cell\\\">{{vpv.variantName}}</td>\\n          <!-- <td>\\n            <button class=\\\"Detail\\\" title=\\\"Detail of Visbo Project Version\\\"\\n            (click)=\\\"gotoDetail(vpv)\\\">i</button>\\n          </td> -->\\n        </tr>\\n      </tbody>\\n      <!--Table body-->\\n    </table>\\n  </div>\\n</div>\\n\"","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { Component, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs/Subscription';\n\nimport { AlertService } from '../_services/alert.service';\n\n@Component({\n    moduleId: module.id,\n    selector: 'alert',\n    templateUrl: 'alert.component.html'\n})\n\nexport class AlertComponent implements OnDestroy {\n    private subscription: Subscription;\n    message: any;\n\n    constructor(private alertService: AlertService) {\n        // subscribe to alert messages\n        this.subscription = alertService.getMessage().subscribe(message => { this.message = message; });\n    }\n\n    ngOnDestroy(): void {\n        // unsubscribe on destroy to prevent memory leaks\n        this.subscription.unsubscribe();\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n\n    constructor(private router: Router) { }\n\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n        if (sessionStorage.getItem('currentUser')) {\n            // logged in so return true\n            return true;\n        }\n\n        // not logged in so redirect to login page with the return url\n        this.router.navigate(['login'], { queryParams: { returnUrl: state.url }});\n        return false;\n    }\n}","import { EnvService } from '../_services/env.service';\n\nexport const EnvServiceFactory = () => {\n  // Create env\n  const env = new EnvService();\n\n  // Read environment variables from browser window\n  const browserWindow = window || {};\n  const browserWindowEnv = browserWindow['__env'] || {};\n\n  // Assign environment variables from browser window to env\n  // In the current implementation, properties from env.js overwrite defaults from the EnvService.\n  // If needed, a deep merge can be performed here to merge properties instead of overwriting them.\n  for (const key in browserWindowEnv) {\n    if (browserWindowEnv.hasOwnProperty(key)) {\n      env[key] = window['__env'][key];\n    }\n  }\n\n  return env;\n};\n\nexport const EnvServiceProvider = {\n  provide: EnvService,\n  useFactory: EnvServiceFactory,\n  deps: [],\n};\n","import { Injectable } from '@angular/core';\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor, HttpErrorResponse } from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\nimport { throwError } from 'rxjs';\nimport { catchError } from \"rxjs/operators\";\n\nimport { AuthenticationService } from '../_services/authentication.service';\n\n@Injectable()\nexport class JwtInterceptor implements HttpInterceptor {\n\n    constructor(\n      private authenticationService: AuthenticationService,\n    ) { }\n\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n        // add authorization header with jwt token if available\n        let currentToken = JSON.parse(sessionStorage.getItem('currentToken'));\n        if (currentToken) {\n            request = request.clone({\n                setHeaders: {\n                    'access-key': `${currentToken}`\n                }\n            });\n        }\n\n        return next.handle(request)\n        .pipe(\n            catchError((error: HttpErrorResponse) => {\n                  //401 UNAUTHORIZED - SECTION 2\n                  if (error && error.status === 401) {\n                      console.log(\"Interceptor: Session Expired, redirect to login\");\n                      this.authenticationService.logout();\n                      location.reload(true)\n                  }\n                  const err = error.error.message || error.statusText;\n                  return throwError(error);\n             })\n          );\n    }\n}\n","export class Login {\n  email: string = \"\";\n  password: string = \"\"\n};\nexport class VisboUserAddress {\n  street: string;\n  zip: string;\n  city: string;\n  state: string;\n  country: string;\n};\n\nexport class VisboUserProfile {\n  firstName: string;\n  lastName: string;\n  company: string;\n  phone: string;\n  address: VisboUserAddress;\n};\n\nexport class VisboUserStatus {\n  registeredAt: Date;\n  lockedUntil: Date;\n  lastLoginAt: Date;\n  lastLoginFailedAt: Date;\n  loginRetries: number\n};\n\nexport class VisboUser {\n  _id: string;\n  updatedAt: string;\n  createdAt: string;\n  email: string;\n  password: string;\n  name: string;\n  profile: VisboUserProfile;\n  status: VisboUserStatus;\n  _v: number\n};\n\nexport class LoginResponse {\n  state: string;\n  message: string;\n  token: string;\n  user: VisboUser\n}\n\nexport class VisboUserResponse {\n  state: string;\n  message: string;\n  user: VisboUser\n}\n\nexport class VisboUsersResponse {\n  state: string;\n  message: string;\n  user: [VisboUser]\n}\n\nexport class VisboStatusResponse {\n  state: string;\n  message: string;\n  status: {version: string}\n}\n\nexport class VisboStatusPWPolicyResponse {\n  state: string;\n  message: string;\n  value: {\n    PWPolicy: string,\n    Description: string\n  }\n}\n","export class VisboAudit {\n  _id: string;\n  updatedAt: Date;\n  createdAt: Date;\n  user: {\n    userId: string;\n    email: string;\n  };\n  vc: {\n    vcid: string;\n    name: string;\n    vcjson: string;\n  };\n  vp: {\n    vpid: string;\n    name: string;\n    vpjson: string;\n  };\n  vpv: {\n    vpvid: string;\n    name: string;\n  };\n  action: string;\n  actionDescription: string;\n  actionInfo: string;\n  url: string;\n  ip: string;\n  host: string;\n  ttl: Date;\n  sysAdmin: boolean;\n  userAgent: string;\n  result: {\n    time: number;\n    status: string;\n    statusText: string;\n    size: number;\n  }\n}\n\nexport class VisboAuditResponse {\n  state: string;\n  message: string;\n  audit: [ VisboAudit ]\n}\n\nexport class VisboAuditActionType {\n  \"name\": string;\n  \"action\": string\n}\n\nexport class QueryAuditType {\n  \"from\": Date;\n  \"to\": Date;\n  \"text\": string;\n  \"actionType\": string;\n  \"area\": string;\n  \"maxcount\": number;\n}\n","\nexport class VGUser {\n  _id: string;\n  email: string;\n  userId: string;\n}\n\nexport class VGPermission {\n  system: number;\n  vc: number;\n  vp: number;\n}\n\nexport enum VGPSystem {\n    \"View\" = 1, \"ViewAudit\" = 2, \"ViewLog\" = 4, \"Modify\" = 16, \"ManagePerm\" = 32, \"CreateVC\" = 256, \"DeleteVC\" = 1024\n};\n\nexport enum VGPVC {\n    \"View\" = 1, \"ViewAudit\" = 2, \"Modify\" = 16, \"ManagePerm\" = 32, \"CreateVP\" = 256\n};\n\nexport enum VGPVP {\n    \"View\" = 1, \"ViewAudit\" = 2, \"Modify\" = 16, \"ManagePerm\" = 32, \"CreateVariant\" = 256, \"DeleteVP\" = 1024\n};\n\nexport class VGGroup {\n  _id: string;\n  name: string;\n  vcid: string;\n  vpids: string[];\n  groupType: string;\n  internal: boolean;\n  global: boolean;\n  permission: VGPermission;\n  users: [VGUser]\n}\n\nexport class VGUserGroup {\n  userId: string;\n  email: string;\n  groupId: string;\n  groupName: string;\n  groupType: string;\n  internal: boolean;\n}\n\nexport class VGProjectUserGroup {\n  vpid: string;\n  users: VGUser;\n  groupName: string;\n  groupType: string;\n  vp: {name: string};\n}\n\nexport class VGUserGroupMix {\n  groups: [ VGGroup ];\n  users: [VGUserGroup];\n  vpusers: [VGProjectUserGroup];\n}\n\nexport class VGResponse {\n  state: string;\n  message: string;\n  groups: [ VGGroup ];\n  users: [VGUserGroup];\n  vpusers: [VGProjectUserGroup];\n}\n","export enum VPTYPE {\n    \"Project\" = 0, \"Portfolio\" = 1, \"Template\" = 2\n};\n\nexport class VPVariant {\n  _id: string;\n  variantName: string;\n  email: string;\n  createdAt: Date;\n  vpvCount: number;\n}\n\nexport class VPLock {\n  variantName: string;\n  email: string;\n  createdAt: Date;\n  expiresAt: Date;\n}\n\nexport class VisboProject {\n  _id: string;\n  updatedAt: Date;\n  createdAt: Date;\n  vcid: string;\n  name: string;\n  description: string;\n  vpType: number;\n  vpPublic: boolean;\n  vpvCount: number;\n  variant: [VPVariant];\n  lock: [VPLock];\n  vc: {\n    name: string;\n    deletedAt: Date;\n  }\n  perm: {system: number, vc: number, vp: number};\n  deletedAt: Date;\n}\n\nexport class VisboProjectResponse {\n  state: string;\n  message: string;\n  vp: [ VisboProject ];\n  perm: {system: number, vc: number, vp: number};\n}\n\nexport class VisboProjectLockResponse {\n  state: string;\n  message: string;\n  lock: [VPLock];\n}\n","export class VPVCost {\n  currentDate: Date;\n  baseLineCost: number;\n  currentCost: number;\n};\n\nexport class VPVKeyMetrics {\n  costCurrentActual: number;\n  costCurrentTotal: number;\n  costBaseLastActual: number;\n  costBaseLastTotal: number;\n  timeCompletionCurrentActual: number;\n  timeCompletionCurrentTotal: number;\n  timeCompletionBaseLastActual: number;\n  timeCompletionBaseLastTotal: number;\n  timeDelayCurrentActual: number;\n  timeDelayCurrentTotal: number;\n  endDateCurrent: Date;\n  endDateBaseLast: Date;\n  deliverableCompletionCurrentActual: number;\n  deliverableCompletionCurrentTotal: number;\n  deliverableCompletionBaseLastActual: number;\n  deliverableCompletionBaseLastTotal: number;\n  deliverableDelayCurrentActual: number;\n  deliverableDelayCurrentTotal: number;\n};\n\nexport class VPVKeyMetricsCalc {\n  _id: string;\n  name: string;\n  vpid: string;\n  timestamp: Date;\n  variantName: string;\n  Risiko: number;\n  StrategicFit: number;\n  leadPerson: string;\n  status: string;\n  ampelStatus: number;\n  ampelErlaeuterung: string;\n  VorlagenName: string;\n  complexity: number;\n  description: string;\n  businessUnit: string;\n\n  savingCostTotal: number;\n  savingCostActual: number;\n  savingEndDate: number;\n  timeCompletionTotal: number;\n  timeCompletionActual: number;\n  deliveryCompletionTotal: number;\n  deliveryCompletionActual: number;\n  keyMetrics: VPVKeyMetrics;\n};\n\nexport class VisboProjectVersion {\n  _id: string;\n  name: string;\n  vpid: string;\n  variantName: string;\n  variantDescription: string;\n  Risiko: number;\n  StrategicFit: number;\n  Erloes: number;\n  leadPerson: string;\n  startDate: string;\n  endDate: string;\n  earliestStart: number;\n  earliestStartDate: string;\n  latestStart: number;\n  latestStartDate: string;\n  status: string;\n  ampelStatus: number;\n  ampelErlaeuterung: string;\n  farbe: number;\n  Schrift: number;\n  Schriftfarbe: number;\n  VorlagenName: string;\n  Dauer: number;\n// Missing AllPhases\n  timestamp: Date;\n  volumen: number;\n  complexity: number;\n  description: string;\n  businessUnit: string;\n\n  keyMetrics: VPVKeyMetrics;\n  cost: [ VPVCost ];\n\n  perm: {system: number, vc: number, vp: number};\n  updatedAt: Date;\n  createdAt: Date;\n}\n\nexport class VisboProjectVersionResponse {\n  state: string;\n  message: string;\n  vpv: [ VisboProjectVersion ];\n  perm: {system: number, vc: number, vp: number};\n}\n","import { Injectable } from '@angular/core';\nimport { Router, NavigationStart } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs/Subject';\n\n@Injectable()\nexport class AlertService {\n    private subject = new Subject<any>();\n    private keepAfterNavigationChange = false;\n\n    constructor(private router: Router) {\n        // clear alert message on route change\n        router.events.subscribe(event => {\n            if (event instanceof NavigationStart) {\n                if (this.keepAfterNavigationChange) {\n                    // only keep for a single location change\n                    this.keepAfterNavigationChange = false;\n                } else {\n                    // clear alert\n                    this.subject.next();\n                }\n            }\n        });\n    }\n\n    clear() {\n      this.subject.next();\n    }\n\n    success(message: string, keepAfterNavigationChange = false) {\n        this.keepAfterNavigationChange = keepAfterNavigationChange;\n        this.subject.next({ type: 'success', text: message });\n    }\n\n    error(message: string, keepAfterNavigationChange = false) {\n        if (!message) message = \"Unknown Error reaching the Server\"\n        this.keepAfterNavigationChange = keepAfterNavigationChange;\n        this.subject.next({ type: 'error', text: message });\n    }\n\n    getMessage(): Observable<any> {\n        return this.subject.asObservable();\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable, throwError, of } from 'rxjs'; // only need to import from rxjs\nimport { catchError, map, tap } from 'rxjs/operators';\n\nimport { EnvService } from './env.service';\n\nimport { Login, VisboUser, VisboUserAddress, VisboUserProfile, LoginResponse, VisboStatusResponse, VisboStatusPWPolicyResponse } from '../_models/login';\nimport { MessageService } from './message.service';\n\nimport * as JWT from 'jwt-decode';\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\n\n@Injectable()\nexport class AuthenticationService {\n\n  isLoggedIn: boolean = false;\n  logoutTime: Date = undefined;\n  pwPolicy: any = undefined;\n\n  constructor(\n      private http: HttpClient,\n      // private store: Store<AuthState>,\n      private messageService: MessageService,\n      private env: EnvService\n    ) { }\n\n    private authUrl = this.env.restUrl.concat('/token/user');  // URL to web api\n\n    logoutCheck() {\n\n      if (!this.isLoggedIn) return undefined;\n      // this.log(`Logout Check ${this.logoutTime}`);\n\n      return this.logoutTime;\n    }\n\n\n    login(username: string, password: string) {\n      const url = `${this.authUrl}/login`;\n      this.log(`Calling HTTP Request: ${url} for: ${username}`);\n      var newLogin = new Login;\n      newLogin.email = username;\n      newLogin.password = password;\n\n      return this.http.post<LoginResponse>(url, newLogin) /* MS Last Option HTTP Headers */\n            .pipe(\n              map(result => {\n                // login successful if there's a jwt token in the response\n                if (result && result.token) {\n                    this.log(`Login Request Successful:  ${result.user.email}`);\n                    // store user details and jwt token in local storage to keep user logged in between page refreshes\n                    sessionStorage.setItem('currentUser', JSON.stringify(result.user));\n                    sessionStorage.setItem('currentToken', JSON.stringify(result.token));\n                    this.isLoggedIn = true;\n                    var decoded: any;\n                    decoded = JWT(result.token)\n                    // this.log(`Login token expiration:  ${decoded.exp}`);\n                    this.logoutTime = new Date(decoded.exp * 1000);\n                    this.log(`Login Request logoutTime:  ${this.logoutTime}`);\n\n                    return result.user;\n                };\n                return null;\n              }),\n              catchError(this.handleError<any>('LoginError'))\n            );\n    }\n\n    logout() {\n        // remove user from local storage to log user out\n        this.isLoggedIn = false;\n\n        sessionStorage.removeItem('currentUser');\n        sessionStorage.removeItem('currentToken');\n\n    }\n\n    getActiveUser(){\n      var currentUser = JSON.parse(sessionStorage.getItem('currentUser'));\n      return currentUser;\n    }\n\n    pwforgotten(model: any){\n      const url = `${this.authUrl}/pwforgotten`;\n      var newUser = new VisboUser;\n      newUser.email = model.username;\n\n      this.log(`Calling HTTP Request: ${url} for: ${model.username} `);\n\n      return this.http.post<LoginResponse>(url, newUser) /* MS Last Option HTTP Headers */\n          .pipe(\n            map(result => {\n                // registration successful if there's a user in the response\n                this.log(`PW Forgotten Request executed`);\n                if (result) {\n                    this.log(`PW Forgotten Request Successful:  ${JSON.stringify(result)}`);\n                }\n                return result;\n            }),\n            catchError(this.handleError<any>('pwforgotten'))\n          );\n    }\n\n    pwreset(model: any){\n      const url = `${this.authUrl}/pwreset`;\n\n      this.log(`Calling HTTP Request: ${url} with: ${model.token} `);\n\n      return this.http.post<LoginResponse>(url, model)\n          .pipe(\n            map(result => {\n                // registration successful if there's a user in the response\n                this.log(`PW Reset Request executed`);\n                if (result) {\n                  this.log(`PW Reset Request Successful:  ${JSON.stringify(result)}`);\n                } else {\n                  this.log(`PW Reset Request Unsuccessful:  ${JSON.stringify(result)}`);\n                }\n                return result;\n            }),\n            catchError(this.handleError<any>('pwreset'))\n          );\n    }\n\n    registerconfirm(model: any){\n      const url = `${this.authUrl}/confirm`;\n\n      this.log(`Calling HTTP Request: ${url} for: ${model._id} `);\n\n      return this.http.post<LoginResponse>(url, model) /* MS Last Option HTTP Headers */\n          .pipe(\n            map(result => {\n                // registration successful if there's a user in the response\n                this.log(`e-mail confirm Request executed`);\n                if (result) {\n                    this.log(`e-mail confirm Request Successful:  ${JSON.stringify(result)}`);\n                }\n                return result;\n            }),\n            catchError(this.handleError<any>('pwreset'))\n          );\n    }\n\n    createUser(model: any, hash: string){\n      var url = `${this.authUrl}/signup`;\n      var newUser = new VisboUser;\n      var newUserProfile = new VisboUserProfile;\n      if (model.username) newUser.email = model.username;\n      if (model._id) newUser._id = model._id;\n      // do not set password before the log statement\n      newUserProfile.firstName = model.firstName;\n      newUserProfile.lastName = model.lastName;\n      newUserProfile.phone = model.phone;\n      newUserProfile.company = model.company;\n      newUser.profile = newUserProfile;\n\n      if (hash) url = url.concat('?hash=', hash)\n      this.log(`Calling HTTP Request: ${url} for: ${newUser.email||newUser._id} hash ${hash} Profile: ${JSON.stringify(newUser)}`);\n\n      newUser.password = model.password;\n      return this.http.post<LoginResponse>(url, newUser) /* MS Last Option HTTP Headers */\n          .pipe(\n            map(result => {\n                // registration successful if there's a user in the response\n                this.log(`Registration Request executed:  ${JSON.stringify(result)}`);\n                if (result.user) {\n                    this.log(`Registration Request Successful:  ${result.user.email}`);\n                    return result.user;\n                }\n                return {};\n            }),\n            // tap(result => this.log(`registered ${result.user.email} `)),\n            catchError(this.handleError<any>('registerUser'))\n          );\n    }\n\n    restVersion(): Observable<any> {\n      const url = this.env.restUrl.concat('/status');\n      this.log(`Calling HTTP Request: ${url}` );\n      return this.http.get<VisboStatusResponse>(url, httpOptions)\n        .pipe(\n          map(response => response.status),\n          tap(status => this.log(`fetched Status  `)),\n          catchError(this.handleError('getStatus', []))\n        );\n    }\n\n    initPWPolicy(): Observable<any> {\n      const url = this.env.restUrl.concat('/status/pwpolicy');\n      this.log(`Calling HTTP Request: ${url}` );\n      return this.http.get<VisboStatusPWPolicyResponse>(url, httpOptions)\n        .pipe(\n          map(response => {\n              this.pwPolicy = response.value;\n              return response.value\n            }),\n          tap(value => this.log(`fetched PW Policy ${JSON.stringify(value)}`)),\n          catchError(this.handleError('initPWPolicy', []))\n        );\n    }\n\n    getPWPolicy(){\n      return this.pwPolicy;\n    }\n\n    /**\n     * Handle Http operation that failed.\n     * Let the app continue.\n     * @param operation - name of the operation that failed\n     * @param result - optional value to return as the observable result\n     */\n    private handleError<T> (operation = 'operation', result?: T) {\n      return (error: any): Observable<T> => {\n\n        // OPTIONAL send the error to remote logging infrastructure\n        this.log(`${operation} failed: ${JSON.stringify(error)} Status: ${error.status}, StatusText: ${error.statusText}, Message: ${error.message}`);\n\n        // Let the app keep running by returning an empty result.\n        return throwError(error);\n        // return new ErrorObservable(error);\n        //return of(result as T);\n      };\n    }\n\n    /** Log a message with the MessageService */\n    private log(message: string) {\n      this.messageService.add('AuthenticationService: ' + message);\n    }\n\n}\n","export class EnvService {\n\n  // The values that are defined here are the default values that can\n  // be overridden by env.js\n\n  // API url\n  public restUrl = 'https://dev.visbo.net/api';\n\n  // Whether or not to enable debug mode\n  // public enableDebug = true;\n\n  constructor() {\n  }\n\n}\n","import { Injectable, EventEmitter } from '@angular/core';\n\n@Injectable()\nexport class MessageService {\n  messages: string[] = [];\n  activateMessages: boolean = undefined;\n  activateMessageToggle = new EventEmitter(true);\n\n  initstatus() {\n    if (this.activateMessages == undefined) {\n      this.activateMessages = sessionStorage.getItem('activateMessages') == 'On';\n    }\n  }\n\n  toggle() {\n    this.initstatus();\n    this.activateMessages = !this.activateMessages\n    sessionStorage.setItem('activateMessages', this.activateMessages? 'On':'Off');\n    this.activateMessageToggle.emit(this.activateMessages);\n    console.log('Messages Toggle to %s', this.activateMessages);\n    return this.activateMessages;\n  }\n\n  getstatus() {\n    this.initstatus();\n    return this.activateMessages\n  }\n\n  add(message: string) {\n    this.messages.push(message);\n    if (this.messages.length > 20) this.messages.shift();\n  }\n\n  clear() {\n    this.messages = [];\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\n\nimport { Observable, throwError, of } from 'rxjs'; // only need to import from rxjs\nimport { catchError, map, tap } from 'rxjs/operators';\n\nimport { EnvService } from './env.service';\n\nimport { VisboFile, VisboFilesResponse, VisboDownloadResponse } from '../_models/visbofiles';\n\nimport { MessageService } from './message.service';\nimport { LoginComponent } from '../login/login.component';\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\n\n@Injectable()\nexport class SysLogService {\n\n  private serviceUrl = this.env.restUrl.concat('/syslog');  // URL to ReST api\n\n  constructor(\n    private http: HttpClient,\n    private messageService: MessageService,\n    private env: EnvService\n  ) { }\n\n\n  /** GET List of Logs from the server */\n  getSysLogs(ageDays: number): Observable<VisboFile[]> {\n    var url = this.serviceUrl\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n\n    params = params.append('ageDays', ageDays.toString());\n\n    this.log(`Calling HTTP Request: ${url}`);\n    return this.http.get<VisboFilesResponse>(url, { headers , params })\n      .pipe(\n        map(response => response.files),\n        tap(files => this.log(`fetched ${files.length} Log Files `)),\n        catchError(this.handleError('getSysLog', []))\n      );\n  }\n\n  // /** GET Log File by name. Return 403 when name not found */\n  getSysLog(folder: string, name: string): Observable<any> {\n    var url = `${this.serviceUrl}/file/${folder}/${name}`;\n    this.log(`Calling HTTP Request for a specific log file: ${url}`);\n    var options: any = {};\n    options.observe = 'body';\n    options.responseType = 'text';\n    // options.headers = 'XXX'\n    return this.http.get<VisboDownloadResponse>(url, options)\n      .pipe(\n        tap( data => this.log(`fetched Log File Response `)),\n        // map(data => this.log(`fetched Log File Response ${JSON.stringify(data)}`)),\n        // tap(stream => this.log(`fetched Log File`)),\n        catchError(this.handleError<VisboFile>(`getSysLog name:${name} `))\n      );\n  }\n\n/**\n * Handle Http operation that failed.\n * Let the app continue.\n * @param operation - name of the operation that failed\n * @param result - optional value to return as the observable result\n */\n private handleError<T> (operation = 'operation', result?: T) {\n   return (error: any): Observable<T> => {\n\n     this.log(`HTTP Request ${operation} failed: ${error.error.message} status:${error.status}`);\n\n     // Let the app keep running by returning an empty result.\n     return throwError(error);\n   };\n }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('VisboLogsService: ' + message);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\n\nimport { Observable, throwError, of } from 'rxjs'; // only need to import from rxjs\nimport { catchError, map, tap } from 'rxjs/operators';\n\nimport { EnvService } from './env.service';\n\nimport { MessageService } from './message.service';\nimport { LoginComponent } from '../login/login.component';\n\nimport { VisboUser, VisboUsersResponse } from '../_models/login';\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\n\n@Injectable()\nexport class SysUserService {\n  //   private serviceUrl = 'vc';  // URL to api on same server\n  private serviceUrl = this.env.restUrl.concat('/sysuser');  // URL to web api\n\n  constructor(\n    private http: HttpClient,\n    private messageService: MessageService,\n    private env: EnvService\n  ) { }\n\n\n  /** GET Users from the server */\n  getSysUsers(userMatch: string): Observable<VisboUser[]> {\n    var url = this.serviceUrl\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n\n    if (userMatch) params = params.append('email', userMatch);\n    params = params.append('maxcount', '100');\n\n    this.log(`Calling HTTP Request: ${url} `);\n    return this.http.get<VisboUsersResponse>(url, { headers , params })\n      .pipe(\n        map(response => response.user),\n        tap(user => this.log(`fetched ${user.length} Users `)),\n        catchError(this.handleError('getSysUsers', []))\n      );\n  }\n\n  /**\n   * Handle Http operation that failed.\n   * Let the app continue.\n   * @param operation - name of the operation that failed\n   * @param result - optional value to return as the observable result\n   */\n  private handleError<T> (operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n\n      this.log(`HTTP Request ${operation} failed: ${error.error.message} status:${error.status}`);\n\n      // Let the app keep running by returning an empty result.\n      return throwError(error);\n      // return new ErrorObservable(error);\n    };\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('SysUserService: ' + message);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\n\nimport { Observable, throwError, of } from 'rxjs'; // only need to import from rxjs\nimport { catchError, map, tap } from 'rxjs/operators';\n\nimport { EnvService } from './env.service';\n\nimport { MessageService } from './message.service';\nimport { LoginComponent } from '../login/login.component';\n\nimport { VisboUser, VisboUserResponse } from '../_models/login';\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\n\n@Injectable()\nexport class UserService {\n\n  private profileUrl = this.env.restUrl.concat('/user/profile');  // URL to api\n  private pwchangeUrl = this.env.restUrl.concat('/user/passwordchange');  // URL to api\n\n  constructor(\n    private http: HttpClient,\n    private messageService: MessageService,\n    private env: EnvService\n  ) { }\n\n  // MS TODO Check correct Observable Type VisboUser instead of any\n  getUserProfile(): Observable<any> {\n    this.log(`Calling HTTP Get Request: ${this.profileUrl}`);\n    return this.http.get<VisboUserResponse>(this.profileUrl, httpOptions)\n      .pipe(\n        map(response => response.user),\n        tap(user => this.log(`fetched ${user.email} User Profile `)),\n        catchError(this.handleError('getUserProfile', []))\n      );\n  }\n\n  updateUserProfile(user: VisboUser): Observable<VisboUser> {\n    this.log(`Calling HTTP Put Request: ${this.profileUrl}`);\n    return this.http.put<VisboUserResponse>(this.profileUrl, user, httpOptions)\n      .pipe(\n        map(response => response.user),\n        tap(user => this.log(`updated User Profile ${user.email} `)),\n        catchError(this.handleError<any>('updateUserProfile'))\n      );\n  }\n\n\n  passwordChange(model: any): Observable<VisboUser> {\n    this.log(`Calling HTTP Put Request: ${this.pwchangeUrl} Body: ${JSON.stringify(model)}`);\n    return this.http.put<VisboUserResponse>(this.pwchangeUrl, model, httpOptions)\n      .pipe(\n        map(response => response.user),\n        tap(user => this.log(`Changed User Password ${user.email} `)),\n        catchError(this.handleError<any>('ChangedPassword'))\n      );\n  }\n\n  /**\n   * Handle Http operation that failed.\n   * Let the app continue.\n   * @param operation - name of the operation that failed\n   * @param result - optional value to return as the observable result\n   */\n  private handleError<T> (operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n\n      this.log(`HTTP Request ${operation} failed: ${error.error.message} status:${error.status}`);\n\n      // Let the app keep running by returning an empty result.\n      return throwError(error);\n      // return new ErrorObservable(error);\n    };\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('VisboUserService: ' + message);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\n\nimport { Observable, throwError, of } from 'rxjs'; // only need to import from rxjs\nimport { catchError, map, tap } from 'rxjs/operators';\n\nimport { EnvService } from './env.service';\n\nimport { VisboAudit, VisboAuditResponse, QueryAuditType } from '../_models/visboaudit';\n\nimport { MessageService } from './message.service';\nimport { LoginComponent } from '../login/login.component';\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\n\n@Injectable()\nexport class VisboAuditService {\n  private serviceBaseUrl = this.env.restUrl;  // URL to api on same server\n\n  constructor(\n    private http: HttpClient,\n    private messageService: MessageService,\n    private env: EnvService\n  ) { }\n\n\n  /** GET Audits from the server */\n  getVisboAudits(sysadmin: boolean = false, queryAudit: QueryAuditType = undefined): Observable<VisboAudit[]> {\n    var url = this.serviceBaseUrl.concat('/audit');\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n\n    if (sysadmin) params = params.append('sysadmin', '1');\n    if (queryAudit) {\n      if (queryAudit.from) params = params.append('from', queryAudit.from.toISOString());\n      if (queryAudit.to) params = params.append('to', queryAudit.to.toISOString());\n      if (queryAudit.text) params = params.append('text', queryAudit.text);\n      if (queryAudit.maxcount) params = params.append('maxcount', queryAudit.maxcount.toString());\n      if (queryAudit.actionType) params = params.append('action', queryAudit.actionType);\n      if (queryAudit.area) params = params.append('area', queryAudit.area);\n    }\n\n    this.log(`Calling HTTP Request: ${url} ${sysadmin ? \"as sysadmin\" : \"\"}`);\n    return this.http.get<VisboAuditResponse>(url, { headers , params })\n      .pipe(\n        map(response => response.audit),\n        tap(audit => this.log(`fetched ${audit.length} Audits `)),\n        catchError(this.handleError('getVisboAudit', []))\n      );\n  }\n\n  /** GET VC Audits from the server */\n  getVisboCenterAudits(vcid: string, sysadmin: boolean = false, deleted: boolean = false, queryAudit: QueryAuditType = undefined): Observable<VisboAudit[]> {\n    var url = this.serviceBaseUrl.concat('/vc/', vcid,'/audit');\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n\n    if (sysadmin) params = params.append('sysadmin', '1');\n    if (deleted) params = params.append('deleted', '1');\n    if (queryAudit) {\n      if (queryAudit.from) params = params.append('from', queryAudit.from.toISOString());\n      if (queryAudit.to) params = params.append('to', queryAudit.to.toISOString());\n      if (queryAudit.text) params = params.append('text', queryAudit.text);\n      if (queryAudit.maxcount) params = params.append('maxcount', queryAudit.maxcount.toString());\n      if (queryAudit.actionType) params = params.append('action', queryAudit.actionType);\n      if (queryAudit.area) params = params.append('area', queryAudit.area);\n    }\n\n    this.log(`Calling HTTP Request: ${url} for VC ${vcid}`);\n    return this.http.get<VisboAuditResponse>(url, { headers , params })\n      .pipe(\n        map(response => response.audit),\n        tap(audit => this.log(`fetched ${audit.length} Audits `)),\n        catchError(this.handleError('getVisboAudit', []))\n      );\n  }\n\n  /** GET VP Audits from the server */\n  getVisboProjectAudits(vpid: string, sysadmin: boolean = false, deleted: boolean = false, queryAudit: QueryAuditType = undefined): Observable<VisboAudit[]> {\n    var url = this.serviceBaseUrl.concat('/vp/', vpid,'/audit');\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n\n    if (sysadmin) params = params.append('sysadmin', '1');\n    if (deleted) params = params.append('deleted', '1');\n    if (queryAudit) {\n      if (queryAudit.from) params = params.append('from', queryAudit.from.toISOString());\n      if (queryAudit.to) params = params.append('to', queryAudit.to.toISOString());\n      if (queryAudit.text) params = params.append('text', queryAudit.text);\n      if (queryAudit.maxcount) params = params.append('maxcount', queryAudit.maxcount.toString());\n      if (queryAudit.actionType) params = params.append('action', queryAudit.actionType);\n      if (queryAudit.area) params = params.append('area', queryAudit.area);\n  }\n\n    this.log(`Calling HTTP Request: ${url} for VP ${vpid}`);\n    return this.http.get<VisboAuditResponse>(url, { headers , params })\n      .pipe(\n        map(response => response.audit),\n        tap(audit => this.log(`fetched ${audit.length} Audits `)),\n        catchError(this.handleError('getVisboAudit', []))\n      );\n  }\n\n  /**\n   * Handle Http operation that failed.\n   * Let the app continue.\n   * @param operation - name of the operation that failed\n   * @param result - optional value to return as the observable result\n   */\n  private handleError<T> (operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n\n      this.log(`HTTP Request ${operation} failed: ${error.error.message} status:${error.status}`);\n\n      // Let the app keep running by returning an empty result.\n      return throwError(error);\n      // return new ErrorObservable(error);\n    };\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('VisboAuditService: ' + message);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\n\nimport { Observable, throwError, of } from 'rxjs'; // only need to import from rxjs\nimport { catchError, map, tap } from 'rxjs/operators';\n\nimport { EnvService } from './env.service';\n\nimport { VisboCenter, VisboCenterResponse } from '../_models/visbocenter';\nimport { VGPermission, VGGroup, VGUserGroup, VGResponse, VGUserGroupMix } from '../_models/visbogroup';\n\nimport { MessageService } from './message.service';\nimport { LoginComponent } from '../login/login.component';\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\n\n@Injectable()\nexport class VisboCenterService  {\n  //   private vcUrl = 'vc';  // URL to api on same server\n  private vcUrl = this.env.restUrl.concat('/vc');  // URL to web api\n  private combinedPerm: VGPermission = undefined;\n  private systemVC: number = undefined;\n\n  constructor(\n    private http: HttpClient,\n    private messageService: MessageService,\n    private env: EnvService\n  ) { }\n\n\n  /** GET VisboCenters from the server */\n  getVisboCenters(sysadmin: boolean = false, deleted: boolean = false): Observable<VisboCenter[]> {\n    var url = this.vcUrl\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n\n    if (sysadmin) params = params.append('sysadmin', '1');\n    if (deleted) params = params.append('deleted', '1');\n\n    this.log(`Calling HTTP Request: ${url} `);\n    return this.http.get<VisboCenterResponse>(url, { headers , params })\n      .pipe(\n        map(response => response.vc),\n        tap(visbocenters => this.log(`fetched ${visbocenters.length} VisboCenters `)),\n        catchError(this.handleError('getVisboCenters', []))\n      );\n  }\n\n  /** GET VisboCenters from the server */\n  getSysVisboCenter(): Observable<VisboCenter[]> {\n    var url = this.vcUrl + '?systemvc=true&sysadmin=1';\n    var sysVCRole = undefined;\n    var currentUser = JSON.parse(sessionStorage.getItem('currentUser'));\n    this.log(`Calling HTTP Request for SysVC: ${url} for user ${currentUser.email}`);\n\n    return this.http.get<VisboCenterResponse>(url, httpOptions).pipe(\n      map(response => {\n                this.log(`fetched System VisboCenter ${JSON.stringify(response)}`)\n                if (response.vc && response.vc.length > 0) {\n                  response.vc[0].perm = response.perm;\n                  this.combinedPerm = response.perm;\n                  sessionStorage.setItem('combinedPerm', JSON.stringify(response.perm));\n                  sessionStorage.setItem('systemVC', response.vc[0]._id);\n                }\n                return response.vc\n              }),\n        tap(visbocenters => {\n          this.log(`fetched System VisboCenter user Role is ${visbocenters[0].perm.system || 'None'}`)\n        }),\n        catchError(this.handleError('getSysVisboCenters', []))\n      );\n  }\n\n  /* Role of User in sysAdmin */\n  getSysAdminRole() {\n    var result: any;\n    if (this.combinedPerm == undefined)\n      result = JSON.parse(sessionStorage.getItem('combinedPerm'));\n    else\n      result = this.combinedPerm;\n    this.log(`SysAdmin Role: ${JSON.stringify(result)}`);\n\n    return result;\n  }\n\n  /* VCID of System */\n  getSysVCId() {\n    var result: any;\n    if (this.systemVC == undefined)\n      result = sessionStorage.getItem('systemVC');\n    else\n      result = this.systemVC;\n    this.log(`Sysem VC ID: ${result}`);\n\n    return result;\n  }\n\n  /** GET VisboCenter by id. Return `undefined` when id not found */\n  /** Check that 404 is called correctly, currently rest server delivers 500 instead of 404 */\n  // getVisboCenterNo404<Data>(id: string): Observable<VisboCenter> {\n  //   const url = `${this.vcUrl}/?id=${id}`;\n  //   this.log(`Calling HTTP Request: ${this.vcUrl}`);\n  //   return this.http.get<VisboCenter[]>(url)\n  //     .pipe(\n  //       map(visbocenters => visbocenters[0]), // returns a {0|1} element array\n  //       tap(h => {\n  //         var outcome = h ? `fetched` : `did not find`;\n  //         this.log(`${outcome} VisboCenter ${id}`);\n  //       }),\n  //       catchError(this.handleError<VisboCenter>(`getVisboCenter id: ${id}`))\n  //     );\n  // }\n\n  /** GET VisboCenter by id. Will 404 if id not found */\n  getVisboCenter(id: string, sysadmin: boolean = false, deleted: boolean = false): Observable<VisboCenter> {\n    var url = `${this.vcUrl}/${id}`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n\n    if (sysadmin) params = params.append('sysadmin', '1');\n    if (deleted) params = params.append('deleted', '1');\n    this.log(`Calling HTTP Request for a specific entry: ${url}`);\n    return this.http.get<VisboCenterResponse>(url, { headers , params }).pipe(\n      map(response => {\n                // TODO: is there a better way to transfer the perm?\n                response.vc[0].perm = response.perm;\n                return response.vc[0]\n              }),\n      tap(visbocenter => this.log(`fetched VC ${visbocenter.name} id:${id} perm:${JSON.stringify(visbocenter.perm)}`)),\n      catchError(this.handleError<VisboCenter>(`getVisboCenter id:${id}`))\n    );\n  }\n\n  /* GET VisboCenters whose name contains search term */\n  // searchVisboCenters(term: string): Observable<VisboCenter[]> {\n  //   if (!term.trim()) {\n  //     // if not search term, return empty visbocenter array.\n  //     return of([]);\n  //   }\n  //   return this.http.get<VisboCenter[]>(`api/visbocenters?name=${term}`).pipe(\n  //     tap(_ => this.log(`found VisboCenters matching \"${term}\"`)),\n  //     catchError(this.handleError<VisboCenter[]>('searchVisboCenters', []))\n  //   );\n  // }\n\n  //////// Save methods //////////\n\n  /** POST: a new Visbo Center to the server */\n  addVisboCenter (visbocenter: VisboCenter): Observable<VisboCenter> {\n    var url = this.vcUrl + '?sysadmin=1'\n    this.log(`Calling HTTP Request: ${url} ${JSON.stringify(visbocenter)}`);\n\n    return this.http.post<VisboCenterResponse>(url, visbocenter, httpOptions).pipe(\n      map(response => response.vc[0] ),\n      tap(vc => this.log(`added VisboCenter ${vc.name} with id=${vc._id}`)),\n      catchError(this.handleError<VisboCenter>('addVisboCenter'))\n    );\n  }\n\n\n  /** DELETE: delete the Visbo Center from the server */\n  deleteVisboCenter (visbocenter: VisboCenter, sysadmin: boolean = false, deleted: boolean = false): Observable<any> {\n    const id = visbocenter._id;\n    var url = `${this.vcUrl}/${id}`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n\n    if (sysadmin) params = params.append('sysadmin', '1');\n    if (deleted) params = params.append('deleted', '1');\n    this.log(`Calling HTTP Request: ${url} `);\n\n    return this.http.delete<VisboCenter>(url, { headers , params }).pipe(\n      tap(response => this.log(`deleted VisboCenter id=${id}`)),\n      catchError(this.handleError<VisboCenter>('deleteVisboCenter'))\n    );\n  }\n\n  /** PUT: update the Visbo Center on the server */\n  updateVisboCenter (visbocenter: VisboCenter, sysadmin: boolean = false, deleted: boolean = false): Observable<VisboCenter> {\n    var url = `${this.vcUrl}/${visbocenter._id}`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n\n    if (sysadmin) params = params.append('sysadmin', '1');\n    if (deleted) params = params.append('deleted', '1');\n    this.log(`Calling HTTP Request PUT: ${url} `);\n    return this.http.put<VisboCenterResponse>(url, visbocenter, { headers , params })\n      .pipe(\n        map(response => response.vc[0] ),\n        tap(vc => this.log(`updated VisboCenter ${vc.name} with id=${vc._id}`)),\n        catchError(this.handleError<any>('updateVisboCenter'))\n      );\n  }\n\n  // GET VisboCenter Users for a specified VC from the server\n  getVCUsers(vcid: string, sysadmin: boolean = false, deleted: boolean = false): Observable<any> {\n    var url = `${this.vcUrl}/${vcid}/group?userlist=1`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n\n    if (sysadmin) params = params.append('sysadmin', '1');\n    if (deleted) params = params.append('deleted', '1');\n    this.log(`Calling HTTP Request GET Users: ${url} `);\n    return this.http.get<VGResponse>(url, { headers , params })\n      .pipe(\n        map(response => {\n          var userGroupMix = new VGUserGroupMix();\n          userGroupMix.users = response.users;\n          userGroupMix.groups = response.groups;\n          userGroupMix.vpusers = response.vpusers;\n          return userGroupMix\n        }),\n        tap(users => this.log(`fetched Users & Groups Users `)),\n        catchError(this.handleError('getVisboCenterUsers', []))\n      );\n  }\n\n  /** POST: add a new User to the Visbo Center */\n  addVCUser (email: string, groupId: string, message: string, vcid: string, sysadmin: boolean = false): Observable<VGGroup> {\n    var url = `${this.vcUrl}/${vcid}/group/${groupId}/user`;\n    if (sysadmin) url = url.concat('?sysadmin=1')\n    var reqBody: any = {};\n    reqBody.email = email;\n    reqBody.message = message ||'';\n    this.log(`Calling HTTP Request: ${url} for ${email} `);\n    return this.http.post<VGResponse>(url, reqBody, httpOptions)\n      .pipe(\n        map(response => response.groups[0]),\n        tap(group => this.log(`added Visbo User to Group with id=${group._id}`)),\n        catchError(this.handleError<any>('addVCUser'))\n      );\n  }\n\n  /** DELETE: remove a User from the Visbo Center */\n  deleteVCUser (user: VGUserGroup, vcid: string, sysadmin: boolean = false): Observable<any> {\n    var url = `${this.vcUrl}/${vcid}/group/${user.groupId}/user/${user.userId}`;\n    if (sysadmin) url = url.concat('?sysadmin=1')\n    this.log(`Calling HTTP Request: ${url} for ${user.email} as ${user.groupName} `);\n    return this.http.delete<VGResponse>(url, httpOptions)\n    .pipe(\n      // map(response => response.vc[0].users),\n      tap(users => this.log(`deleted Visbo Center User ${user.email}`)),\n      catchError(this.handleError<any>('deleteVisboCenterUser'))\n    );\n  }\n\n  /** POST: add a new Group to the Visbo Center */\n  addVCGroup (newGroup: VGGroup, sysadmin: boolean = false): Observable<VGGroup> {\n    var url = `${this.vcUrl}/${newGroup.vcid}/group`;\n    if (sysadmin) url = url.concat('?sysadmin=1')\n    this.log(`Calling HTTP Request: ${url} for ${newGroup.name} `);\n    return this.http.post<VGResponse>(url, newGroup, httpOptions)\n      .pipe(\n        map(response => response.groups[0]),\n        tap(group => this.log(`added Visbo Group with id=${group._id}`)),\n        catchError(this.handleError<any>('addVCGroup'))\n      );\n  }\n\n  /** PUT: modify a VC Group in the Visbo Center (Change: Name, Global, Permission)*/\n  modifyVCGroup (actGroup: VGGroup, sysadmin: boolean = false): Observable<VGGroup> {\n    var url = `${this.vcUrl}/${actGroup.vcid}/group/${actGroup._id}`;\n    if (sysadmin) url = url.concat('?sysadmin=1')\n    this.log(`Calling HTTP Request: ${url} for ${actGroup.name} Perm: ${JSON.stringify(actGroup.permission)} `);\n    return this.http.put<VGResponse>(url, actGroup, httpOptions)\n      .pipe(\n        map(response => response.groups[0]),\n        tap(group => this.log(`modified Visbo Group with id=${JSON.stringify(group)}`)),\n        catchError(this.handleError<any>('addVCGroup'))\n      );\n  }\n\n\n  /** DELETE: remove a Group from the Visbo Center */\n  deleteVCGroup (group: VGGroup, sysadmin: boolean = false): Observable<any> {\n    var url = `${this.vcUrl}/${group.vcid}/group/${group._id}`;\n    if (sysadmin) url = url.concat('?sysadmin=1')\n    this.log(`Calling HTTP Request: ${url} for Group ${group.name} `);\n    return this.http.delete<VGResponse>(url, httpOptions)\n    .pipe(\n      // map(response => response.vc[0].users),\n      tap(groups => this.log(`deleted Visbo Center Group ${group.name}`)),\n      catchError(this.handleError<any>('deleteVisboCenterGroup'))\n    );\n  }\n\n  /**\n   * Handle Http operation that failed.\n   * Let the app continue.\n   * @param operation - name of the operation that failed\n   * @param result - optional value to return as the observable result\n   */\n  private handleError<T> (operation = 'operation', result?: T) {\n    this.log(`HTTP Request ${operation} failed. Result ${JSON.stringify(result)}`);\n    return (error: any): Observable<T> => {\n\n      this.log(`HTTP Request ${operation} failed: ${error.error.message} status:${error.status}`);\n\n      // Let the app keep running by returning an empty result.\n      return throwError(error);\n      // return new ErrorObservable(error);\n    };\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('VisboCenterService: ' + message);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\n\nimport { Observable, throwError, of } from 'rxjs'; // only need to import from rxjs\nimport { catchError, map, tap } from 'rxjs/operators';\n\nimport { EnvService } from './env.service';\n\nimport { VisboProject, VisboProjectResponse, VisboProjectLockResponse } from '../_models/visboproject';\nimport { VGPermission, VGGroup, VGUserGroup, VGResponse, VGUserGroupMix } from '../_models/visbogroup';\n\nimport { MessageService } from './message.service';\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\n\n@Injectable()\nexport class VisboProjectService {\n\n  //   private vpUrl = 'projects';  // URL to web api on same server\n  private vpUrl = this.env.restUrl.concat('/vp'); // URL to web api\n\n  constructor(\n    private http: HttpClient,\n    private messageService: MessageService,\n    private env: EnvService\n  ) { }\n\n\n  /** GET VisboProjects from the server if id is specified get only projects of this vcid*/\n  getVisboProjects(id: string, sysAdmin: boolean = false, deleted: boolean = false): Observable<VisboProject[]> {\n    const url = `${this.vpUrl}`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n    if (id) params = params.append('vcid', id);\n    if (sysAdmin) params = params.append('sysadmin', '1')\n    if (deleted) params = params.append('deleted', '1')\n\n    this.log(`VP getVisboProjects Sysadmin ${sysAdmin} Deleted ${deleted}`);\n\n    // this.log(`Calling HTTP Request: ${url} Options: ${params}`);\n    return this.http.get<VisboProjectResponse>(url, { headers , params })\n      .pipe(\n        map(response => response.vp),\n        tap(visboprojects => this.log(`fetched ${visboprojects.length} VisboProjects `)),\n        catchError(this.handleError('getVisboProjects', []))\n      );\n  }\n\n  /** GET VisboProject by id. Return `undefined` when id not found */\n  /** Check that 404 is called correctly, currently rest server delivers 500 instead of 404 */\n  getVisboProjectNo404<Data>(id: string): Observable<VisboProject> {\n    const url = `${this.vpUrl}`;\n    this.log(`Calling HTTP Request: ${this.vpUrl}`);\n    return this.http.get<VisboProject[]>(url)\n      .pipe(\n        map(visboprojects => visboprojects[0]), // returns a {0|1} element array\n        tap(h => {\n          const outcome = h ? `fetched` : `did not find`;\n          this.log(`getVisboProject404 ${outcome} VisboProject id=${id}`);\n        }),\n        catchError(this.handleError<VisboProject>(`getVisboProject id=${id}`))\n      );\n  }\n\n  /** GET VisboProject by id. Will 404 if id not found */\n  getVisboProject(id: string, sysAdmin: boolean = false, deleted: boolean = false): Observable<VisboProject> {\n    const url = `${this.vpUrl}/${id}`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n    if (sysAdmin) params = params.append('sysadmin', '1')\n    if (deleted) params = params.append('deleted', '1')\n\n    this.log(`Calling HTTP Request for a specific entry: ${url} params ${params}`);\n    return this.http.get<VisboProjectResponse>(url, { headers , params })\n      .pipe(\n        map(response => {\n                  // TODO: is there a better way to transfer the perm?\n                  response.vp[0].perm = response.perm;\n                  return response.vp[0]\n                }),\n        tap(visboproject => this.log(`fetched vp id=${visboproject._id} ${visboproject.name}`)),\n        catchError(this.handleError<VisboProject>(`getVisboProject id=${id}`))\n      );\n  }\n\n  /* GET VisboProjects whose name contains search term */\n  // searchVisboProjects(term: string): Observable<VisboProject[]> {\n  //   if (!term.trim()) {\n  //     // if not search term, return empty visboproject array.\n  //     return of([]);\n  //   }\n  //   return this.http.get<VisboProject[]>(`api/visboprojects?name=${term}`).pipe(\n  //     tap(_ => this.log(`found VisboProjects matching \"${term}\"`)),\n  //     catchError(this.handleError<VisboProject[]>('searchVisboProjects', []))\n  //   );\n  // }\n\n  //////// Save methods //////////\n\n  /** POST: add a new Visbo Project to the server */\n  addVisboProject (visboproject: VisboProject): Observable<VisboProject> {\n    return this.http.post<VisboProjectResponse>(this.vpUrl, visboproject, httpOptions)\n      .pipe(\n        map(response => response.vp[0] ),\n        tap(vp => this.log(`added VisboProject with id=${vp._id}`)),\n        catchError(this.handleError<VisboProject>('addVisboProject'))\n      );\n  }\n\n  /** DELETE: delete the Visbo Project from the server */\n  deleteVisboProject (visboproject: VisboProject, deleted: boolean = false): Observable<any> {\n    //const id = typeof visboproject === 'number' ? visboproject : visboproject._id;\n    const id = visboproject._id;\n    const url = `${this.vpUrl}/${id}`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n    if (deleted) params = params.append('deleted', '1')\n    this.log(`Calling HTTP Request: ${url} `);\n\n    return this.http.delete<VisboProjectResponse>(url, { headers , params })\n      .pipe(\n        tap(_ => this.log(`deleted VisboProject id=${id}`)),\n        catchError(this.handleError('deleteVisboProject'))\n      );\n  }\n\n  /** PUT: update the Visbo Project on the server */\n  updateVisboProject (visboproject: VisboProject, deleted: boolean = false): Observable<VisboProject> {\n    const url = `${this.vpUrl}/${visboproject._id}`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n    if (deleted) params = params.append('deleted', '1')\n    this.log(`Calling HTTP Request PUT: ${url} `);\n    return this.http.put<VisboProjectResponse>(url, visboproject, { headers , params })\n      .pipe(\n        map(response => response.vp[0]),\n        tap(_ => this.log(`updated VisboProject id=${visboproject._id} url=${this.vpUrl}`)),\n        catchError(this.handleError<any>('updateVisboProject'))\n      );\n  }\n\n  // GET VisboProject Users for a specified VP from the server\n  getVPUsers(vpid: string, sysadmin: boolean = false, deleted: boolean = false): Observable<any> {\n    var url = `${this.vpUrl}/${vpid}/group?userlist=1`;\n    if (sysadmin) {\n      url = url.concat('&sysadmin=1')\n    }\n    if (deleted) {\n      url = url.concat('&deleted=1')\n    }\n    this.log(`Calling HTTP Request GET: ${url} `);\n    return this.http.get<VGResponse>(url, httpOptions)\n      .pipe(\n        map(response => {\n          var userGroupMix = new VGUserGroupMix();\n          userGroupMix.users = response.users;\n          userGroupMix.groups = response.groups;\n          return userGroupMix\n        }),\n        // tap(users => this.log(`fetched Users & Groups Users `)),\n        catchError(this.handleError('getVisboProjectUsers', []))\n      );\n  }\n\n  /** POST: add a new User to the Visbo Project */\n  addVPUser (email: string, groupId: string, message: string, vpid: string, sysadmin: boolean = false): Observable<VGGroup> {\n    var url = `${this.vpUrl}/${vpid}/group/${groupId}/user`;\n    if (sysadmin) url = url.concat('?sysadmin=1')\n    var reqBody: any = {};\n    reqBody.email = email;\n    reqBody.message = message;\n    this.log(`Calling HTTP Request: ${url} for ${email} `);\n    return this.http.post<VGResponse>(url, reqBody, httpOptions)\n      .pipe(\n        map(response => response.groups[0]),\n        tap(group => this.log(`added Visbo User to Group with id=${group._id}`)),\n        catchError(this.handleError<any>('addVPUser'))\n      );\n  }\n\n  /** DELETE: remove a User from the Visbo Project */\n  deleteVPUser (user: VGUserGroup, vpid: string, sysadmin: boolean = false): Observable<any> {\n    var url = `${this.vpUrl}/${vpid}/group/${user.groupId}/user/${user.userId}`;\n    if (sysadmin) url = url.concat('?sysadmin=1')\n    this.log(`Calling HTTP Request: ${url} for ${user.email} as ${user.groupName} `);\n    return this.http.delete<VGResponse>(url, httpOptions)\n    .pipe(\n      tap(users => this.log(`deleted Visbo Project User ${user.email}`)),\n      catchError(this.handleError<any>('deleteVisboProjectUser'))\n    );\n  }\n\n  /** POST: add a new Group to the Visbo Project */\n  addVPGroup (newGroup: VGGroup, sysadmin: boolean = false): Observable<VGGroup> {\n    var url = `${this.vpUrl}/${newGroup.vpids[0]}/group`;\n    if (sysadmin) url = url.concat('?sysadmin=1')\n    this.log(`Calling HTTP Request: ${url} for ${newGroup.name} `);\n    return this.http.post<VGResponse>(url, newGroup, httpOptions)\n      .pipe(\n        map(response => response.groups[0]),\n        tap(group => this.log(`added Visbo Group with id=${group._id}`)),\n        catchError(this.handleError<any>('addVPGroup'))\n      );\n  }\n\n  /** PUT: modify a VP Group in the Visbo Project (Change: Name, Global, Permission)*/\n  modifyVPGroup (actGroup: VGGroup, sysadmin: boolean = false): Observable<VGGroup> {\n    var url = `${this.vpUrl}/${actGroup.vpids[0]}/group/${actGroup._id}`;\n    if (sysadmin) url = url.concat('?sysadmin=1')\n    this.log(`Calling HTTP Request: ${url} for ${actGroup.name} Perm: ${JSON.stringify(actGroup.permission)} `);\n    return this.http.put<VGResponse>(url, actGroup, httpOptions)\n      .pipe(\n        map(response => response.groups[0]),\n        tap(group => this.log(`modified Visbo Group with id=${JSON.stringify(group)}`)),\n        catchError(this.handleError<any>('addVPGroup'))\n      );\n  }\n\n  /** DELETE: remove a Group from the Visbo Project */\n  deleteVPGroup (group: VGGroup, vpid: string, sysadmin: boolean = false): Observable<any> {\n    var url = `${this.vpUrl}/${vpid}/group/${group._id}`;\n    if (sysadmin) url = url.concat('?sysadmin=1')\n    this.log(`Calling HTTP Request: ${url} for Group ${group.name} `);\n    return this.http.delete<VGResponse>(url, httpOptions)\n    .pipe(\n      // map(response => response.vc[0].users),\n      tap(groups => this.log(`deleted Visbo Project Group ${group.name}`)),\n      catchError(this.handleError<any>('deleteVisboProjectGroup'))\n    );\n  }\n\n  /** DELETE: unlock Visbo Project Variant */\n  unlockVP (variantName: string, vpid: string, sysadmin: boolean = false): Observable<any> {\n    var url = `${this.vpUrl}/${vpid}/lock?variantName=${variantName}`;\n    if (sysadmin) url = url.concat('?sysadmin=1')\n    this.log(`Calling HTTP Request: ${url} for Lock ${variantName} `);\n    return this.http.delete<VisboProjectLockResponse>(url, httpOptions)\n    .pipe(\n      // map(response => response.vc[0].users),\n      tap(lock => this.log(`deleted Visbo Project Lock ${variantName}`)),\n      catchError(this.handleError<any>('deleteVisboProjectLock'))\n    );\n  }\n\n  /**\n   * Handle Http operation that failed.\n   * Let the app continue.\n   * @param operation - name of the operation that failed\n   * @param result - optional value to return as the observable result\n   */\n  private handleError<T> (operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n\n      this.log(`HTTP Request failed: ${error.error.message} ${error.status}`);\n      // send the error to remote logging infrastructure\n      this.log(`${operation} failed: ${error.error.message}`);\n      // Let the app keep running by returning an empty result.\n      return throwError(error);\n      // return new ErrorObservable(error);\n    };\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('VisboProjectService: ' + message);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\n\nimport { Observable } from 'rxjs/Observable';\nimport { ErrorObservable } from 'rxjs/observable/ErrorObservable';\nimport { of } from 'rxjs/observable/of';\nimport { catchError, map, tap } from 'rxjs/operators';\n\nimport { AuthenticationService } from './authentication.service'\n\nimport { EnvService } from './env.service';\n\n// import { VisboCenter } from '../_models/visbocenter';\nimport { VisboProjectVersion, VisboProjectVersionResponse, VPVKeyMetrics, VPVKeyMetricsCalc } from '../_models/visboprojectversion';\nimport { VisboPortfolioVersion, VisboPortfolioVersionResponse } from '../_models/visboportfolioversion';\n\nimport { MessageService } from './message.service';\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\n\n@Injectable()\nexport class VisboProjectVersionService {\n\n  private vpvUrl = this.env.restUrl.concat('/vpv'); // URL to web api\n  private vpfUrl = this.env.restUrl.concat('/vp'); // URL to web api\n\n  constructor(\n    private http: HttpClient,\n    private messageService: MessageService,\n    private authenticationService: AuthenticationService,\n    private env: EnvService\n  ) { }\n\n\n  /** GET VisboProjectVersions from the server if id is specified get only projects of this vpid*/\n  getVisboProjectVersions(id: string, deleted: boolean = false, variantName: string = undefined, keyMetrics: boolean = false): Observable<VisboProjectVersion[]> {\n    const url = `${this.vpvUrl}`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n    if (id) params = params.append('vpid', id);\n    if (deleted) params = params.append('deleted', '1');\n    if (variantName != undefined) params = params.append('variantName', variantName);\n    if (keyMetrics) params = params.append('keyMetrics', '1');\n\n    this.log(`Calling HTTP Request: ${url} Options: ${params}`);\n    return this.http.get<VisboProjectVersionResponse>(this.vpvUrl, { headers , params })\n      .pipe(\n        map(response => response.vpv),\n        tap(visboprojectversions => this.log(`fetched ${visboprojectversions.length} VisboProjectVersions `)),\n        catchError(this.handleError('getVisboProjectVersions', []))\n      );\n  }\n\n  /** GET VisboProjectVersion by id. Will 404 if id not found */\n  getVisboProjectVersion(id: string, deleted: boolean = false): Observable<VisboProjectVersion> {\n    const url = `${this.vpvUrl}/${id}`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n    if (deleted) params = params.append('deleted', '1');\n    this.log(`Calling HTTP Request for a specific entry: ${url} Params ${params}`);\n    return this.http.get<VisboProjectVersionResponse>(url, { headers , params })\n      .pipe(\n        map(response => {\n                  // TODO: is there a better way to transfer the perm?\n                  response.vpv[0].perm = response.perm;\n                  return response.vpv[0]\n                }),\n        tap(visboprojectversion => this.log(`fetched Specific Version `)),\n        catchError(this.handleError<VisboProjectVersion>(`getVisboProjectVersion id=${id}`))\n      );\n  }\n\n  /* GET VisboProjectVersions whose name contains search term */\n  // searchVisboProjectVersions(term: string): Observable<VisboProjectVersion[]> {\n  //   if (!term.trim()) {\n  //     // if not search term, return empty visboprojectversion array.\n  //     return of([]);\n  //   }\n  //   return this.http.get<VisboProjectVersion[]>(`api/visboprojects?name=${term}`).pipe(\n  //     tap(_ => this.log(`found VisboProjectVersions matching \"${term}\"`)),\n  //     catchError(this.handleError<VisboProjectVersion[]>('searchVisboProjectVersions', []))\n  //   );\n  // }\n\n  //////// Save methods //////////\n\n  /** POST: add a new Visbo Project to the server */\n  addVisboProjectVersion (visboprojectversion: VisboProjectVersion): Observable<VisboProjectVersion> {\n    var newVPV = new VisboProjectVersion();\n    newVPV.name = visboprojectversion.name;\n    return this.http.post<VisboProjectVersion>(this.vpvUrl, visboprojectversion, httpOptions)\n      .pipe(\n        map(response => { return JSON.parse(JSON.stringify(response)).vpv }),\n        tap((visboprojectversion: VisboProjectVersion) => this.log(`added VisboProjectVersion w/ id=${visboprojectversion._id}`)),\n        catchError(this.handleError<VisboProjectVersion>('addVisboProjectVersion'))\n      );\n  }\n\n  /** DELETE: delete the Visbo Project from the server */\n  deleteVisboProjectVersion (visboprojectversion: VisboProjectVersion, deleted: boolean = false): Observable<VisboProjectVersion> {\n    //const id = typeof visboprojectversion === 'number' ? visboprojectversion : visboprojectversion._id;\n    const id = visboprojectversion._id;\n    const url = `${this.vpvUrl}/${id}`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n    if (deleted) params = params.append('deleted', '1');\n    this.log(`Calling HTTP Request Delete: ${url} Params ${params}`);\n\n    return this.http.delete<VisboProjectVersion>(url, { headers , params }).pipe(\n      tap(_ => this.log(`deleted VisboProjectVersion id=${id}`)),\n      catchError(this.handleError<VisboProjectVersion>('deleteVisboProjectVersion'))\n    );\n  }\n\n  /** PUT: update the Visbo Project on the server */\n  updateVisboProjectVersion (visboprojectversion: VisboProjectVersion, deleted: boolean = false): Observable<any> {\n    const url = `${this.vpvUrl}/${visboprojectversion._id}`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n    if (deleted) params = params.append('deleted', '1');\n    this.log(`Calling HTTP Request PUT: ${url} Params ${params}`);\n    return this.http.put(url, visboprojectversion, { headers , params })\n      .pipe(\n        tap(_ => this.log(`updated VisboProjectVersion id=${visboprojectversion._id} url=${this.vpvUrl}`)),\n        catchError(this.handleError<any>('updateVisboProjectVersion'))\n      );\n  }\n\n  /** GET getVisboPortfolioVersions from the server if id is specified get only projects of this vpid*/\n  getVisboPortfolioVersions(id: string, deleted: boolean = false): Observable<VisboPortfolioVersion[]> {\n    const url = `${this.vpfUrl}/${id}/portfolio`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n    if (deleted) params = params.append('deleted', '1');\n\n    this.log(`Calling HTTP Request: ${url} Options: ${params}`);\n    return this.http.get<VisboPortfolioVersionResponse>(url, { headers , params })\n      .pipe(\n        map(response => {\n                  // TODO: is there a better way to transfer the perm?\n                  response.vpf[0].perm = response.perm;\n                  return response.vpf\n                }),\n        tap(visboportfolioversion => this.log(`fetched ${visboportfolioversion.length} VisboPortfolioVersion `)),\n        catchError(this.handleError('getVisboPortfolioVersions', []))\n      );\n  }\n\n  /** GET getVisboPortfolioVersions from the server if id is specified get only projects of this vpid*/\n  getVisboPortfolioKeyMetrics(id: string, refDate: Date = new Date(), deleted: boolean = false): Observable<VisboProjectVersion[]> {\n    const url = `${this.vpvUrl}`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n    params = params.append('vpfid', id);\n    params = params.append('refDate', refDate.toISOString());\n    params = params.append('keyMetrics', '1');\n    if (deleted) params = params.append('deleted', '1');\n\n    this.log(`Calling HTTP Request: ${url} Options: ${params}`);\n    return this.http.get<VisboProjectVersionResponse>(url, { headers , params })\n      .pipe(\n        map(response => response.vpv),\n        tap(vpv => this.log(`fetched ${vpv.length} VisboPortfolio Project Versions `)),\n        catchError(this.handleError('getVisboPortfoliokeyMetrics', []))\n      );\n  }\n\n  /** GET VisboProjectVersion by id. Will 404 if id not found */\n  getVisboPortfolioVersion(id: string, deleted: boolean = false): Observable<VisboPortfolioVersion> {\n    const url = `${this.vpfUrl}/${id}/portfolio`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n    if (deleted) params = params.append('deleted', '1');\n    this.log(`Calling HTTP Request for a specific entry: ${url} Params ${params}`);\n    return this.http.get<VisboPortfolioVersionResponse>(url, { headers , params })\n      .pipe(\n        map(response => {\n                  // TODO: is there a better way to transfer the perm?\n                  // response.vpf[0].perm = response.perm;\n                  return response.vpf[0]\n                }),\n        tap(visboportfolioversion => this.log(`fetched Specific Portfolio Version `)),\n        catchError(this.handleError<VisboPortfolioVersion>(`getVisboPortfolioVersion id=${id}`))\n      );\n  }\n\n  /** GET CostCalculation from the server for the specified vpv id */\n  getCost(id: string): Observable<VisboProjectVersion[]> {\n    const url = `${this.vpvUrl}/${id}/calc`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n    // if (id) params = params.append('vpid', id);\n    // if (deleted) params = params.append('deleted', '1');\n    // if (variantName != undefined) params = params.append('variantName', variantName);\n    // if (keyMetrics) params = params.append('keyMetrics', '1');\n\n    this.log(`Calling HTTP Request: ${url} Options: ${params}`);\n    return this.http.get<VisboProjectVersionResponse>(url, { headers , params })\n      .pipe(\n        map(response => response.vpv),\n        tap(visboprojectversions => this.log(`fetched ${visboprojectversions.length} VisboProjectVersions `)),\n        catchError(this.handleError('getVisboProjectVersions', []))\n      );\n  }\n\n  /**\n   * Handle Http operation that failed.\n   * Let the app continue.\n   * @param operation - name of the operation that failed\n   * @param result - optional value to return as the observable result\n   */\n  private handleError<T> (operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n\n      // send the error to remote logging infrastructure\n      this.log(`HTTP Request ${operation} failed: ${error.message} ${error.status}`);\n\n      // better job of transforming error for user consumption\n\n      // Let the app keep running by returning an empty result.\n      return of(result as T);\n    };\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('VisboProjectVersionService: ' + message);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\n\nimport { Observable, throwError, of } from 'rxjs'; // only need to import from rxjs\nimport { catchError, map, tap } from 'rxjs/operators';\n\nimport { EnvService } from './env.service';\n\nimport { VisboSetting, VisboSettingResponse, VisboSettingListResponse } from '../_models/visbosetting';\n\nimport { MessageService } from './message.service';\nimport { LoginComponent } from '../login/login.component';\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\n\n@Injectable()\nexport class VisboSettingService  {\n  private vcUrl = this.env.restUrl.concat('/vc');  // URL to web api\n\n  constructor(\n    private http: HttpClient,\n    private messageService: MessageService,\n    private env: EnvService\n  ) { }\n\n\n  /** GET VCSettings from the server */\n  getVCSettings(vcid: number, sysadmin: boolean = false): Observable<VisboSetting[]> {\n    var url = `${this.vcUrl}/${vcid}/setting`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n\n    if (sysadmin) params = params.append('sysadmin', '1');\n\n    this.log(`Calling HTTP Request: ${url} `);\n    return this.http.get<VisboSettingListResponse>(url, { headers , params })\n      .pipe(\n        map(response => response.vcsetting),\n        tap(visbosettings => this.log(`fetched ${visbosettings.length} VCSettings `)),\n        catchError(this.handleError('getVCSettings', []))\n      );\n  }\n\n  /** GET VCSetting by id. Will 404 if id not found */\n  getVCSetting(vcid: number, id: string, sysadmin: boolean = false): Observable<VisboSetting> {\n    var url = `${this.vcUrl}/${vcid}/setting/${id}`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n\n    if (sysadmin) params = params.append('sysadmin', '1');\n    this.log(`Calling HTTP Request for a specific entry: ${url}`);\n    return this.http.get<VisboSettingResponse>(url, { headers , params })\n      .pipe(\n        map(response => {\n                  return response.vcsetting[0]\n                }),\n        tap(visbosetting => this.log(`fetched VC Setting ${visbosetting.name} id:${id} `)),\n        catchError(this.handleError<VisboSetting>(`getVCSetting id:${id}`))\n      );\n  }\n\n  /** GET VCSetting by type */\n  getVCSettingByName(vcid: number, name: string, sysadmin: boolean = false): Observable<VisboSetting[]> {\n    var url = `${this.vcUrl}/${vcid}/setting?name=${name}`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n\n    if (sysadmin) params = params.append('sysadmin', '1');\n    this.log(`Calling HTTP Request for a specific entry: ${url}`);\n    return this.http.get<VisboSettingListResponse>(url, { headers , params })\n      .pipe(\n        map(response => response.vcsetting),\n        tap(visbosettings => this.log(`fetched ${visbosettings.length} VCSettings `)),\n        catchError(this.handleError('getVCSettings by Name', []))\n      );\n  }\n\n  /** GET VCSetting by type */\n  getVCSettingByType(vcid: number, type: string, sysadmin: boolean = false): Observable<VisboSetting[]> {\n    var url = `${this.vcUrl}/${vcid}/setting?type=${type}`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n\n    if (sysadmin) params = params.append('sysadmin', '1');\n    this.log(`Calling HTTP Request for a specific entry: ${url}`);\n    return this.http.get<VisboSettingListResponse>(url, { headers , params })\n      .pipe(\n        map(response => response.vcsetting),\n        tap(visbosettings => this.log(`fetched ${visbosettings.length} VCSettings `)),\n        catchError(this.handleError('getVCSettings by Type', []))\n      );\n  }\n\n  //////// Save methods //////////\n\n  /** POST: a new Visbo Center Setting to the server */\n  addVCSetting (vcid: number, visbosetting: VisboSetting, sysadmin: boolean = false): Observable<VisboSetting> {\n    var url = `${this.vcUrl}/${vcid}/setting`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n\n    if (sysadmin) params = params.append('sysadmin', '1');\n\n    this.log(`Calling HTTP Request: ${url} ${JSON.stringify(visbosetting)}`);\n    var url = this.vcUrl + '?sysadmin=1'\n\n    return this.http.post<VisboSettingResponse>(url, visbosetting, { headers , params })\n      .pipe(\n        map(response => response.vcsetting[0] ),\n        tap(vcsetting => this.log(`added VCSetting ${vcsetting.name} with id=${vcsetting._id}`)),\n        catchError(this.handleError<VisboSetting>('addVCSetting'))\n      );\n  }\n\n\n  /** DELETE: delete the Visbo Center Setting from the server */\n  deleteVCSetting (vcid: number, visbosetting: VisboSetting, sysadmin: boolean = false): Observable<any> {\n    //const id = typeof visbosetting === 'number' ? visbosetting : visbosetting._id;\n    const id = visbosetting._id;\n    var url = `${this.vcUrl}/${vcid}/setting/${id}`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n\n    if (sysadmin) params = params.append('sysadmin', '1');\n\n    this.log(`Calling HTTP Request: ${url} `);\n\n    return this.http.delete<VisboSetting>(url, { headers , params })\n      .pipe(\n        tap(response => this.log(`deleted VCSetting id=${id}`)),\n        catchError(this.handleError<VisboSetting>('deleteVCSetting'))\n      );\n  }\n\n  /** PUT: update the Visbo Center Setting on the server */\n  updateVCSetting (vcid: number, visbosetting: VisboSetting, sysadmin: boolean = false): Observable<VisboSetting> {\n    const id = visbosetting._id;\n    var url = `${this.vcUrl}/${vcid}/setting/${id}`;\n    let headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    let params = new HttpParams();\n\n    if (sysadmin) params = params.append('sysadmin', '1');\n    this.log(`Calling HTTP Request PUT: ${url} `);\n    return this.http.put<VisboSettingResponse>(url, visbosetting, { headers , params })\n      .pipe(\n        map(response => response.vcsetting[0] ),\n        tap(vcsetting => this.log(`updated VCSetting ${vcsetting.name} with id=${vcsetting._id}`)),\n        catchError(this.handleError<any>('updateVCSetting'))\n      );\n  }\n\n  /**\n   * Handle Http operation that failed.\n   * Let the app continue.\n   * @param operation - name of the operation that failed\n   * @param result - optional value to return as the observable result\n   */\n  private handleError<T> (operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n\n      this.log(`HTTP Request ${operation} failed: ${error.error.message} status:${error.status}`);\n\n      // Let the app keep running by returning an empty result.\n      return throwError(error);\n      // return new ErrorObservable(error);\n    };\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('VisboSettingService: ' + message);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { LoginComponent }      from './login/login.component';\nimport { RegisterComponent } from './register/register.component';\nimport { RegisterconfirmComponent } from './registerconfirm/registerconfirm.component';\nimport { AuthGuard } from './_guards/auth.guard';\nimport { PwforgottenComponent } from './pwforgotten/pwforgotten.component';\nimport { PwresetComponent } from './pwreset/pwreset.component';\n\nimport { DashboardComponent }   from './dashboard/dashboard.component';\nimport { VisboCentersComponent }      from './visbocenters/visbocenters.component';\nimport { VisbocenterDetailComponent }  from './visbocenter-detail/visbocenter-detail.component';\nimport { VisbocenterAuditComponent }  from './visbocenter-audit/visbocenter-audit.component';\nimport { VisboprojectAuditComponent }  from './visboproject-audit/visboproject-audit.component';\n\nimport { VisboProjectsComponent }      from './visboprojects/visboprojects.component';\nimport { VisboprojectDetailComponent }  from './visboproject-detail/visboproject-detail.component';\nimport { VisboProjectVersionsComponent }      from './visboprojectversions/visboprojectversions.component';\nimport { VisboProjectVersionDetailComponent }      from './visboprojectversion-detail/visboprojectversion-detail.component';\nimport { VisboPortfolioVersionsComponent } from './visboportfolio-versions/visboportfolio-versions.component';\nimport { VisboProjectKeyMetricsComponent }  from './visboproject-keymetrics/visboproject-keymetrics.component';\nimport { VisboProjectViewCostComponent }  from './visboproject-viewcost/visboproject-viewcost.component';\n// import { VisboPortfolioVersionDetailComponent } from './visboprojectversion-detail/visboprojectversion-detail.component';\n\nimport { SettingsComponent }   from './settings/settings.component';\nimport { UserProfileComponent }   from './userprofile/userprofile.component';\n\nimport { SysvisbosystemComponent }  from './sysvisbosystem/sysvisbosystem.component';\nimport { SysVisboCentersComponent }  from './sysvisbocenters/sysvisbocenters.component';\nimport { SysvisbocenterDetailComponent }  from './sysvisbocenter-detail/sysvisbocenter-detail.component';\nimport { SysVisboProjectsComponent }  from './sysvisboprojects/sysvisboprojects.component';\nimport { SysvisboprojectDetailComponent }  from './sysvisboproject-detail/sysvisboproject-detail.component';\nimport { SysauditComponent }  from './sysaudit/sysaudit.component';\nimport { SysuserComponent }  from './sysuser/sysuser.component';\nimport { SysLogComponent }  from './syslog/syslog.component';\nimport { SystasksComponent }  from './systasks/systasks.component';\nimport { SysconfigComponent }  from './sysconfig/sysconfig.component';\n\n\nconst routes: Routes = [\n  { path: 'login', component: LoginComponent },\n  { path: 'register', component: RegisterComponent },\n  { path: 'registerconfirm', component: RegisterconfirmComponent },\n  { path: 'register/:id', component: RegisterComponent },\n  { path: 'pwforgotten', component: PwforgottenComponent },\n  { path: 'pwreset', component: PwresetComponent },\n  { path: 'dashboard', component: DashboardComponent, canActivate: [AuthGuard]  },\n  { path: 'vc', component: VisboCentersComponent, canActivate: [AuthGuard] },\n  { path: 'vcDetail/:id', component: VisbocenterDetailComponent, canActivate: [AuthGuard]  },\n  { path: 'vcAudit/:id', component: VisbocenterAuditComponent, canActivate: [AuthGuard]  },\n  { path: 'vp', component: VisboProjectsComponent, canActivate: [AuthGuard] },\n  { path: 'vp/:id', component: VisboProjectsComponent, canActivate: [AuthGuard] },\n  { path: 'vpDetail/:id', component: VisboprojectDetailComponent, canActivate: [AuthGuard]  },\n  { path: 'vpAudit/:id', component: VisboprojectAuditComponent, canActivate: [AuthGuard]  },\n  { path: 'vpKeyMetrics/:id', component: VisboProjectKeyMetricsComponent, canActivate: [AuthGuard]  },\n  { path: 'vpViewCost/:id', component: VisboProjectViewCostComponent, canActivate: [AuthGuard]  },\n  { path: 'vpv', component: VisboProjectVersionsComponent, canActivate: [AuthGuard] },\n  { path: 'vpv/:id', component: VisboProjectVersionsComponent, canActivate: [AuthGuard] },\n  { path: 'vpvDetail/:id', component: VisboProjectVersionDetailComponent, canActivate: [AuthGuard]  },\n  { path: 'vpf/:id', component: VisboPortfolioVersionsComponent, canActivate: [AuthGuard] },\n  { path: 'settings', component: SettingsComponent, canActivate: [AuthGuard] },\n  { path: 'profile', component: UserProfileComponent, canActivate: [AuthGuard] },\n  { path: 'sysadmins', component: SysvisbosystemComponent, canActivate: [AuthGuard] },\n  { path: 'sysvc', component: SysVisboCentersComponent, canActivate: [AuthGuard] },\n  { path: 'sysvcDetail/:id', component: SysvisbocenterDetailComponent, canActivate: [AuthGuard] },\n  { path: 'sysvp/:id', component: SysVisboProjectsComponent, canActivate: [AuthGuard] },\n  { path: 'sysvpDetail/:id', component: SysvisboprojectDetailComponent, canActivate: [AuthGuard] },\n  { path: 'sysaudit', component: SysauditComponent, canActivate: [AuthGuard] },\n  { path: 'sysuser', component: SysuserComponent, canActivate: [AuthGuard] },\n  { path: 'syslog', component: SysLogComponent, canActivate: [AuthGuard] },\n  { path: 'systasks', component: SystasksComponent, canActivate: [AuthGuard] },\n  { path: 'sysconfig', component: SysconfigComponent, canActivate: [AuthGuard] },\n  { path: '', redirectTo: '/dashboard', pathMatch: 'full' }\n];\n\n@NgModule({\n  imports: [ RouterModule.forRoot(routes) ],\n  exports: [ RouterModule ]\n})\nexport class AppRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { MessageService } from './_services/message.service';\nimport { AuthenticationService } from './_services/authentication.service';\nimport { AlertService } from './_services/alert.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html'\n})\nexport class AppComponent implements OnInit {\n  // title = 'Your Projects served with Visbo ';\n  version = '1.3';\n  restVersionString = 'V undefined';\n  restUIVersionString = 'V undefined';\n\n  constructor(\n    private messageService: MessageService,\n    private authenticationService: AuthenticationService,\n    private alertService: AlertService\n  ) { }\n\n  ngOnInit() {\n    this.restVersion();\n    // this.pwPolicy();\n  }\n\n  restVersion() {\n    this.authenticationService.restVersion()\n      .subscribe(\n        data => {\n          this.log(`Version Status check result ${JSON.stringify(data)}`);\n          if (data.version) this.restVersionString = data.version;\n          if (data.versionUI) this.restUIVersionString = data.versionUI;\n          this.log(`Version Status check success ${data.version}/${this.restVersionString} UI ${data.versionUI}/${this.restUIVersionString}`);\n        },\n        error => {\n          this.log(`Version Status check Failed: ${error.status} ${error.error.message} `);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  pwPolicy() {\n    this.authenticationService.initPWPolicy()\n      .subscribe(\n        data => {\n          this.log(`Init PW Policy success`);\n        },\n        error => {\n          this.log(`Init PW Policy Failed: ${error.status} ${error.error.message} `);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('App: ' + message);\n  }\n\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\n\nimport { AppComponent } from './app.component';\nimport { AppRoutingModule } from './app-routing.module';\n\n// import { AngularFontAwesomeModule } from 'angular-font-awesome';\n\n// Authentication\nimport { LoginComponent } from './login/login.component';\nimport { AlertComponent } from './_directives/alert.component';\nimport { AuthGuard } from './_guards/auth.guard';\nimport { JwtInterceptor } from './_helpers/jwt.interceptor';\nimport { AuthenticationService } from './_services/authentication.service';\nimport { UserService } from './_services/user.service';\nimport { RegisterComponent } from './register/register.component';\nimport { RegisterconfirmComponent } from './registerconfirm/registerconfirm.component';\nimport { PwforgottenComponent } from './pwforgotten/pwforgotten.component';\nimport { PwresetComponent } from './pwreset/pwreset.component';\n\nimport { AlertService } from './_services/alert.service';\n\nimport { NavbarComponent } from './navbar/navbar.component';\n\nimport { MessagesComponent } from './messages/messages.component';\nimport { LogoutTimerComponent } from './logouttimer/logouttimer.component';\nimport { SettingsComponent } from './settings/settings.component';\nimport { UserProfileComponent } from './userprofile/userprofile.component';\n\nimport { MessageService } from './_services/message.service';\n\n// Visbo Centers\nimport { VisboCentersComponent } from './visbocenters/visbocenters.component';\nimport { VisbocenterDetailComponent } from './visbocenter-detail/visbocenter-detail.component';\nimport { VisbocenterAuditComponent }  from './visbocenter-audit/visbocenter-audit.component';\n\nimport { VisboCenterService } from './_services/visbocenter.service';\nimport { VisboAuditService } from './_services/visboaudit.service';\nimport { VisboSettingService } from './_services/visbosetting.service';\nimport { SysUserService } from './_services/sysuser.service';\n\n// Visbo Projects\nimport { VisboProjectService } from './_services/visboproject.service';\nimport { VisboProjectsComponent } from './visboprojects/visboprojects.component';\nimport { VisboprojectDetailComponent } from './visboproject-detail/visboproject-detail.component';\nimport { VisboprojectAuditComponent }  from './visboproject-audit/visboproject-audit.component';\nimport { VisboProjectKeyMetricsComponent }  from './visboproject-keymetrics/visboproject-keymetrics.component';\nimport { VisboProjectViewCostComponent }  from './visboproject-viewcost/visboproject-viewcost.component';\n\n// Visbo Project Versions\nimport { VisboProjectVersionService } from './_services/visboprojectversion.service';\nimport { VisboProjectVersionsComponent } from './visboprojectversions/visboprojectversions.component';\nimport { VisboProjectVersionDetailComponent } from './visboprojectversion-detail/visboprojectversion-detail.component';\n\n// Visbo Portfolio Versions\nimport { VisboPortfolioVersionsComponent } from './visboportfolio-versions/visboportfolio-versions.component';\n\nimport { DashboardComponent } from './dashboard/dashboard.component';\n\n// Sys Admin / App Admin\nimport { SysNavbarComponent } from './sysnavbar/sysnavbar.component';\nimport { SysvisbosystemComponent } from './sysvisbosystem/sysvisbosystem.component';\nimport { SysVisboCentersComponent } from './sysvisbocenters/sysvisbocenters.component';\nimport { SysvisbocenterDetailComponent }  from './sysvisbocenter-detail/sysvisbocenter-detail.component';\nimport { SysVisboProjectsComponent }  from './sysvisboprojects/sysvisboprojects.component';\nimport { SysvisboprojectDetailComponent }  from './sysvisboproject-detail/sysvisboproject-detail.component';\n\nimport { SysauditComponent }  from './sysaudit/sysaudit.component';\nimport { SysuserComponent }  from './sysuser/sysuser.component';\nimport { SysLogComponent }  from './syslog/syslog.component';\nimport { SysLogService } from './_services/syslog.service';\nimport { SystasksComponent } from './systasks/systasks.component';\nimport { SysconfigComponent } from './sysconfig/sysconfig.component';\n\nimport { EnvServiceProvider } from './_helpers/env.service.provider';\n\nimport { GoogleChartModule } from './google-chart/google-chart.module';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    AlertComponent,\n    VisboCentersComponent,\n    VisbocenterDetailComponent,\n    VisbocenterAuditComponent,\n    VisboProjectsComponent,\n    VisboprojectDetailComponent,\n    VisboprojectAuditComponent,\n    VisboProjectKeyMetricsComponent,\n    VisboProjectViewCostComponent,\n    VisboProjectVersionsComponent,\n    VisboProjectVersionDetailComponent,\n    VisboPortfolioVersionsComponent,\n    MessagesComponent,\n    LogoutTimerComponent,\n    SettingsComponent,\n    UserProfileComponent,\n    DashboardComponent,\n    NavbarComponent,\n    LoginComponent,\n    RegisterComponent,\n    RegisterconfirmComponent,\n    PwforgottenComponent,\n    PwresetComponent,\n    SysNavbarComponent,\n    SysVisboCentersComponent,\n    SysvisbosystemComponent,\n    SysvisbocenterDetailComponent,\n    SysVisboProjectsComponent,\n    SysvisboprojectDetailComponent,\n    SysauditComponent,\n    SysuserComponent,\n    SysLogComponent,\n    SystasksComponent,\n    SysconfigComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    AppRoutingModule,\n    // AngularFontAwesomeModule,\n    // MaterialModule,\n    HttpClientModule,\n    GoogleChartModule\n  ],\n  providers: [\n    AuthGuard,\n    AlertService,\n    AuthenticationService,\n    UserService,\n    VisboCenterService,\n    VisboSettingService,\n    VisboProjectService,\n    VisboProjectVersionService,\n    VisboAuditService,\n    SysUserService,\n    SysLogService,\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: JwtInterceptor,\n      multi: true\n    },\n    MessageService,\n    EnvServiceProvider\n  ],\n  bootstrap: [\n    AppComponent\n  ]\n})\nexport class AppModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAvZGFzaGJvYXJkL2Rhc2hib2FyZC5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { VisboCenter } from '../_models/visbocenter';\nimport { VisboCenterService } from '../_services/visbocenter.service';\nimport { VisboProject, VPTYPE } from '../_models/visboproject';\nimport { VisboProjectService }  from '../_services/visboproject.service';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit {\n  visbocenters: VisboCenter[] = [];\n  visboprojects: VisboProject[] = [];\n\n  constructor(\n    private visbocenterService: VisboCenterService,\n    private visboprojectService: VisboProjectService,\n    private messageService: MessageService,\n    private alertService: AlertService,\n    private route: ActivatedRoute,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.getVisboCenters();\n    this.getVisboProjects();\n  }\n\n  getVisboCenters(): void {\n    // get top 3 visbo centers ordered by last modification date\n    this.visbocenterService.getVisboCenters()\n      .subscribe(\n        visbocenters => {\n          this.visbocenters = visbocenters.sort(function(vc1, vc2){return vc1.updatedAt>vc2.updatedAt?-1:1}).slice(0, 3)\n        },\n        error => {\n          console.log('get VCs failed: error: %d message: %s', error.status, error.error.message); // log to console instead\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  getVisboProjects(): void {\n    // get top 3 visbo projects ordered by last modification date\n    this.visboprojectService.getVisboProjects(null)\n      .subscribe(\n        visboprojects => {\n          this.visboprojects = visboprojects.sort(function(vp1, vp2){return vp1.updatedAt>vp2.updatedAt?-1:1}).slice(0, 3)\n        },\n        error => {\n          console.log('get VPs failed: error: %d message: %s', error.status, error.error.message); // log to console instead\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  gotoClickedVc(visbocenter: VisboCenter):void {\n    // console.log(\"clicked row %s\", visbocenter.name);\n    this.router.navigate(['vp/'+visbocenter._id]);\n  }\n\n  gotoClickedVcDetail(visbocenter: VisboCenter):void {\n    console.log(\"clicked row %s\", visbocenter.name);\n    this.router.navigate(['vcDetail/'+visbocenter._id]);\n  }\n\n  gotoClickedVp(visboproject: VisboProject):void {\n    console.log(\"clicked row %s\", visboproject.name);\n    if (visboproject.vpType == VPTYPE[\"Portfolio\"]) {\n      this.router.navigate(['vpf/'+visboproject._id]);\n    } else {\n      this.router.navigate(['vpKeyMetrics/'+visboproject._id]);\n    }\n  }\n\n  gotoClickedVpDetail(visboproject: VisboProject):void {\n    console.log(\"clicked row %s\", visboproject.name);\n    this.router.navigate(['vpDetail/'+visboproject._id]);\n  }\n}\n","export default \"#divBubbleChart{\\n    width: 100%;\\n    height: 600px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9nb29nbGUtY2hhcnQvYnViYmxlLWNoYXJ0L2J1YmJsZS1jaGFydC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztJQUNYLGFBQWE7QUFDakIiLCJmaWxlIjoiYXBwL2dvb2dsZS1jaGFydC9idWJibGUtY2hhcnQvYnViYmxlLWNoYXJ0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjZGl2QnViYmxlQ2hhcnR7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiA2MDBweDtcbn1cbiJdfQ== */\"","import { Component, Input, OnInit } from '@angular/core';\n\nimport { GoogleChartService } from '../service/google-chart.service';\n\n@Component({\n  selector: 'app-bubble-chart',\n  templateUrl: './bubble-chart.component.html',\n  styleUrls: ['./bubble-chart.component.css']\n})\nexport class BubbleChartComponent implements OnInit {\n\n  private gLib: any;\n  @Input() graphData: any;\n  @Input() graphOptions: any;\n  @Input() parentThis: any;\n\n  constructor(\n    private gChartService : GoogleChartService\n  ) {\n    this.gLib = this.gChartService.getGoogle();\n    this.gLib.charts.load('current', {'packages':['corechart','table']});\n    this.gLib.charts.setOnLoadCallback(this.drawChart.bind(this));\n  }\n\n  ngOnInit() {\n    // this.log(`Google Chart Bubble Chart Init ${JSON.stringify(this.graphData)}`);\n  }\n\n  private drawChart(){\n    // this.log(`Google Chart Bubble Chart Draw ${this.graphData.length}`);\n    let chart = new this.gLib.visualization.BubbleChart(document.getElementById('divBubbleChart'));\n    let data = new this.gLib.visualization.arrayToDataTable(this.graphData);\n    let parentThis = this.parentThis;\n\n    // parentThis.log(\"Google Chart Bubble Draw/Refresh\");\n    let options = {'title':'Bubble Chart'};\n\n    // The select handler. Call the chart's getSelection() method\n    function selectHandler() {\n      var selectedItem = chart.getSelection()[0];\n      if (parentThis == undefined) console.log(`Bubble: The user clicked and this is undefined`)\n      else if (selectedItem) {\n        var row = selectedItem.row;\n        var label = data.getValue(selectedItem.row, 0);\n        parentThis.log(`Bubble: The user selected Row ${row} ${label}`)\n        parentThis.chartSelectRow(row, label);\n      }\n    }\n\n    // Listen for the 'select' event, and call my function selectHandler() when\n    // the user selects something on the chart.\n    this.gLib.visualization.events.addListener(chart, 'select', selectHandler);\n\n    chart.draw(data, this.graphOptions || options);\n  }\n}\n","export default \"#divColumnChart{\\n    width: 100%;\\n    height: 700px; \\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9nb29nbGUtY2hhcnQvY29sdW1uLWNoYXJ0L2NvbHVtbi1jaGFydC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztJQUNYLGFBQWE7QUFDakIiLCJmaWxlIjoiYXBwL2dvb2dsZS1jaGFydC9jb2x1bW4tY2hhcnQvY29sdW1uLWNoYXJ0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjZGl2Q29sdW1uQ2hhcnR7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiA3MDBweDsgXG59XG4iXX0= */\"","import { Component, Input, OnInit } from '@angular/core';\nimport { MessageService } from '../../_services/message.service';\n\nimport { GoogleChartService } from '../service/google-chart.service';\n\n@Component({\n  selector: 'app-column-chart',\n  templateUrl: './column-chart.component.html',\n  styleUrls: ['./column-chart.component.css']\n})\nexport class ColumnChartComponent implements OnInit {\n\n  private gLib: any;\n  @Input() graphData: any;\n  @Input() graphOptions: any;\n\n  constructor(\n    private gChartService : GoogleChartService,\n    private messageService: MessageService\n  ) {\n    this.gLib = this.gChartService.getGoogle();\n    this.gLib.charts.load('current', {'packages':['corechart','table']});\n    this.gLib.charts.setOnLoadCallback(this.drawChart.bind(this));\n  }\n\n  ngOnInit() {\n    // this.log(`Google Chart Column Chart Init ${JSON.stringify(this.graphData)}`);\n  }\n\n  private drawChart(){\n    // this.log(`Google Chart Column Chart Draw ${this.graphData.length}`);\n    let chart = new this.gLib.visualization.ColumnChart(document.getElementById('divColumnChart'));\n    let data = new this.gLib.visualization.arrayToDataTable(this.graphData);\n\n    let options = {'title':'Column Chart'};\n\n    chart.draw(data, this.graphOptions || options);\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('Column Chart: ' + message);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LineChartComponent } from './line-chart/line-chart.component';\nimport { BubbleChartComponent } from './bubble-chart/bubble-chart.component';\nimport { ScatterChartComponent } from './scatter-chart/scatter-chart.component';\nimport { ServiceModule } from './service/service.module';\nimport { PieChartComponent } from './pie-chart/pie-chart.component';\nimport { TableChartComponent } from './table-chart/table-chart.component';\nimport { ColumnChartComponent } from './column-chart/column-chart.component';\n\n@NgModule({\n  declarations: [LineChartComponent, BubbleChartComponent, ScatterChartComponent, PieChartComponent, TableChartComponent, ColumnChartComponent],\n  imports: [\n    CommonModule,\n    ServiceModule\n  ],\n  exports: [LineChartComponent, BubbleChartComponent, ScatterChartComponent, PieChartComponent, TableChartComponent, ColumnChartComponent],\n  providers : []\n})\nexport class GoogleChartModule { }\n","export default \"#divLineChart{\\n    width: 100%;\\n    height: 500px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9nb29nbGUtY2hhcnQvbGluZS1jaGFydC9saW5lLWNoYXJ0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxXQUFXO0lBQ1gsYUFBYTtBQUNqQiIsImZpbGUiOiJhcHAvZ29vZ2xlLWNoYXJ0L2xpbmUtY2hhcnQvbGluZS1jaGFydC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2RpdkxpbmVDaGFydHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDUwMHB4O1xufVxuIl19 */\"","import { Component, Input, OnInit } from '@angular/core';\nimport { MessageService } from '../../_services/message.service';\n\nimport { GoogleChartService } from '../service/google-chart.service';\n\n@Component({\n  selector: 'app-line-chart',\n  templateUrl: './line-chart.component.html',\n  styleUrls: ['./line-chart.component.css']\n})\nexport class LineChartComponent implements OnInit {\n\n  private gLib: any;\n  @Input() graphData: any;\n  @Input() graphOptions: any;\n  @Input() parentThis: any;\n\n  constructor(\n    private gChartService : GoogleChartService,\n    private messageService: MessageService\n  ) {\n    this.gLib = this.gChartService.getGoogle();\n    this.gLib.charts.load('current', {'packages':['corechart','table']});\n    this.gLib.charts.setOnLoadCallback(this.drawChart.bind(this));\n  }\n\n  ngOnInit() {\n    // this.log(`Google Chart Line Chart Init ${JSON.stringify(this.graphData)}`);\n  }\n\n  private drawChart(){\n    // this.log(`Google Chart Line Chart Draw ${this.graphData.length}`);\n    let chart = new this.gLib.visualization.LineChart(document.getElementById('divLineChart'));\n    let data = new this.gLib.visualization.arrayToDataTable(this.graphData);\n    let parentThis = this.parentThis;\n\n    let options = {'title':'Line Chart'};\n\n    // The select handler. Call the chart's getSelection() method\n    function selectHandler() {\n      var list = chart.getSelection();\n      if (!list || list.length == 0 ) {\n         console.log(`Chart Line: chartGetSelection is undefined`, list || list.length)\n      } else {\n        var selectedItem = list[0];\n        parentThis.log(`Chart Line: The user selected ${JSON.stringify(selectedItem)}`)\n        if (parentThis == undefined) console.log(`Chart Line: The user clicked and this is undefined`)\n        else if (selectedItem) {\n          var row = selectedItem.row;\n          var col = selectedItem.column;\n          if (row != null && row >= 0) {\n            var label = data.getValue(row, 0);\n            parentThis.chartSelectRow(row, col, label);\n          }\n        }\n      }\n    }\n\n    // Listen for the 'select' event, and call my function selectHandler() when\n    // the user selects something on the chart.\n    this.gLib.visualization.events.addListener(chart, 'select', selectHandler);\n\n    chart.draw(data, this.graphOptions || options);\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('Line Chart: ' + message);\n  }\n}\n","export default \"#divPieChart{\\n    width: 100%;\\n    height: 300px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9nb29nbGUtY2hhcnQvcGllLWNoYXJ0L3BpZS1jaGFydC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztJQUNYLGFBQWE7QUFDakIiLCJmaWxlIjoiYXBwL2dvb2dsZS1jaGFydC9waWUtY2hhcnQvcGllLWNoYXJ0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjZGl2UGllQ2hhcnR7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAzMDBweDtcbn0iXX0= */\"","import { Component, Input, OnInit } from '@angular/core';\n\nimport { GoogleChartService } from '../service/google-chart.service';\n\n@Component({\n  selector: 'app-pie-chart',\n  templateUrl: './pie-chart.component.html',\n  styleUrls: ['./pie-chart.component.css']\n})\nexport class PieChartComponent implements OnInit {\n\n  private gLib: any;\n  @Input() graphData: any;\n  @Input() graphLegend: any;\n  @Input() graphOptions: any;\n  @Input() parentThis: any;\n\n  constructor(\n    private gChartService : GoogleChartService\n  ) {\n    this.gLib = this.gChartService.getGoogle();\n    this.gLib.charts.load('current', {'packages':['corechart','table']});\n    this.gLib.charts.setOnLoadCallback(this.drawChart.bind(this));\n  }\n\n  ngOnInit() {\n    // this.log(`Google Chart Pie Chart Init ${JSON.stringify(this.graphData)}`);\n  }\n\n  private drawChart(){\n    // this.log(`Google Chart Pie Chart Draw ${this.graphData.length}`);\n    let chart = new this.gLib.visualization.PieChart(document.getElementById('divPieChart'));\n    let data = new this.gLib.visualization.DataTable();\n    let parentThis = this.parentThis;\n    for (var i = 0; i < this.graphLegend.length; i++) {\n      data.addColumn(this.graphLegend[i][0], this.graphLegend[i][1]);\n    }\n    // data.addColumn('string', 'Accessories');\n    // data.addColumn('number', 'Quantity');\n    data.addRows(this.graphData);\n\n    let options = {\n      'title':'Pie Chart Title',\n      'sliceVisibilityThreshold': .0\n    };\n\n    // The select handler. Call the chart's getSelection() method\n    function selectHandler() {\n      var selectedItem = chart.getSelection()[0];\n      if (parentThis) console.log(`The user clicked and this is defined`);\n      else if (parentThis == undefined) console.log(`The user clicked and this is undefined`)\n      if (selectedItem) {\n        var label = data.getValue(selectedItem.row, 0);\n        var value = data.getValue(selectedItem.row, 1);\n        parentThis.log(`The user selected Row ${selectedItem.row} ${label} ${value}`)\n      }\n    }\n\n    // Listen for the 'select' event, and call my function selectHandler() when\n    // the user selects something on the chart.\n    this.gLib.visualization.events.addListener(chart, 'select', selectHandler);\n    chart.draw(data, this.graphOptions || options);\n  }\n}\n","export default \"#divScatterChart{\\n    width: 100%;\\n    height: 600px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9nb29nbGUtY2hhcnQvc2NhdHRlci1jaGFydC9zY2F0dGVyLWNoYXJ0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxXQUFXO0lBQ1gsYUFBYTtBQUNqQiIsImZpbGUiOiJhcHAvZ29vZ2xlLWNoYXJ0L3NjYXR0ZXItY2hhcnQvc2NhdHRlci1jaGFydC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2RpdlNjYXR0ZXJDaGFydHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDYwMHB4O1xufVxuIl19 */\"","import { Component, Input, OnInit } from '@angular/core';\nimport { MessageService } from '../../_services/message.service';\n\nimport { GoogleChartService } from '../service/google-chart.service';\n\n@Component({\n  selector: 'app-scatter-chart',\n  templateUrl: './scatter-chart.component.html',\n  styleUrls: ['./scatter-chart.component.css']\n})\nexport class ScatterChartComponent implements OnInit {\n\n  private gLib: any;\n  @Input() graphData: any;\n  @Input() graphOptions: any;\n\n  constructor(\n    private gChartService : GoogleChartService,\n    private messageService: MessageService\n  ) {\n    this.gLib = this.gChartService.getGoogle();\n    this.gLib.charts.load('current', {'packages':['corechart','table']});\n    this.gLib.charts.setOnLoadCallback(this.drawChart.bind(this));\n  }\n\n  ngOnInit() {\n    // this.log(`Google Chart Scatter Chart Init ${JSON.stringify(this.graphData)}`);\n  }\n\n  private drawChart(){\n    // this.log(`Google Chart Scatter Chart Draw ${this.graphData.length}`);\n    let chart = new this.gLib.visualization.ScatterChart(document.getElementById('divScatterChart'));\n    let data = new this.gLib.visualization.arrayToDataTable(this.graphData);\n\n    let options = {'title':'Scatter Chart'};\n\n    chart.draw(data, this.graphOptions || options);\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('Scatter Chart: ' + message);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ServiceModule } from './service.module';\n\ndeclare var google: any;\n\n@Injectable({\n  providedIn: ServiceModule\n})\nexport class GoogleChartService {\n  private google : any;\n  constructor() { \n    this.google = google;\n  }\n\n  getGoogle(){\n    return this.google;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule\n  ]\n})\nexport class ServiceModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAvZ29vZ2xlLWNoYXJ0L3RhYmxlLWNoYXJ0L3RhYmxlLWNoYXJ0LmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { GoogleChartService } from '../service/google-chart.service';\n\n@Component({\n  selector: 'app-table-chart',\n  templateUrl: './table-chart.component.html',\n  styleUrls: ['./table-chart.component.css']\n})\nexport class TableChartComponent implements OnInit {\n\n  private gLib: any;\n\n  constructor(private gChartService : GoogleChartService) { \n    this.gLib = this.gChartService.getGoogle();\n    this.gLib.charts.load('current', {'packages':['corechart','table']});\n    this.gLib.charts.setOnLoadCallback(this.drawChart.bind(this));\n  }\n  ngOnInit() {\n\n  }\n\n  private drawChart(){\n    let chart = new this.gLib.visualization.Table(document.getElementById('divTableChart'));\n    let data = new this.gLib.visualization.DataTable();\n\n    data.addColumn('string', 'Year');\n    data.addColumn('number', 'Sales');\n    data.addColumn('number', 'Expenses');\n\n    data.addRows([\n      ['2004', 1000, 400],\n      ['2005', 1170, 460],\n      ['2006', 660, 1120],\n      ['2007', 1030, 540]\n    ]);\n\n    let options = {'title':'Sales Tabular Data',\n                       'width': '100%',\n                       'height': '100%'};\n    chart.draw(data, options);\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n\nimport { FormsModule }   from '@angular/forms';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { VisboCenterService } from '../_services/visbocenter.service';\nimport { Login } from '../_models/login';\n\nimport { VGPermission, VGPSystem, VGPVC, VGPVP } from '../_models/visbogroup';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html'\n})\nexport class LoginComponent implements OnInit {\n  model: any = {};\n  restVersionString: string = undefined;\n  loading = false;\n  returnUrl: string;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private messageService: MessageService,\n    private authenticationService: AuthenticationService,\n    private visbocenterService: VisboCenterService,\n    private alertService: AlertService\n  ) { }\n\n  ngOnInit() {\n    // reset login status\n    this.authenticationService.logout();\n    // this.restVersion();\n\n    if (this.route.snapshot.queryParams.email) this.model.username = this.route.snapshot.queryParams.email\n    // get return url from route parameters or default to '/'\n    this.returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/';\n    console.log(`return url ${this.returnUrl}`)\n    if (this.returnUrl.indexOf('/login') >= 0) this.returnUrl = '/' // do not return to login\n  }\n\n  restVersion() {\n    if (this.restVersionString) return;\n    this.authenticationService.restVersion()\n      .subscribe(\n        data => {\n          this.restVersionString = data.version;\n          this.log(`Version Status check success ${this.restVersionString}`);\n        },\n        error => {\n          this.log(`Version Status check Failed: ${error.status} ${error.error.message} `);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  login() {\n    this.loading = true;\n    this.authenticationService.login(this.model.username, this.model.password)\n      .subscribe(\n        user => {\n          // this.log(`Login Success Result ${JSON.stringify(user)}`);\n          if (user.status && user.status.expiresAt) {\n            var expiration = new Date(user.status.expiresAt)\n            this.log(`Login Success BUT EXPIRATION at: ${expiration.toLocaleString()}`);\n            this.alertService.error(`Your password expires at ${expiration.toLocaleString()}. Please change your password before`, true);\n          }\n          this.visbocenterService.getSysVisboCenter()\n            .subscribe(\n              vc => {\n                this.log(`Login Success ${this.returnUrl} Role ${JSON.stringify(this.visbocenterService.getSysAdminRole())} `);\n                this.router.navigate([this.returnUrl]);\n              },\n              error => {\n                this.log(`No SysVC found: `);\n                this.router.navigate([this.returnUrl]);\n              }\n            )\n        },\n        error => {\n          this.log(`Login Failed: ${error.status} ${error.error.message} `);\n          this.alertService.error(error.error.message);\n          this.loading = false;\n        }\n      );\n  }\n\n  pwforgotten() {\n    var email = (this.model.username || '').trim();\n    this.log(`Forward to password forgotten ${email} `);\n    // MS TODO: Check if user name is an e-Mail Address\n    this.router.navigate(['pwforgotten'], { queryParams: { email: email }});\n  }\n\n  register() {\n    this.log(`Forward to Register `);\n    this.router.navigate(['register']);\n  }\n\n  relogin() {\n    // called after server respons with 401 \"not authenticated\"\n    this.authenticationService.logout();\n\n    // get return url from route parameters or default to '/'\n    this.log(`reLogin after error 401 to URL ${this.route.snapshot.queryParams[\"returnUrl\"]}`);\n    this.returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/';\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('Login: ' + message);\n  }\n}\n","export default \"/* private CSS styles */\\nh2 {\\n  color: red;\\n  font-family: Arial, Helvetica, sans-serif;\\n  font-weight: lighter;\\n}\\nbody {\\n  margin: 2em;\\n}\\nbody, input[text], button {\\n  color: crimson;\\n  font-family: Cambria, Georgia;\\n}\\nbutton.clear {\\n  font-family: Arial;\\n  background-color: #eee;\\n  border: none;\\n  padding: 5px 10px;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  cursor: hand;\\n}\\nbutton:hover {\\n  background-color: #cfd8dc;\\n}\\nbutton:disabled {\\n  background-color: #eee;\\n  color: #aaa;\\n  cursor: auto;\\n}\\nbutton.clear {\\n  color: #888;\\n  margin-bottom: 12px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9sb2dvdXR0aW1lci9sb2dvdXR0aW1lci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHVCQUF1QjtBQUN2QjtFQUNFLFVBQVU7RUFDVix5Q0FBeUM7RUFDekMsb0JBQW9CO0FBQ3RCO0FBQ0E7RUFDRSxXQUFXO0FBQ2I7QUFDQTtFQUNFLGNBQWM7RUFDZCw2QkFBNkI7QUFDL0I7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixzQkFBc0I7RUFDdEIsWUFBWTtFQUNaLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLFlBQVk7QUFDZDtBQUNBO0VBQ0UseUJBQXlCO0FBQzNCO0FBQ0E7RUFDRSxzQkFBc0I7RUFDdEIsV0FBVztFQUNYLFlBQVk7QUFDZDtBQUNBO0VBQ0UsV0FBVztFQUNYLG1CQUFtQjtBQUNyQiIsImZpbGUiOiJhcHAvbG9nb3V0dGltZXIvbG9nb3V0dGltZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIHByaXZhdGUgQ1NTIHN0eWxlcyAqL1xuaDIge1xuICBjb2xvcjogcmVkO1xuICBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcbiAgZm9udC13ZWlnaHQ6IGxpZ2h0ZXI7XG59XG5ib2R5IHtcbiAgbWFyZ2luOiAyZW07XG59XG5ib2R5LCBpbnB1dFt0ZXh0XSwgYnV0dG9uIHtcbiAgY29sb3I6IGNyaW1zb247XG4gIGZvbnQtZmFtaWx5OiBDYW1icmlhLCBHZW9yZ2lhO1xufVxuXG5idXR0b24uY2xlYXIge1xuICBmb250LWZhbWlseTogQXJpYWw7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XG4gIGJvcmRlcjogbm9uZTtcbiAgcGFkZGluZzogNXB4IDEwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBjdXJzb3I6IGhhbmQ7XG59XG5idXR0b246aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2ZkOGRjO1xufVxuYnV0dG9uOmRpc2FibGVkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcbiAgY29sb3I6ICNhYWE7XG4gIGN1cnNvcjogYXV0bztcbn1cbmJ1dHRvbi5jbGVhciB7XG4gIGNvbG9yOiAjODg4O1xuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xufVxuIl19 */\"","import { Component, OnInit, EventEmitter } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { interval } from 'rxjs';\n\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { AlertService } from '../_services/alert.service';\nimport { MessageService } from '../_services/message.service';\n\n@Component({\n  selector: 'app-logouttimer',\n  templateUrl: './logouttimer.component.html',\n  styleUrls: ['./logouttimer.component.css']\n})\nexport class LogoutTimerComponent implements OnInit {\n\n  logoutTimer: boolean = true;\n  logoutTime: Date = new Date();\n  timerID: number;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private alertService: AlertService,\n    public authenticationService: AuthenticationService,\n    private messageService: MessageService\n  ) { }\n\n  ngOnInit() {\n    // Get Logout Time from authentication Service\n    this.logoutTime = new Date();\n    this.logoutTime.setSeconds(this.logoutTime.getSeconds()+100)\n    this.log(`Logout Time Init ${this.logoutTime.toISOString()} `)\n    this.checkLogout();\n  }\n\n  checkLogout(){\n    //emit value in sequence every 10 second\n    const source = interval(10000);\n    const subscribe = source.subscribe(\n        val => {\n          var current = new Date();\n          var logoutTime: Date;\n          logoutTime = this.authenticationService.logoutCheck()\n          if (!logoutTime) logoutTime = current\n          var diff = Math.round((logoutTime.getTime() - current.getTime())/1000)\n          // this.log(`Check Logout Time ${logoutTime.toISOString()} diff ${diff}`)\n          if (diff > 0 && diff <= 120) {\n            this.alertService.error(`AutoLogout: Session expires in ${diff} Seconds`, true);\n          }\n          if (diff < 0) {\n            this.log(`Logout Time passed`);\n            this.alertService.error(\"AutoLogout: Session expired, please log in again\", true);\n            this.router.navigate(['login'], { queryParams: { returnUrl: this.router.url }});\n          }\n        }\n      );\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    // console.log('logoutTimer: ' + message)\n    this.messageService.add('logoutTimer: ' + message);\n  }\n}\n","export default \"/* MessagesComponent's private CSS styles */\\nh2 {\\n  color: red;\\n  font-family: Arial, Helvetica, sans-serif;\\n  font-weight: lighter;\\n}\\nbody {\\n  margin: 2em;\\n}\\nbody, input[text], button {\\n  color: crimson;\\n  font-family: Cambria, Georgia;\\n}\\nbutton.clear {\\n  font-family: Arial;\\n  background-color: #eee;\\n  border: none;\\n  padding: 5px 10px;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  cursor: hand;\\n}\\nbutton:hover {\\n  background-color: #cfd8dc;\\n}\\nbutton:disabled {\\n  background-color: #eee;\\n  color: #aaa;\\n  cursor: auto;\\n}\\nbutton.clear {\\n  color: #888;\\n  margin-bottom: 12px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tZXNzYWdlcy9tZXNzYWdlcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDJDQUEyQztBQUMzQztFQUNFLFVBQVU7RUFDVix5Q0FBeUM7RUFDekMsb0JBQW9CO0FBQ3RCO0FBQ0E7RUFDRSxXQUFXO0FBQ2I7QUFDQTtFQUNFLGNBQWM7RUFDZCw2QkFBNkI7QUFDL0I7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixzQkFBc0I7RUFDdEIsWUFBWTtFQUNaLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLFlBQVk7QUFDZDtBQUNBO0VBQ0UseUJBQXlCO0FBQzNCO0FBQ0E7RUFDRSxzQkFBc0I7RUFDdEIsV0FBVztFQUNYLFlBQVk7QUFDZDtBQUNBO0VBQ0UsV0FBVztFQUNYLG1CQUFtQjtBQUNyQiIsImZpbGUiOiJhcHAvbWVzc2FnZXMvbWVzc2FnZXMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIE1lc3NhZ2VzQ29tcG9uZW50J3MgcHJpdmF0ZSBDU1Mgc3R5bGVzICovXG5oMiB7XG4gIGNvbG9yOiByZWQ7XG4gIGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xuICBmb250LXdlaWdodDogbGlnaHRlcjtcbn1cbmJvZHkge1xuICBtYXJnaW46IDJlbTtcbn1cbmJvZHksIGlucHV0W3RleHRdLCBidXR0b24ge1xuICBjb2xvcjogY3JpbXNvbjtcbiAgZm9udC1mYW1pbHk6IENhbWJyaWEsIEdlb3JnaWE7XG59XG5cbmJ1dHRvbi5jbGVhciB7XG4gIGZvbnQtZmFtaWx5OiBBcmlhbDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcbiAgYm9yZGVyOiBub25lO1xuICBwYWRkaW5nOiA1cHggMTBweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGN1cnNvcjogaGFuZDtcbn1cbmJ1dHRvbjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNjZmQ4ZGM7XG59XG5idXR0b246ZGlzYWJsZWQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xuICBjb2xvcjogI2FhYTtcbiAgY3Vyc29yOiBhdXRvO1xufVxuYnV0dG9uLmNsZWFyIHtcbiAgY29sb3I6ICM4ODg7XG4gIG1hcmdpbi1ib3R0b206IDEycHg7XG59XG4iXX0= */\"","import { Component, OnInit, EventEmitter } from '@angular/core';\nimport { MessageService } from '../_services/message.service';\n\n@Component({\n  selector: 'app-messages',\n  templateUrl: './messages.component.html',\n  styleUrls: ['./messages.component.css']\n})\nexport class MessagesComponent implements OnInit {\n\n  activateMessage: boolean;\n\n  constructor(public messageService: MessageService) {}\n\n  ngOnInit() {\n    this.activateMessage = this.messageService.getstatus();\n    this.messageService.activateMessageToggle.subscribe(\n      (status) => {\n        this.activateMessage = this.messageService.getstatus();\n      }\n    );\n  }\n\n}\n","export default \".navbar {\\n  padding: 0px;\\n  margin-bottom: 1em;\\n  margin-top: 1em;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9uYXZiYXIvbmF2YmFyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGVBQWU7QUFDakIiLCJmaWxlIjoiYXBwL25hdmJhci9uYXZiYXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5uYXZiYXIge1xuICBwYWRkaW5nOiAwcHg7XG4gIG1hcmdpbi1ib3R0b206IDFlbTtcbiAgbWFyZ2luLXRvcDogMWVtO1xufVxuIl19 */\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { VisboCenterService } from '../_services/visbocenter.service';\nimport { AlertService } from '../_services/alert.service';\nimport { MessageService } from '../_services/message.service';\n\nimport { VGPermission, VGPSystem, VGPVC, VGPVP } from '../_models/visbogroup';\n\n@Component({\n  selector: 'visbo-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.css']\n})\nexport class NavbarComponent implements OnInit {\n  combinedPerm: VGPermission = undefined;\n  permSystem: any = VGPSystem;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private alertService: AlertService,\n    private messageService: MessageService,\n    public authenticationService: AuthenticationService,\n    public visbocenterService: VisboCenterService\n  ) { }\n\n  ngOnInit() {\n    // get return url from route parameters or default to '/'\n    // this.returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/';\n    this.combinedPerm = this.visbocenterService.getSysAdminRole();\n    this.log(`Navbar Init Sys Role ${JSON.stringify(this.combinedPerm)} View ${this.permSystem.View}`)\n  }\n\n  gotoClickedItem(action: string):void {\n    // console.log(\"clicked nav item %s\", action);\n    this.router.navigate([action]);\n  }\n\n  hasSystemPerm(perm: number): boolean {\n    return (this.combinedPerm.system & perm) > 0\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('NavBar: ' + message);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAvcHdmb3Jnb3R0ZW4vcHdmb3Jnb3R0ZW4uY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { Login } from '../_models/login';\n\n@Component({\n  selector: 'app-pwforgotten',\n  templateUrl: './pwforgotten.component.html',\n  styleUrls: ['./pwforgotten.component.css']\n})\nexport class PwforgottenComponent implements OnInit {\n  model: any = {};\n  loading = false;\n\n  constructor(\n    private messageService: MessageService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private authenticationService: AuthenticationService,\n    private alertService: AlertService) { }\n\n  ngOnInit() {\n    if (this.route.snapshot.queryParams.email)\n      this.model.username = this.route.snapshot.queryParams.email\n    this.log(`Password Forgotten for User ${this.model.username}`)\n  }\n\n  pwforgotten() {\n    this.loading = true;\n    this.authenticationService.pwforgotten(this.model)\n      .subscribe(\n        data => {\n          this.alertService.success('Password Forgotten Request successful. Please check your Mail to continue.', true);\n          this.router.navigate(['login']);\n        },\n        error => {\n          this.log(`Error during Password Forgotten ${error.error.message}`)\n          this.alertService.error(error.error.message);\n          this.loading = false;\n        }\n      );\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('PW Forgotten: ' + message);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAvcHdyZXNldC9wd3Jlc2V0LmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Event, Router, RoutesRecognized } from '@angular/router';\nimport { ActivatedRoute } from '@angular/router';\nimport { ErrorObservable } from 'rxjs/observable/ErrorObservable';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { Login } from '../_models/login';\n\nimport { environment } from '../../environments/environment';\n\n@Component({\n  selector: 'app-pwreset',\n  templateUrl: './pwreset.component.html',\n  styleUrls: ['./pwreset.component.css']\n})\nexport class PwresetComponent implements OnInit {\n  model: any = {};\n\n  loading = false;\n  token = '';\n  PWPolicy: string;\n  PWPolicyDescription: string;\n\n  constructor(\n    private messageService: MessageService,\n    private router: Router,\n    private route: ActivatedRoute,\n    private authenticationService: AuthenticationService,\n    private alertService: AlertService) { }\n\n  ngOnInit(){\n    this.getPWPolicy();\n    this.token = this.route.snapshot.queryParams.token\n    this.log(`Init PW Reset Token ${this.token}`);\n  }\n\n  pwreset() {\n    this.loading = true;\n    this.model.token = this.token;\n\n    this.authenticationService.pwreset(this.model)\n      .subscribe(\n        data => {\n          this.alertService.success('Reset Password Request successful.', true);\n          this.router.navigate(['login']);\n        },\n        error => {\n          this.loading = false;\n          this.log(`Error during Reset Password ${error.error.message}`)\n          this.alertService.error(`Password Reset: ${error.error.message}`);\n        }\n      );\n  }\n\n  getPWPolicy() {\n    this.authenticationService.initPWPolicy()\n      .subscribe(\n        data => {\n          this.log(`Init PW Policy success ${JSON.stringify(data)}`);\n          this.PWPolicy = data.PWPolicy\n          this.PWPolicyDescription = data.Description\n\n        },\n        error => {\n          this.log(`Init PW Policy Failed: ${error.status} ${error.error.message} `);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('PW Reset: ' + message);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAvcmVnaXN0ZXIvcmVnaXN0ZXIuY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { Login } from '../_models/login';\n\nimport { environment } from '../../environments/environment';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})\n\nexport class RegisterComponent {\n  model: any = {};\n  PWPolicy: string;\n  PWPolicyDescription: string;\n  userRegister = undefined;\n  hash = undefined;\n  loading = false;\n\n  constructor(\n    private messageService: MessageService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private authenticationService: AuthenticationService,\n    private alertService: AlertService) { }\n\n  ngOnInit() {\n    this.getPWPolicy();\n    const id = this.route.snapshot.paramMap.get('id');\n    this.hash = this.route.snapshot.queryParams.hash\n    if (id) {\n      this.log(`Register for User ${id} hash ${this.hash}`)\n      this.userRegister = id;\n    } else {\n      this.userRegister = undefined;\n    }\n    this.model = {};\n  }\n\n  register() {\n    this.loading = true;\n    this.log(`Call register Service`)\n    if (this.userRegister) {\n      this.model._id = this.userRegister;\n    }\n    this.authenticationService.createUser(this.model, this.hash)\n      .subscribe(\n        data => {\n          if (this.hash) {\n            this.alertService.success(`Congratulation, your e-mail address ${data.email} is now confirmed. Please login.`, true);\n          } else {\n            this.alertService.success(`Congratulation, you registered successfully your e-mail address ${data.email}. Please check your e-Mail for confirmation.`, true);\n          }\n          this.router.navigate(['login']);\n        },\n        error => {\n          this.log(`Error during Create User ${error.error.message}`)\n          this.alertService.error(error.error.message);\n          this.loading = false;\n        }\n      );\n  }\n\n  getPWPolicy() {\n    this.authenticationService.initPWPolicy()\n      .subscribe(\n        data => {\n          this.log(`Init PW Policy success ${JSON.stringify(data)}`);\n          this.PWPolicy = data.PWPolicy\n          this.PWPolicyDescription = data.Description\n\n        },\n        error => {\n          this.log(`Init PW Policy Failed: ${error.status} ${error.error.message} `);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('Register: ' + message);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAvcmVnaXN0ZXJjb25maXJtL3JlZ2lzdGVyY29uZmlybS5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { Event, Router, RoutesRecognized } from '@angular/router';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { Login } from '../_models/login';\n\n@Component({\n  selector: 'app-registerconfirm',\n  templateUrl: './registerconfirm.component.html',\n  styleUrls: ['./registerconfirm.component.css']\n})\nexport class RegisterconfirmComponent implements OnInit {\n  model: any = {};\n\n  constructor(\n    private messageService: MessageService,\n    private router: Router,\n    private route: ActivatedRoute,\n    private authenticationService: AuthenticationService,\n    private alertService: AlertService) { }\n\n  ngOnInit(){\n    this.model.hash = this.route.snapshot.queryParams.hash\n    this.model._id = this.route.snapshot.queryParams.id\n    this.log(`Init Register Confirm userid ${this.model._id} Token ${this.model.hash}`);\n\n    this.authenticationService.registerconfirm(this.model)\n      .subscribe(\n        data => {\n          this.log(`Register Confirm Success ${JSON.stringify(data)}`)\n          this.alertService.success(`Congratulation, your e-mail address is now confirmed. Please login.`, true);\n          this.router.navigate(['login']);\n        },\n        error => {\n          this.log(`Error during Register Confirm ${error.error.message}`)\n          this.alertService.error(error.error.message);\n          this.router.navigate(['login']);\n        }\n      );\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('Register Confirm: ' + message);\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { Location } from '@angular/common';\n//import { ActivatedRoute } from '@angular/router';\nimport { ActivatedRoute, Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\n\nimport { AlertService } from '../_services/alert.service';\nimport { MessageService } from '../_services/message.service';\nimport { VisboCenterService } from '../_services/visbocenter.service';\n\nimport { VGPermission, VGPSystem, VGPVC, VGPVP } from '../_models/visbogroup';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.component.html'\n})\nexport class SettingsComponent implements OnInit {\n\n  activateMessage: boolean;\n  combinedPerm: VGPermission = undefined;\n\n  constructor(\n    private visbocenterService: VisboCenterService,\n    private router: Router,\n    private messageService: MessageService,\n    private alertService: AlertService\n  ) { }\n\n  ngOnInit() {\n    this.activateMessage = this.messageService.getstatus();\n    this.combinedPerm = this.visbocenterService.getSysAdminRole();\n    console.log('Sys Admin Role: ', JSON.stringify(this.combinedPerm))\n  }\n\n  toggleMessages():void {\n    console.log('Toggle Messages')\n    this.activateMessage = this.messageService.toggle();\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAvc3lzYXVkaXQvc3lzYXVkaXQuY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { ErrorObservable } from 'rxjs/observable/ErrorObservable';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { VisboAudit, VisboAuditActionType, QueryAuditType } from '../_models/visboaudit';\nimport { VisboCenterService } from '../_services/visbocenter.service';\nimport { VisboAuditService } from '../_services/visboaudit.service';\nimport { LoginComponent } from '../login/login.component';\n\nimport * as moment from 'moment';\n\nvar encodeCSV = function(source: string): string {\n  var result: string;\n  if (!source) return source;\n  result = source.replace(/\\t/g, \" \");\n  if (result[0] == '='  || result[0] == '+'  || result[0] == '-' ) {\n      result = \"'\".concat(result)\n  }\n  return result;\n}\n\n@Component({\n  selector: 'app-sysaudit',\n  templateUrl: './sysaudit.component.html',\n  styleUrls: ['./sysaudit.component.css']\n})\nexport class SysauditComponent implements OnInit {\n\n    audit: VisboAudit[];\n    auditIndex: number;\n    auditFrom: Date;\n    auditTo: Date;\n    auditCount: number;\n    auditText: string;\n    showMore: boolean;\n    sortAscending: boolean;\n    sortColumn: number;\n    today: Date;\n    auditType: string;\n    auditTypeAction: string;\n    auditTypeList: any[] = [\n      {name: \"All\", action: \"\"},\n      {name: \"Read\", action: \"GET\"},\n      {name: \"Create\", action: \"POST\"},\n      {name: \"Update\", action: \"PUT\"},\n      {name: \"Delete\", action: \"DELETE\"}\n    ];\n    auditArea: string;\n    auditAreaAction: string;\n    auditAreaList: any[] = [\n      {name: \"Overview\", action: \"other\"},\n      {name: \"System\", action: \"sys\"},\n      {name: \"Visbo Center\", action: \"vc\"},\n      {name: \"Visbo Project\", action: \"vp\"},\n      {name: \"All\", action: \"\"}\n    ];\n    sysVCId: string = '';\n    chart: boolean = false;\n    parentThis: any;\n    chartButton: string = \"Chart\";\n    graphData: any[] = [];\n    graphLegend: any = \"Graph Legend not set\"\n    graphOptions: any = {\n      'title':'Audit Activity by Action',\n      'sliceVisibilityThreshold': .025\n    };\n    graphDataLineChart: any = \"Graph Time Data not set\";\n    graphOptionsLineChart: any = {\n      'title':'Audit Activity by Time',\n      // 'width': '1200',\n      'explorer': {'actions': ['dragToZoom', 'rightClickToReset'], 'maxZoomIn': .01},\n      'vAxis': {\n        'title': 'Number of Activities',\n        'minorGridlines': {'count': 0}\n      },\n      'hAxis': {\n        'format': 'dd.MM.yy',\n        'gridlines': {\n          'count': -1,\n          // 'units': {\n          //   'days': {'format': ['dd.MM.yy']},\n          //   'hours': {'format': ['HH:mm']}\n          // }\n        },\n        'minorGridlines': {'count': 0}\n      },\n      'pointSize': 6,\n      'curveType': 'function',\n      'colors': ['blue', 'red', 'green', 'yellow']\n    }\n    graphDataColumnChart: any = \"Graph VisboCenter Data not set\";\n    graphOptionsColumnChart: any = {\n      'title':'Audit Activity by User',\n      'isStacked': true,\n      'hAxis': {'direction':-1, 'slantedText':true, 'slantedTextAngle':45 }\n    }\n\n    constructor(\n      private visboauditService: VisboAuditService,\n      private visbocenterService: VisboCenterService,\n      private authenticationService: AuthenticationService,\n      private messageService: MessageService,\n      private alertService: AlertService,\n      private route: ActivatedRoute,\n      //private location: Location,\n      private router: Router\n    ) { }\n\n    ngOnInit() {\n      // this.log(`Audit init Dates ${this.auditFrom} to ${this.auditTo}`);\n      this.auditCount = 50;\n      this.auditType = this.auditTypeList[0].name;\n      this.auditArea = this.auditAreaList[0].name;\n      this.today = new Date();\n      this.today.setHours(0, 0, 0, 0);\n      this.sysVCId = this.visbocenterService.getSysVCId();\n      this.getVisboAudits();\n    }\n\n    // onSelect(visboaudit: VisboAudit): void {\n    //   this.getVisboAudits();\n    // }\n\n    getVisboAudits(): void {\n      var queryAudit = new QueryAuditType;\n\n      this.parentThis = this;\n      // set date values if not set or adopt to end of day in case of to date\n      if (this.auditTo) {\n        queryAudit.to = new Date(this.auditTo)\n      } else {\n        queryAudit.to = new Date()\n      }\n      if (this.auditFrom) {\n        queryAudit.from = new Date(this.auditFrom)\n      }\n      if (this.auditText) queryAudit.text = this.auditText.trim();\n      for (var i = 0; i < this.auditTypeList.length; i++) {\n        if (this.auditType == this.auditTypeList[i].name) {\n          queryAudit.actionType = this.auditTypeList[i].action;\n          break;\n        }\n      }\n      for (var i = 0; i < this.auditAreaList.length; i++) {\n        if (this.auditArea == this.auditAreaList[i].name) {\n          queryAudit.area = this.auditAreaList[i].action;\n          break;\n        }\n      }\n      queryAudit.maxcount = this.auditCount;\n\n      var chartFlag = this.chart;\n      this.chart = false;\n      // this.log(`Audit getSystemAudits recalc Query ${JSON.stringify(queryAudit)}`);\n      this.visboauditService.getVisboAudits(true, queryAudit)\n        .subscribe(\n          audit => {\n            this.audit = audit;\n            this.alertService.success('Successfully accessed Audit', true);\n            this.sortTable(undefined);\n            this.groupGraphData();\n            this.groupgraphDataLineChart();\n            this.groupgraphDataColumnChart();\n            this.chart = chartFlag;\n          },\n          error => {\n            this.log(`get Audit failed: error: ${error.status} message: ${error.error.message}`);\n            this.alertService.error(error.error.message);\n          }\n        );\n    }\n\n    gotoDetail(visboaudit: VisboAudit):void {\n      // this.log(`navigate to Audit Detail ${visboaudit._id}`);\n      this.router.navigate(['sysaudit/'+visboaudit._id]);\n    }\n\n    downloadVisboAudit():void {\n      this.log(`sysAudit Download ${this.audit.length} Items`);\n      var data: string;\n      var separator = \"\\t\"\n      var lineItem: string\n      var userAgent: string\n      data = 'sep=' + separator + '\\n'  // to force excel to use the separator\n      data = data + 'date' + separator\n            + 'time UTC' + separator\n            + 'email' + separator\n            + 'actionDescription' + separator\n            + 'action' + separator\n            + 'url' + separator\n            + 'actionInfo' + separator\n            + 'responseTime' + separator\n            + 'responseStatus' + separator\n            + 'vcid' + separator\n            + 'vcname' + separator\n            + 'vpid' + separator\n            + 'vpname' + separator\n            + 'vpvid' + separator\n            + 'size' + separator\n            + 'ip' + separator\n            + 'userId' + separator\n            + 'userAgent' + separator\n            + 'ttl' + separator\n            + 'VC Details' + separator\n            + 'VP Details' + '\\n';\n      var createdAt;\n      for (var i = 0; i < this.audit.length; i++) {\n        createdAt = new Date(this.audit[i].createdAt).toISOString();\n        userAgent = (this.audit[i].userAgent|| '').replace(/,/g, \";\");\n        lineItem = createdAt.substr(0, 10) + separator\n                    + createdAt.substr(11, 12) + separator\n                    + encodeCSV(this.audit[i].user.email ) + separator\n                    + encodeCSV(this.audit[i].actionDescription) + separator\n                    + this.audit[i].action + separator\n                    + this.audit[i].url + separator\n                    + this.audit[i].actionInfo + separator\n                    + (this.audit[i].result ? this.audit[i].result.time : '') + separator\n                    + (this.audit[i].result ? this.audit[i].result.status : '') + separator\n                    + (this.audit[i].vc ? this.audit[i].vc.vcid : '') + separator\n                    + (this.audit[i].vc ? encodeCSV(this.audit[i].vc.name) : '') + separator\n                    + (this.audit[i].vp ? this.audit[i].vp.vpid : '') + separator\n                    + (this.audit[i].vp ? encodeCSV(this.audit[i].vp.name) : '') + separator\n                    + (this.audit[i].vpv ? this.audit[i].vpv.vpvid : '') + separator\n                    + (this.audit[i].result ? this.audit[i].result.size : '0') + separator\n                    + this.audit[i].ip + separator\n                    + this.audit[i].user.userId + separator\n                    + encodeCSV(userAgent) + separator\n                    + (this.audit[i].ttl || '') + separator\n                    + (this.audit[i].vc ? (encodeCSV(this.audit[i].vc.vcjson) || '') : '') + separator\n                    + (this.audit[i].vp ? (encodeCSV(this.audit[i].vp.vpjson) || '') : '') + '\\n';\n        data = data.concat(lineItem)\n      }\n      this.log(`sysAudit CSV Len ${data.length} `);\n      var blob = new Blob([data], { type: 'text/plain' });\n      var url= window.URL.createObjectURL(blob);\n      var fileName = 'auditlog.csv'\n      var a = document.createElement(\"a\");\n      document.body.appendChild(a);\n      a.href = url;\n      a.download = fileName;\n      this.log(`Open URL ${url} doc ${JSON.stringify(a)}`);\n      a.click();\n      window.URL.revokeObjectURL(url);\n    }\n\n    switchChart() {\n      this.chart = !this.chart\n      this.chartButton = this.chart ? \"List\" : \"Chart\";\n      // this.log(`Switch Chart to ${this.chart} Graph ${JSON.stringify(this.graphData)}`);\n    }\n\n    groupGraphData() {\n      this.graphLegend = [[\"string\", \"Action Type\"],\n                          [\"number\", \"Count\"]\n        ];\n      var graphSum = [];\n      var graphData = [];\n      var auditElement: any;\n      for (auditElement in this.audit) {\n        // this.log(`Group Graph Chart Element ${JSON.stringify(this.audit[auditElement])}`);\n        if (this.audit[auditElement].actionDescription) {\n          graphSum[this.audit[auditElement].actionDescription] = (graphSum[this.audit[auditElement].actionDescription] || 0) + 1;\n          // this.log(`Group Graph Chart Element ${graphSum[this.audit[auditElement].action]} ${this.audit[auditElement].action}`);\n        }\n      }\n      var graphElement: any;\n      var i = 0;\n      // this.graphData = [];\n      for (graphElement in graphSum) {\n        // this.log(`Group Graph Sum Chart Element ${graphElement}: ${JSON.stringify(graphSum[graphElement])}`);\n        graphData.push([graphElement, graphSum[graphElement]])\n      }\n      graphData.sort(function(a, b) {\n        var result = 0\n        if (a[1] > b[1])\n          result = -1;\n        else if (a[1] < b[1])\n          result = 1;\n        return result\n      })\n      this.graphData = graphData;\n      // this.log(`Group Graph Sum Chart Updated`);\n    }\n\n    formatDate(iDate: Date): string {\n      var iDateString = '';\n      iDateString = moment(iDate).format('YYYY-MM-DD')\n      // this.log(`Date Conversion ${iDate}: ${iDateString}`);\n      return iDateString;\n    }\n\n    groupgraphDataLineChart() {\n      var graphSum = [];\n      var graphData = [];\n      var auditElement: any;\n      for (auditElement in this.audit) {\n        if (this.audit[auditElement].createdAt) {\n          var activityDay: Date = new Date(this.audit[auditElement].createdAt);\n          var activityIndex: number;\n          activityDay.setHours(0,0,0,0);\n          activityIndex = Math.trunc(activityDay.getTime() / 1000 / 60 / 60 / 24);\n          // // activityDay = activityDay.substr(0,10);\n          // this.log(`Group Graph Time Chart Element ${activityIndex} ${activityDay}`);\n          if (graphSum[activityIndex] == undefined) graphSum[activityIndex] = [new Date(activityDay), 0,0,0,0];\n          graphSum[activityIndex][1] = graphSum[activityIndex][1] + 1;\n          if (this.audit[auditElement].vpv) graphSum[activityIndex][4] = graphSum[activityIndex][4] + 1;\n          else if (this.audit[auditElement].vp) graphSum[activityIndex][3] = graphSum[activityIndex][3] + 1;\n          else if (this.audit[auditElement].vc && this.audit[auditElement].vc.vcid.toString() != this.sysVCId) graphSum[activityIndex][2] = graphSum[activityIndex][2] + 1;\n          // this.log(`Group Graph Time Chart Element ${activityIndex} ${JSON.stringify(graphSum[activityIndex])}`);\n        }\n      }\n      // var graphElement: any;\n      for (var graphElement in graphSum) {\n        // this.log(`Group Graph Sum Chart Element ${graphElement}: ${JSON.stringify(graphSum[graphElement])}`);\n        graphData.push(graphSum[graphElement])\n      }\n      if (graphData.length == 1) {\n        var dayBefore = new Date(graphData[0][0].toISOString());\n        dayBefore.setMinutes(dayBefore.getMinutes()-1);\n        graphData.push([dayBefore, 0,0,0,0]);\n      }\n      graphData.sort(function(a, b) { return b[0] - a[0] });\n      graphData.push([\"Date\", \"All\", \"VC\", \"VP\", \"VPV\"]);\n      graphData.reverse();\n      this.graphOptionsLineChart.hAxis.gridlines.count = graphData.length - 1;\n      this.log(`Group Graph Time Chart Gridlines ${graphData.length - 1} `);\n      this.graphDataLineChart = graphData;\n    }\n\n    groupgraphDataColumnChart() {\n      var graphSum = [];\n      var graphData = [];\n      var auditElement: any;\n      var userString: string, minDateString: string, maxDateString: string;\n      for (auditElement in this.audit) {\n        if (this.audit[auditElement].user && this.audit[auditElement].user.email) {\n          userString = this.audit[auditElement].user.email;\n          if (graphSum[userString] == undefined) graphSum[userString] = [userString, 0, 0, 0, 0, 0, ''];\n          if (this.audit[auditElement].vpv) graphSum[userString][3] = graphSum[userString][3] + 1;\n          else if (this.audit[auditElement].vp) graphSum[userString][2] = graphSum[userString][2] + 1;\n          else if (this.audit[auditElement].vc && this.audit[auditElement].vc.vcid.toString() != this.sysVCId) graphSum[userString][1] = graphSum[userString][1] + 1;\n          else if (this.audit[auditElement].vc && this.audit[auditElement].vc.vcid.toString() == this.sysVCId) graphSum[userString][4] = graphSum[userString][4] + 1;\n          else graphSum[userString][5] = graphSum[userString][5] + 1;\n\n          // this.log(`Group Graph Time Chart Element ${userString}: ${graphSum[userString]}`);\n        }\n      }\n      var graphElement: any;\n      for (graphElement in graphSum) {\n        // this.log(`Group Graph Sum Chart Element ${graphElement}: ${JSON.stringify(graphSum[graphElement])}`);\n        graphData.push(graphSum[graphElement])\n      }\n\n      graphData.sort(function(a, b) {\n        var result = 0\n        var firstSum = a[1] + a[2] + a[3] + a[4] + a[5];\n        var secondSum = b[1] + b[2] + b[3] + b[4] + b[5];\n        if (firstSum > secondSum)\n          result = -1;\n        else if (firstSum > secondSum)\n          result = 1;\n        return result\n      })\n      graphData.push(['User', 'VC', 'VP', 'VPV', 'System', 'Other', { role: 'annotation' } ]);\n      graphData.reverse();\n      this.log(`Group Graph Column Chart Element ${JSON.stringify(graphData[0])}`);\n      this.log(`Group Graph Column Chart Element ${JSON.stringify(graphData[1])}`);\n\n      this.graphDataColumnChart = graphData;\n    }\n\n    helperAuditIndex(auditIndex: number):void {\n      // this.log(`Remove User Helper: ${userIndex}`);\n      this.auditIndex = auditIndex\n    }\n\n    helperFormatActionDescription(auditentry: VisboAudit): string {\n      this.log(`AuditDescription  ${auditentry.actionDescription} `);\n      var desc: string;\n      if (auditentry.actionDescription == \"GET\"\n      || auditentry.actionDescription == \"POST\"\n      || auditentry.actionDescription == \"PUT\"\n      || auditentry.actionDescription == \"DELETE\") {\n        desc = auditentry.actionDescription.concat(' ', auditentry.url)\n        if (desc.length > 20) desc = desc.substring(0, 17) + '...';\n        return desc\n      }\n      return auditentry.actionDescription\n    }\n\n    helperFormatBytes(a, b = 2):string {\n      if(0 == a)\n        return \"0 B\";\n      var c = 1024, d = b || 2;\n      var e = [\"B\",\"KB\",\"MB\",\"GB\",\"TB\",\"PB\",\"EB\",\"ZB\",\"YB\"];\n      var f = Math.floor(Math.log(a)/Math.log(c));\n      return parseFloat((a/Math.pow(c,f)).toFixed(d))+\" \"+e[f]\n    }\n\n    pageAuditIndex(increment: number): void {\n      var newAuditIndex: number;\n      newAuditIndex = this.auditIndex + increment;\n      if (newAuditIndex < 0) newAuditIndex = 0\n      if (newAuditIndex >= this.audit.length) newAuditIndex = this.audit.length-1\n      this.auditIndex = newAuditIndex\n    }\n\n    helperResponseText(visboaudit: VisboAudit): string {\n      if (visboaudit.result.statusText) return visboaudit.result.statusText;\n      var status = visboaudit.result.status\n      if (status == \"200\") return \"Success\"\n      if (status == \"304\") return \"Success\"\n      if (status == \"400\") return \"Bad Request\"\n      if (status == \"401\") return \"Not Authenticated\"\n      if (status == \"403\") return \"Permission Denied\"\n      if (status == \"404\") return \"URL not found\"\n      if (status == \"409\") return \"Conflict\"\n      if (status == \"423\") return \"Locked\"\n      if (status == \"500\") return \"Server Error\"\n      return status.toString()\n    }\n\n    helperShortenText(text: string, len: number): string {\n      if (!text || !len || len < 5 || text.length <= len)\n        return (text);\n      return text.substring(0,20).concat('...', text.substring(text.length-7, text.length));\n    }\n\n    toggleDetail() {\n      this.log(`Toggle ShowMore`);\n      this.showMore = !this.showMore;\n    }\n\n    isToday(checkDate: string): Boolean {\n      // this.log(`Check Date ${checkDate} ${this.today.toISOString()}`);\n      return new Date(checkDate) > this.today\n    }\n\n    sortTable(n) {\n      if (!this.audit) return\n      // this.log(`Sort Table Column ${n}`)\n      // change sort order otherwise sort same column same direction\n      if (n != undefined) {\n        // sort a different column\n        if (n != this.sortColumn) {\n          this.sortColumn = n;\n          this.sortAscending = undefined;\n        } else if (this.sortAscending != undefined)\n          this.sortAscending = !this.sortAscending;\n      } else {\n        this.sortColumn = 1\n        this.sortAscending = undefined;\n      }\n      if (this.sortAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortAscending = (n == 2 || n == 3 || n == 4) ? true : false;\n        // console.log(\"Sort VC Column undefined\", this.sortColumn, this.sortAscending)\n      }\n      // console.log(\"Sort VC Column %d Asc %s\", this.sortColumn, this.sortAscending)\n      if (this.sortColumn == 1) {\n        this.audit.sort(function(a, b) {\n          var result = 0\n          // console.log(\"Sort VC Date %s\", a.updatedAt)\n          if (a.createdAt > b.createdAt)\n            result = 1;\n          else if (a.createdAt < b.createdAt)\n            result = -1;\n          return result\n        })\n      } else if (this.sortColumn == 2) {\n        this.audit.sort(function(a, b) {\n          var result = 0\n          if (a.user.email.toLowerCase() > b.user.email.toLowerCase())\n            result = 1;\n          else if (a.user.email.toLowerCase() < b.user.email.toLowerCase())\n            result = -1;\n          return result\n        })\n      } else if (this.sortColumn == 3) {\n        this.audit.sort(function(a, b) {\n          var result = 0\n          if (a.action > b.action)\n            result = 1;\n          else if (a.action < b.action)\n            result = -1;\n          return result\n        })\n      } else if (this.sortColumn == 4) {\n        this.audit.sort(function(a, b) {\n          var result = 0\n          if (a.url > b.url)\n            result = 1;\n          else if (a.url < b.url)\n            result = -1;\n          return result\n        })\n      } else if (this.sortColumn == 5) {\n        // sort Result\n        // this.audit.sort(function(a, b) { return a.result.status.toValue() - b.result.status.toValue() })\n        this.audit.sort(function(a, b) {\n          var result = 0\n          if (a.result.status > b.result.status)\n            result = 1;\n          else if (a.result.status < b.result.status)\n            result = -1;\n          return result\n        })\n      } else if (this.sortColumn == 6) {\n        this.audit.sort(function(a, b) {\n          return a.result.time - b.result.time;\n        })\n      } else if (this.sortColumn == 7) {\n        this.audit.sort(function(a, b) {\n          return (a.result.size || 0) - (b.result.size || 0);\n        })\n      }\n      // console.log(\"Sort VC Column %d %s Reverse?\", this.sortColumn, this.sortAscending)\n      if (!this.sortAscending) {\n        this.audit.reverse();\n        // console.log(\"Sort VC Column %d %s Reverse\", this.sortColumn, this.sortAscending)\n      }\n    }\n\n    /** Log a message with the MessageService */\n    private log(message: string) {\n      this.messageService.add('Sys Audit: ' + message);\n    }\n  }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAvc3lzY29uZmlnL3N5c2NvbmZpZy5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { ErrorObservable } from 'rxjs/observable/ErrorObservable';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { LoginComponent } from '../login/login.component';\nimport { VisboCenterService } from '../_services/visbocenter.service';\nimport { VisboSettingService } from '../_services/visbosetting.service';\n\nimport { VisboSetting, VisboSettingResponse } from '../_models/visbosetting';\n\nimport { VGPermission, VGPSystem } from '../_models/visbogroup';\n\n@Component({\n  selector: 'app-sysconfig',\n  templateUrl: './sysconfig.component.html',\n  styleUrls: ['./sysconfig.component.css']\n})\nexport class SysconfigComponent implements OnInit {\n\n    systemVC: number;\n    combinedPerm: VGPermission = undefined;\n    permSystem: any = VGPSystem;\n    vcsetting: VisboSetting[];\n    editIndex: number;\n    sortAscending: boolean;\n    sortColumn: number;\n\n  constructor(\n    private visbocenterService: VisboCenterService,\n    private visbosettingService: VisboSettingService,\n    private messageService: MessageService,\n    private alertService: AlertService,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.systemVC = this.visbocenterService.getSysVCId()\n    this.getVisboConfig();\n    this.combinedPerm = this.visbocenterService.getSysAdminRole()\n    // this.log(`getVisboConfig Perm ${JSON.stringify(this.combinedPerm)}`);\n  }\n\n  getVisboConfig(): void {\n    this.log(`get VisboConfig Values`);\n    this.visbosettingService.getVCSettingByType(this.systemVC, 'SysConfig', true)\n      .subscribe(\n        vcsetting => {\n          this.vcsetting = vcsetting;\n          this.sortTable(1);\n          this.log('get Settings success ' + vcsetting.length);\n        },\n        error => {\n          this.log(`get Settings failed: error: ${error.status} message: ${error.error.message}`);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  getMainInfo(entry: VisboSetting): string {\n    // this.log('get Main Value ' + entry.name);\n    var result = \"\";\n    if (entry.value) {\n      switch (entry.name) {\n        case 'UI URL':\n          result = entry.value.UIUrl;\n          break;\n        case 'SMTP':\n          result = entry.value.auth && entry.value.auth.user;\n          break;\n        case 'PW Policy':\n          result = (entry.value.Description || \"\").substring(0,60).concat(\"...\");\n          break;\n        case 'DEBUG':\n          result = JSON.stringify(entry.value).substring(0,60).concat(\"...\");\n          break;\n        case 'Log Age':\n          result = entry.value.duration;\n          break;\n        case 'REDIS':\n          result = entry.value.host;\n          break;\n      }\n    }\n    return result || \"\";\n  }\n\n  helperConfigName(config: string):number {\n    for (var i = 0; i < this.vcsetting.length; i++) {\n      if (this.vcsetting[i].name == config) {\n        return i;\n      }\n    }\n    return undefined;\n  }\n\n  editConfigName(config: string):number {\n    this.log(`Edit Config  ${config}`)\n    for (var i = 0; i < this.vcsetting.length; i++) {\n      if (this.vcsetting[i].name == config) {\n        this.editIndex = i;\n        return i;\n      }\n    }\n    return undefined;\n  }\n\n  updateConfig(setting: VisboSetting):void {\n    // if (!setting) return;\n    this.log(`Update Config  ${JSON.stringify(setting)}`)\n    this.visbosettingService.updateVCSetting(this.systemVC, setting, true)\n      .subscribe(\n        data => {\n          this.log(`set System Config success ${JSON.stringify(data)}`);\n          this.alertService.success('Successfully changed System Configuration', true);\n          this.vcsetting[this.helperConfigName(setting.name)] = data;\n        },\n        error => {\n          this.log(`set System Config failed: error: ${error.status} message: ${error.error.message}`);\n          this.alertService.error(error.error.message);\n        }\n      );\n}\n\n  hasSystemPerm(perm: number): boolean {\n    return (this.combinedPerm.system & perm) > 0\n  }\n\n  sortTable(n) {\n    if (!this.vcsetting) return\n    this.log(`Sort Table Column ${n} old ${this.sortColumn}`)\n    // change sort order otherwise sort same column same direction\n    if (n != undefined || this.sortColumn == undefined) {\n      if (n != this.sortColumn) {\n        this.sortColumn = n;\n        this.sortAscending = undefined;\n      }\n      if (this.sortAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortAscending = ( n == 1 ) ? true : false;\n        // console.log(\"Sort VC Column undefined\", this.sortColumn, this.sortAscending)\n      }\n      else this.sortAscending = !this.sortAscending;\n    }\n    // this.log(`Sort VC Column ${this.sortColumn} Asc ${this.sortAscending} `)\n    if (this.sortColumn == 1) {\n      this.vcsetting.sort(function(a, b) {\n        var result = 0\n        if (a.name > b.name)\n          result = 1;\n        else if (a.name < b.name)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 2) {\n      return 0; // No Sorting\n    } else if (this.sortColumn == 3) {\n      this.vcsetting.sort(function(a, b) {\n        var result = 0\n        if (a.updatedAt > b.updatedAt)\n          result = 1;\n        else if (a.updatedAt < b.updatedAt)\n          result = -1;\n        return result;\n      })\n    }\n\n    if (!this.sortAscending) {\n      this.log(`Sort VC Column Reverse `)\n      this.vcsetting.reverse();\n    }\n  }\n\n\n  /** Log message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('Sys Config: ' + message);\n  }\n\n\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { ErrorObservable } from 'rxjs/observable/ErrorObservable';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { SysLogService } from '../_services/syslog.service';\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { LoginComponent } from '../login/login.component';\nimport { VisboFile, VisboFilesResponse, VisboDownloadResponse } from '../_models/visbofiles';\nimport { VisboCenterService } from '../_services/visbocenter.service';\nimport { VisboSettingService } from '../_services/visbosetting.service';\n\nimport { VisboSetting, VisboSettingResponse } from '../_models/visbosetting';\n\n@Component({\n  selector: 'app-syslog',\n  templateUrl: './syslog.component.html'\n})\nexport class SysLogComponent implements OnInit {\n\n  files: VisboFile[];\n  fileIndex: number;\n  ageDays: number\n  logDataShow: boolean;\n  logData: string;\n  logLevelSetting: VisboSetting;\n  systemVC: number;\n\n  sortAscending: boolean;\n  sortColumn: number;\n\n  constructor(\n    private visbocenterService: VisboCenterService,\n    private visbosettingService: VisboSettingService,\n    private syslogService: SysLogService,\n    private messageService: MessageService,\n    private alertService: AlertService,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.systemVC = this.visbocenterService.getSysVCId();\n    this.ageDays = 3;\n    this.sortColumn = 2;\n\n    this.getVisboLogs();\n    this.sortTable(1);\n    this.log(`syslog init VC ID ${this.systemVC}`);\n  }\n\n  // onSelect(visboaudit: VisboAudit): void {\n  //   this.getVisboAudits();\n  // }\n\n  getVisboLogs(): void {\n    this.log(`syslog getVisboLogs`);\n    this.sortAscending = !this.sortAscending;\n    this.syslogService.getSysLogs(this.ageDays)\n      .subscribe(\n        files => {\n          this.files = files;\n          this.sortTable(this.sortColumn);\n          this.log('get Logs success');\n        },\n        error => {\n          this.log(`get Logs failed: error: ${error.status} message: ${error.error.message}`);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  helperFileIndex(fileIndex: number):void {\n    this.fileIndex = fileIndex\n  }\n\n  switchView():void {\n    this.logDataShow = !this.logDataShow;\n  }\n\n  getVisboLogFile(file: VisboFile): void {\n    this.log(`syslog getVisboLogFile`);\n    this.syslogService.getSysLog(file.folder, file.name)\n      .subscribe(\n        data => {\n          this.log(`get Log Content success Start:${data.substring(0,30)}`);\n          this.downloadFile(data, file.name)\n        },\n        error => {\n          this.log(`get Log Content failed: error: ${error.status} message: ${error.error.message}`);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  getLogLevel(): void {\n    this.log(`syslog getLogLevel`);\n    this.visbosettingService.getVCSettingByName(this.systemVC, 'DEBUG', true)\n      .subscribe(\n        vcsetting => {\n          this.logLevelSetting = vcsetting[0];\n          this.log(`get Log Level success ${JSON.stringify(this.logLevelSetting)}`);\n        },\n        error => {\n          this.log(`get Log Level failed: error: ${error.status} message: ${error.error.message}`);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  setLogLevel(): void {\n    this.log(`syslog setLogLevel`);\n    this.visbosettingService.updateVCSetting(this.systemVC, this.logLevelSetting, true)\n      .subscribe(\n        data => {\n          this.log(`set Log Level success ${JSON.stringify(data)}`);\n          this.alertService.success('Successfully changed Log Level', true);\n          this.logLevelSetting = data;\n        },\n        error => {\n          this.log(`set Log Level failed: error: ${error.status} message: ${error.error.message}`);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  downloadFile(data: string, fileName: string):void {\n    this.log(`download File succeeded Len: ${data.length}`);\n    var blob = new Blob([data], { type: 'text/plain' });\n    var url= window.URL.createObjectURL(blob);\n    this.log(`Open URL ${url}`);\n    var a = document.createElement(\"a\");\n    document.body.appendChild(a);\n    a.href = url;\n    a.download = fileName + '.log';\n    a.click();\n    window.URL.revokeObjectURL(url);\n  }\n\n  formatBytes(size,precision) {\n    if(0==size) return\"0 Bytes\";\n    var c=1024, d=precision||2, units=[\"Bytes\",\"KB\",\"MB\",\"GB\"]\n    var f=Math.floor(Math.log(size)/Math.log(c));\n    return parseFloat((size/Math.pow(c,f)).toFixed(d))+\" \"+units[f]\n  }\n\n  sortTable(n) {\n    if (!this.files) return\n    this.log(`Sort Table Column ${n}`)\n    // change sort order otherwise sort same column same direction\n    if (n != undefined || this.sortColumn == undefined) {\n      if (n != this.sortColumn) {\n        this.sortColumn = n;\n        this.sortAscending = undefined;\n      }\n      if (this.sortAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortAscending = ( n == 1 ) ? true : false;\n        // console.log(\"Sort VC Column undefined\", this.sortColumn, this.sortAscending)\n      }\n      else this.sortAscending = !this.sortAscending;\n    }\n    // console.log(\"Sort VC Column %d Asc %s\", this.sortColumn, this.sortAscending)\n    if (this.sortColumn == 1) {\n      this.files.sort(function(a, b) {\n        var result = 0\n        if (a.name > b.name)\n          result = 1;\n        else if (a.name < b.name)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 2) {\n      this.files.sort(function(a, b) {\n        var result = 0\n        if (a.updatedAt > b.updatedAt)\n          result = 1;\n        else if (a.updatedAt < b.updatedAt)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 3) {\n      this.files.sort(function(a, b) {\n        return a.size - b.size\n      })\n    }\n\n    if (!this.sortAscending) {\n      this.files.reverse();\n    }\n  }\n\n  /** Log message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('Sys Logs: ' + message);\n  }\n}\n","export default \".navbar {\\n  padding: 0px;\\n  margin-bottom: 1em;\\n  margin-top: 1em;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9zeXNuYXZiYXIvc3lzbmF2YmFyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGVBQWU7QUFDakIiLCJmaWxlIjoiYXBwL3N5c25hdmJhci9zeXNuYXZiYXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5uYXZiYXIge1xuICBwYWRkaW5nOiAwcHg7XG4gIG1hcmdpbi1ib3R0b206IDFlbTtcbiAgbWFyZ2luLXRvcDogMWVtO1xufVxuIl19 */\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { VisboCenterService } from '../_services/visbocenter.service';\nimport { AlertService } from '../_services/alert.service';\nimport { MessageService } from '../_services/message.service';\n\nimport { VGPermission, VGPSystem, VGPVC, VGPVP } from '../_models/visbogroup';\n\n@Component({\n  selector: 'sysvisbo-navbar',\n  templateUrl: './sysnavbar.component.html',\n  styleUrls: ['./sysnavbar.component.css']\n})\nexport class SysNavbarComponent implements OnInit {\n  combinedPerm: VGPermission = undefined;\n  permSystem: any = VGPSystem;\n  permVC: any = VGPVC;\n  permVP: any = VGPVP;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private alertService: AlertService,\n    private messageService: MessageService,\n    public authenticationService: AuthenticationService,\n    public visbocenterService: VisboCenterService\n  ) { }\n\n  ngOnInit() {\n    // get return url from route parameters or default to '/'\n    // this.returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/';\n    this.combinedPerm = this.visbocenterService.getSysAdminRole();\n    this.log(`Navbar Init Sys Role ${JSON.stringify(this.combinedPerm)} ${this.permSystem.View}`)\n  }\n\n  gotoClickedItem(action: string):void {\n    // console.log(\"clicked nav item %s\", action);\n    this.router.navigate([action]);\n  }\n\n  hasSystemPerm(perm: number): boolean {\n    return (this.combinedPerm.system & perm) > 0\n  }\n\n  hasVCPerm(perm: number): boolean {\n    return (this.combinedPerm.vc & perm) > 0\n  }\n\n/** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('Sys NavBar: ' + message);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAvc3lzdGFza3Mvc3lzdGFza3MuY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { ErrorObservable } from 'rxjs/observable/ErrorObservable';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { LoginComponent } from '../login/login.component';\nimport { VisboCenterService } from '../_services/visbocenter.service';\nimport { VisboSettingService } from '../_services/visbosetting.service';\n\nimport { VisboSetting, VisboSettingResponse } from '../_models/visbosetting';\n\n@Component({\n  selector: 'app-systasks',\n  templateUrl: './systasks.component.html',\n  styleUrls: ['./systasks.component.css']\n})\nexport class SystasksComponent implements OnInit {\n\n  systemVC: number;\n  vcsetting: VisboSetting[];\n  taskIndex: number;\n  sortAscending: boolean;\n  sortColumn: number;\n\n  constructor(\n    private visbocenterService: VisboCenterService,\n    private visbosettingService: VisboSettingService,\n    private messageService: MessageService,\n    private alertService: AlertService,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.systemVC = this.visbocenterService.getSysVCId()\n    this.getVisboTasks();\n  }\n\n  getVisboTasks(): void {\n    this.log(`getVisboTasks`);\n    this.visbosettingService.getVCSettingByType(this.systemVC, 'Task', true)\n      .subscribe(\n        vcsetting => {\n          this.vcsetting = vcsetting;\n          this.sortTable(undefined);\n          this.log('get Settings success ' + vcsetting.length);\n          this.alertService.clear();\n        },\n        error => {\n          this.log(`get Settings failed: error: ${error.status} message: ${error.error.message}`);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  helperTaskIndex(taskIndex: number):void {\n    this.taskIndex = taskIndex\n  }\n\n  pageTaskIndex(increment: number): void {\n    var newtaskIndex: number;\n    newtaskIndex = this.taskIndex + increment;\n    if (newtaskIndex < 0) newtaskIndex = 0\n    if (newtaskIndex >= this.vcsetting.length) newtaskIndex = this.vcsetting.length-1\n    this.taskIndex = newtaskIndex\n  }\n\n  executeTask(): void {\n    this.log(`execute Task Immediately: ${this.vcsetting[this.taskIndex].name} `);\n    this.vcsetting[this.taskIndex].value.nextRun = new Date();\n    this.visbosettingService.updateVCSetting(this.systemVC, this.vcsetting[this.taskIndex], true)\n      .subscribe(\n        data => {\n          this.log(`execute Task success ${JSON.stringify(data)}`);\n          this.alertService.success('Successfully set Task to execute', false);\n          this.vcsetting[this.taskIndex] = data;\n        },\n        error => {\n          this.log(`execute Task failed: error: ${error.status} message: ${error.error.message}`);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  sortTable(n) {\n    if (!this.vcsetting) return\n    this.log(`Sort Table Column ${n} ${this.sortColumn}`)\n    // change sort order otherwise sort same column same direction\n    if (n != undefined || this.sortColumn == undefined) {\n      if (this.sortColumn == undefined) this.sortColumn = 1;\n      if (n != this.sortColumn) {\n        this.sortColumn = n;\n        this.sortAscending = undefined;\n      }\n      if (this.sortAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortAscending = ( n == 0 ) ? true : false;\n        // console.log(\"Sort VC Column undefined\", this.sortColumn, this.sortAscending)\n      }\n      else this.sortAscending = !this.sortAscending;\n      this.log(`Sort Order ${this.sortAscending}`)\n    }\n    // this.log(`Sort VC Column ${this.sortColumn} Asc ${this.sortAscending} `)\n    if (this.sortColumn == 1) {\n      this.vcsetting.sort(function(a, b) {\n        var result = 0\n        if (a.name > b.name)\n          result = 1;\n        else if (a.name < b.name)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 2) {\n      this.vcsetting.sort(function(a, b) {\n        var result = 0\n        if (a.value.lastRun > b.value.lastRun)\n          result = 1;\n        else if (a.value.lastRun < b.value.lastRun)\n          result = -1;\n        return result;\n      })\n    } else if (this.sortColumn == 3) {\n      this.vcsetting.sort(function(a, b) {\n        var result = 0\n        if (a.value.nextRun > b.value.nextRun)\n          result = 1;\n        else if (a.value.nextRun < b.value.nextRun)\n          result = -1;\n        return result;\n      })\n    } else if (this.sortColumn == 4) {\n      this.vcsetting.sort(function(a, b) {\n        var val1 = 0, val2 = 0;\n        if (a.value.taskSpecific && a.value.taskSpecific.result ) val1 = a.value.taskSpecific.result\n        if (b.value.taskSpecific && b.value.taskSpecific.result ) val2 = b.value.taskSpecific.result\n        return val1 - val2\n      })\n    }\n\n    if (!this.sortAscending) {\n      this.log(`Sort VC Column Reverse `)\n      this.vcsetting.reverse();\n    }\n  }\n\n\n  /** Log message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('Sys Tasks: ' + message);\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAvc3lzdXNlci9zeXN1c2VyLmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { ErrorObservable } from 'rxjs/observable/ErrorObservable';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { VisboUser } from '../_models/login';\nimport { SysUserService } from '../_services/sysuser.service';\nimport { LoginComponent } from '../login/login.component';\n\n@Component({\n  selector: 'app-sysuser',\n  templateUrl: './sysuser.component.html',\n  styleUrls: ['./sysuser.component.css']\n})\nexport class SysuserComponent implements OnInit {\n\n  user: VisboUser[];\n  userIndex: number;\n  userMatch: string;\n  showMore: boolean;\n  sortAscending: boolean;\n  sortColumn: number;\n\n  constructor(\n    private sysuserService: SysUserService,\n    private messageService: MessageService,\n    private alertService: AlertService,\n    private route: ActivatedRoute,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.getSysUsers();\n    this.sortTable(undefined);\n  }\n\n  getSysUsers(): void {\n    if (this.userMatch) this.userMatch = this.userMatch.trim();\n    this.log(`Get with filter ${this.userMatch}`);\n    this.sysuserService.getSysUsers(this.userMatch)\n      .subscribe(\n        user => {\n          this.user = user;\n          this.sortTable(undefined);\n          this.log('get success');\n        },\n        error => {\n          this.log(`get failed: error: ${error.status} message: ${error.error.message}`);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  helperUserIndex(userIndex: number):void {\n    this.userIndex = userIndex\n  }\n\n  pageUserIndex(increment: number): void {\n    var newuserIndex: number;\n    newuserIndex = this.userIndex + increment;\n    if (newuserIndex < 0) newuserIndex = 0\n    if (newuserIndex >= this.user.length) newuserIndex = this.user.length-1\n    this.userIndex = newuserIndex\n  }\n\n  helperShortenText(text: string, len: number): string {\n    if (!text || !len || len < 5 || text.length <= len) {\n      return (text);\n    }\n    return text.substring(0,20).concat('...', text.substring(text.length-7, text.length));\n  }\n\n  toggleDetail() {\n    this.log(`Toggle ShowMore`);\n    this.showMore = !this.showMore;\n  }\n\n  sortTable(n) {\n    if (!this.user) return\n    this.log(`Sort Table Column ${n}`)\n    // change sort order otherwise sort same column same direction\n    if (n != undefined) {\n      // sort a different column\n      if (n != this.sortColumn) {\n        this.sortColumn = n;\n        this.sortAscending = undefined;\n      } else if (this.sortAscending != undefined)\n        this.sortAscending = !this.sortAscending;\n    } else {\n      this.sortColumn = 2\n      this.sortAscending = undefined;\n    }\n    if (this.sortAscending == undefined) {\n      // sort name column ascending, number values desc first\n      this.sortAscending = (n == 1) ? true : false;\n      // console.log(\"Sort VC Column undefined\", this.sortColumn, this.sortAscending)\n    }\n    // console.log(\"Sort VC Column %d Asc %s\", this.sortColumn, this.sortAscending)\n    if (this.sortColumn == 1) {\n      this.user.sort(function(a, b) {\n        var result = 0\n        if (a.email.toLowerCase() > b.email.toLowerCase())\n          result = 1;\n        else if (a.email.toLowerCase() < b.email.toLowerCase())\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 2) {\n      this.user.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.updatedAt > b.updatedAt)\n          result = 1;\n        else if (a.updatedAt < b.updatedAt)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 3) {\n      this.user.sort(function(a, b) {\n        var result = 0\n        var aLastLoginAt: Date, bLastLoginAt: Date;\n        aLastLoginAt = a.status && a.status.lastLoginAt ? new Date(a.status.lastLoginAt) : undefined\n        if (!aLastLoginAt) aLastLoginAt = new Date('2001-01-01');\n        bLastLoginAt = b.status && b.status.lastLoginAt ? new Date(b.status.lastLoginAt) : undefined\n        if (!bLastLoginAt) bLastLoginAt = new Date('2001-01-01');\n\n        return aLastLoginAt.getTime() - bLastLoginAt.getTime()\n      })\n    } else if (this.sortColumn == 4) {\n      this.user.sort(function(a, b) {\n        var result = 0\n        var alastLoginFailedAt: Date, blastLoginFailedAt: Date;\n        alastLoginFailedAt = a.status && a.status.lastLoginFailedAt ? new Date(a.status.lastLoginFailedAt) : undefined\n        if (!alastLoginFailedAt) alastLoginFailedAt = new Date('2001-01-01');\n        blastLoginFailedAt = b.status && b.status.lastLoginFailedAt ? new Date(b.status.lastLoginFailedAt) : undefined\n        if (!blastLoginFailedAt) blastLoginFailedAt = new Date('2001-01-01');\n\n        return alastLoginFailedAt.getTime() - blastLoginFailedAt.getTime()\n      })\n    }\n    // console.log(\"Sort VC Column %d %s Reverse?\", this.sortColumn, this.sortAscending)\n    if (!this.sortAscending) {\n      this.user.reverse();\n      // console.log(\"Sort VC Column %d %s Reverse\", this.sortColumn, this.sortAscending)\n    }\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('Sys User: ' + message);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAvc3lzdmlzYm9jZW50ZXItZGV0YWlsL3N5c3Zpc2JvY2VudGVyLWRldGFpbC5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { ActivatedRoute, Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\n\nimport { FormsModule }   from '@angular/forms';\n\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { MessageService } from '../_services/message.service';\nimport { VisboCenter } from '../_models/visbocenter';\nimport { VGGroup, VGPermission, VGUser, VGUserGroup, VGPSystem, VGPVC, VGPVP } from '../_models/visbogroup';\nimport { VisboCenterService }  from '../_services/visbocenter.service';\nimport { VisboProject } from '../_models/visboproject';\nimport { VisboProjectService }  from '../_services/visboproject.service';\n\n@Component({\n  selector: 'app-sysvisbocenter-detail',\n  templateUrl: './sysvisbocenter-detail.component.html',\n  styleUrls: ['./sysvisbocenter-detail.component.css']\n})\nexport class SysvisbocenterDetailComponent implements OnInit {\n\n  @Input() visbocenter: VisboCenter;\n  vgUsers: VGUserGroup[];\n  vgGroups: VGGroup[];\n  newUserInvite: any = {};\n  actGroup: any = {};\n  userIndex: number;\n  groupIndex: number;\n  showGroups: boolean;\n  combinedPerm: VGPermission = undefined;\n  permSystem: any = VGPSystem;\n  permVC: any = VGPVC;\n  permVP: any = VGPVP;\n  deleted: boolean = false;\n\n  sortUserColumn: number = 1;\n  sortUserAscending: boolean = true;\n  sortGroupColumn: number = 1;\n  sortGroupAscending: boolean = true;\n\n  constructor(\n    private messageService: MessageService,\n    private visbocenterService: VisboCenterService,\n    private visboprojectService: VisboProjectService,\n    private route: ActivatedRoute,\n    private location: Location,\n    private router: Router,\n    private authenticationService: AuthenticationService,\n    private alertService: AlertService\n  ) { }\n\n  ngOnInit() {\n    this.log(`SysVisboCenter Init: ${JSON.stringify(this.visbocenter)}`)\n    this.deleted = this.route.snapshot.queryParams['deleted'] ? true : false;\n    this.getVisboCenter();\n    this.getVisboCenterUsers();\n    this.combinedPerm = this.visbocenterService.getSysAdminRole()\n    // this.log(`SysAdmin Role: ${this.vcIsSysAdmin}`)\n  }\n\n  getVisboCenter(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    var currentUser = this.authenticationService.getActiveUser();\n\n    this.log(`VisboCenter Detail of: ${id} Deleted ${this.deleted}`);\n    this.visbocenterService.getVisboCenter(id, true, this.deleted)\n      .subscribe(\n        visbocenter => {\n          this.visbocenter = visbocenter;\n          this.combinedPerm = visbocenter.perm;\n          // this.log(`VisboCenter initialised ${this.visbocenter._id} Perm Sys ${JSON.stringify(this.combinedPerm)} `)\n        },\n        error => {\n          this.log(`Get VC failed: error: ${error.status} message: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  hasSystemPerm(perm: number): boolean {\n    return (this.combinedPerm.system & perm) > 0\n  }\n\n  hasVCPerm(perm: number): boolean {\n    return (this.combinedPerm.vc & perm) > 0\n  }\n\n  hasVPPerm(perm: number): boolean {\n    return (this.combinedPerm.vp & perm) > 0\n  }\n\n  getVisboCenterUsers(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    var currentUser = this.authenticationService.getActiveUser();\n\n    this.log(`VisboCenter UserList of ${id} Deleted ${this.deleted}`);\n    this.visbocenterService.getVCUsers(id, true, this.deleted)\n      .subscribe(\n        mix => {\n          this.vgUsers = mix.users;\n          this.vgGroups = mix.groups;\n          this.log(`fetched Users ${this.vgUsers.length}, Groups ${this.vgGroups.length}`)\n          this.sortUserTable();\n          this.sortGroupTable();\n        },\n        error => {\n          this.log(`Get VC Users failed: error: ${error.status} message: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  gotoVCAudit(visbocenter: VisboCenter):void {\n    this.log(`GoTo VC Audit ${visbocenter.name} ${this.visbocenter.name}`)\n    var queryParams = this.deleted ? { sysadmin: 1, deleted: 1 } : { sysadmin: 1 };\n    this.log(`GoTo VC Audit ${visbocenter.name} ${this.visbocenter.name} ${JSON.stringify(queryParams)}`)\n    this.router.navigate(['vcAudit/'.concat(visbocenter._id)], { queryParams: queryParams});\n  }\n\n  gotoVPList(visbocenter: VisboCenter):void {\n    this.log(`GoTo VP List ${JSON.stringify(this.combinedPerm)}`)\n    if (this.hasVPPerm(this.permVP.View))\n      this.router.navigate(['sysvp/'.concat(visbocenter._id)]);\n  }\n\n  goBack(): void {\n    // this.log(`VC Details go Back ${JSON.stringify(this.location)}`)\n    this.location.back();\n  }\n\n  save(): void {\n    this.log(`PUT VC: ${this.visbocenter.name} ID: ${this.visbocenter._id} Deleted: ${this.deleted}`);\n    this.visbocenterService.updateVisboCenter(this.visbocenter, true, this.deleted)\n      .subscribe(\n        vc => {\n          this.alertService.success(`Visbo Center ${vc.name} updated successfully`, true);\n          this.goBack()\n        },\n        error => {\n          this.log(`save VC failed: error: ${error.status} message: ${error.error.message} `);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Visbo Center ${this.visbocenter.name}`);\n          } else if (error.status == 409) {\n            this.alertService.error(`Visbo Center ${this.visbocenter.name} exists already`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  delete(visbocenter: VisboCenter): void {\n    this.log(`Delete VC: ${visbocenter.name} ID: ${visbocenter._id} Deleted: ${this.deleted}`);\n    this.visbocenterService.deleteVisboCenter(visbocenter, true, this.deleted)\n      .subscribe(\n        vc => {\n          this.alertService.success(`Visbo Center ${visbocenter.name} deleted successfully`, true);\n          this.goBack()\n        },\n        error => {\n          this.log(`delete VC failed: error: ${error.status} message: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Visbo Center ${visbocenter.name}`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  toggleUserGroup(): void {\n    this.showGroups = !this.showGroups;\n  }\n\n  addNewVCUser(): void {\n    var email = this.newUserInvite.email.trim();\n    var groupName = this.newUserInvite.groupName.trim();\n    var groupId = this.vgGroups.filter(group => group.name == groupName)[0]._id;\n    var inviteMessage = '';\n    if (this.newUserInvite.inviteMessage) inviteMessage = this.newUserInvite.inviteMessage.trim();\n    var vcid = this.visbocenter._id\n    this.log(`Add VisboCenter User: ${email} Group: ${groupName}/${groupId} VC: ${vcid}`);\n    if (!email || !groupId) { return; }\n    this.visbocenterService.addVCUser(email, groupId, inviteMessage, vcid, true )\n      .subscribe(\n        group => {\n          // Add User to User & Group list\n          var newUserGroup = new VGUserGroup();\n          newUserGroup.userId = group.users.filter(user => user.email == email)[0].userId;\n          newUserGroup.email = email;\n          newUserGroup.groupId = group._id;\n          newUserGroup.groupName = group.name;\n          this.log(`Add VisboCenter User Push: ${JSON.stringify(newUserGroup)}`);\n          this.vgUsers.push(newUserGroup);\n          this.sortUserTable();\n          for (var i=0; i< this.vgGroups.length; i++) {\n            if (this.vgGroups[i]._id == group._id) {\n              this.vgGroups[i] = group;\n              break;\n            }\n          }\n          this.alertService.success(`User ${email} added successfully`);\n        },\n        error => {\n          this.log(`Add VisboCenter User error: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Add User to Visbo Center`);\n          } else {\n            this.log(`Error during add VC user ${error.error.message}`); // log to console instead\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  helperRemoveUser(memberIndex: number):void {\n    this.userIndex = memberIndex\n  }\n\n  helperRemoveGroup(memberIndex: number):void {\n    this.groupIndex = memberIndex\n  }\n\n  removeVCUser(user: VGUserGroup, vcid: string): void {\n    this.log(`Remove VisboCenter User: ${user.email}/${user.userId} Group: ${user.groupName} VC: ${vcid}`);\n    this.visbocenterService.deleteVCUser(user, vcid, true)\n      .subscribe(\n        users => {\n          // this.log(`Remove VisboCenter User result: ${JSON.stringify(result)}`);\n          // this.visbocenter.users = users;\n          // filter user from vgUsers\n          this.vgUsers = this.vgUsers.filter(vcUser => vcUser !== user);\n          // filter user from vgGroups\n          for (var i=0; i<this.vgGroups.length; i++) {\n            if (this.vgGroups[i]._id == user.groupId) {\n              for (var j=0; j<this.vgGroups[i].users.length; j++) {\n                if (this.vgGroups[i].users[j].userId == user.userId) {\n                  this.vgGroups[i].users.splice(j, 1); // remove item from array\n                  break;\n                }\n              }\n              break;\n            }\n          }\n          this.alertService.success(`User ${user.email} removed successfully`);\n        },\n        error => {\n          this.log(`Remove VisboCenter User error: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Remove User from Visbo Center`);\n          } else {\n            this.log(`Error during remove VC user ${error.error.message}`); // log to console instead\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  helperVCPerm(newGroup: any): number {\n    var perm: number = 0;\n    if (newGroup.checkedView) perm += this.permVC.View;\n    if (newGroup.checkedViewAudit) perm += this.permVC.ViewAudit;\n    if (newGroup.checkedModify) perm += this.permVC.Modify;\n    if (newGroup.checkedCreateVP) perm += this.permVC.CreateVP;\n    if (newGroup.checkedManagePerm) perm += this.permVC.ManagePerm;\n\n    return perm\n  }\n\n  helperVPPerm(newGroup: any): number {\n    var perm: number = 0;\n    if (newGroup.checkedVPView) perm += this.permVP.View;\n    if (newGroup.checkedVPViewAudit) perm += this.permVP.ViewAudit;\n    if (newGroup.checkedVPModify) perm += this.permVP.Modify;\n    if (newGroup.checkedCreateVariant) perm += this.permVP.CreateVariant;\n    if (newGroup.checkedVPManagePerm) perm += this.permVP.ManagePerm;\n    if (newGroup.checkedVPDelete) perm += this.permVP.DeleteVP;\n\n    return perm\n  }\n\n  initGroup(curGroup: VGGroup): void {\n\n    if (curGroup) {\n      this.actGroup.confirm = 'Modify';\n      this.actGroup.gid = curGroup._id;\n      this.log(`Init Group Set GroupID : ${this.actGroup.gid} ID ${curGroup._id}`);\n      this.actGroup.groupName = curGroup.name;\n      this.actGroup.checkGlobal = curGroup.global;\n      this.actGroup.checkedView = (curGroup.permission.vc & this.permVC.View) > 0\n      this.actGroup.checkedViewAudit = (curGroup.permission.vc & this.permVC.ViewAudit) > 0\n      this.actGroup.checkedModify = (curGroup.permission.vc & this.permVC.Modify) > 0\n      this.actGroup.checkedCreateVP = (curGroup.permission.vc & this.permVC.CreateVP) > 0\n      this.actGroup.checkedManagePerm = (curGroup.permission.vc & this.permVC.ManagePerm) > 0\n\n      this.actGroup.checkedVPView = (curGroup.permission.vp & this.permVP.View) > 0\n      this.actGroup.checkedVPViewAudit = (curGroup.permission.vp & this.permVP.ViewAudit) > 0\n      this.actGroup.checkedVPModify = (curGroup.permission.vp & this.permVP.Modify) > 0\n      this.actGroup.checkedCreateVariant = (curGroup.permission.vp & this.permVP.CreateVariant) > 0\n      this.actGroup.checkedVPManagePerm = (curGroup.permission.vp & this.permVP.ManagePerm) > 0\n      this.actGroup.checkedVPDelete = (curGroup.permission.vp & this.permVP.DeleteVP) > 0\n    } else {\n      this.actGroup.confirm = 'Add';\n      this.actGroup.gid = undefined;\n      this.actGroup.groupName = '';\n      this.actGroup.checkGlobal = false;\n      this.actGroup.checkedView = true;\n    }\n    this.log(`Init Group for Creation / Modification: ${this.actGroup.groupName} ID ${this.actGroup.gid}`);\n\n  }\n\n  addModifyVCGroup(): void {\n    var newGroup = new VGGroup;\n\n    newGroup.name = this.actGroup.groupName.trim();\n    newGroup.global = this.actGroup.checkGlobal;\n    newGroup.vcid = this.visbocenter._id;\n    newGroup.permission = new VGPermission;\n    newGroup.permission.vc = this.helperVCPerm(this.actGroup);\n    newGroup.permission.vp = this.helperVPPerm(this.actGroup);\n\n    this.log(`Add/Modify VisboCenter Group: Group: ${newGroup.name} New/Modify ${this.actGroup.gid}`);\n\n    if (this.actGroup.gid) {\n      // modify existing Group\n      this.log(`Modify VisboCenter Group: Group: ${newGroup.name} VC: ${newGroup.vcid} Perm: vc ${newGroup.permission.vc} vp ${newGroup.permission.vp}`);\n      newGroup._id = this.actGroup.gid;\n      this.visbocenterService.modifyVCGroup(newGroup, true)\n        .subscribe(\n          group => {\n            // Add Group to Group list\n            // this.log(`Modify VisboCenter Group Push: ${JSON.stringify(group)}`);\n            this.vgGroups = this.vgGroups.filter(vcGroup => vcGroup._id !== newGroup._id);\n            this.vgGroups.push(group);\n            // update User List to reflect new Group Name & ID\n            for (var i=0; i < this.vgUsers.length; i++) {\n              if (this.vgUsers[i].groupId == newGroup._id) {\n                this.vgUsers[i].groupName = group.name\n              }\n            }\n            this.sortUserTable();\n            this.sortGroupTable();\n            this.alertService.success(`Group ${group.name} changed successfully`);\n          },\n          error => {\n            this.log(`Modify VisboCenter Group error: ${error.error.message}`);\n            if (error.status == 403) {\n              this.alertService.error(`Permission Denied: Modify Group to Visbo Center`);\n            } else {\n              this.log(`Error during add VC Group ${error.error.message}`); // log to console instead\n              this.alertService.error(error.error.message);\n            }\n          }\n        );\n    } else {\n      // create new Group\n      this.log(`Add VisboCenter Group: Group: ${newGroup.name} VC: ${newGroup.vcid} Perm: vc ${newGroup.permission.vc} vp ${newGroup.permission.vp}`);\n      this.visbocenterService.addVCGroup(newGroup, true)\n        .subscribe(\n          group => {\n            // Add Group to Group list\n            // this.log(`Add VisboCenter Group Push: ${JSON.stringify(group)}`);\n            this.vgGroups.push(group);\n            this.alertService.success(`Group ${group.name} added successfully`);\n          },\n          error => {\n            this.log(`Add VisboCenter Group error: ${error.error.message}`);\n            if (error.status == 403) {\n              this.alertService.error(`Permission Denied: Add Group to Visbo Center`);\n            } else {\n              this.log(`Error during add VC Group ${error.error.message}`); // log to console instead\n              this.alertService.error(error.error.message);\n            }\n          }\n        );\n    }\n  }\n\n  removeVCGroup(group: VGGroup ): void {\n    this.log(`Remove VisboCenter Group: ${group.name}/${group._id} VC: ${group.vcid}`);\n    this.visbocenterService.deleteVCGroup(group, true)\n      .subscribe(\n        response => {\n          this.log(`Remove VisboCenter Group result: ${JSON.stringify(response)}`);\n          // filter user from vgUsers\n          this.vgGroups = this.vgGroups.filter(vcGroup => vcGroup !== group);\n          this.vgUsers = this.vgUsers.filter(vcUser => vcUser.groupId !== group._id);\n          this.alertService.success(`Group ${group.name} removed successfully`);\n        },\n        error => {\n          this.log(`Remove VisboCenter Group error: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Remove Group from Visbo Center`);\n          } else {\n            this.log(`Error during remove VC user ${error.error.message}`); // log to console instead\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  sortUserTable(n: number = undefined) {\n    if (!this.vgUsers) return\n    // change sort order otherwise sort same column same direction\n    if (n != undefined || this.sortUserColumn == undefined ) {\n      if (n != this.sortUserColumn) {\n        this.sortUserColumn = n;\n        this.sortUserAscending = undefined;\n      }\n      if (this.sortUserAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortUserAscending = (n == 1 || n == 2) ? true : false;\n        // console.log(\"Sort VC Column undefined\", this.sortUserColumn, this.sortUserAscending)\n      } else this.sortUserAscending = !this.sortUserAscending;\n    }\n    // this.log(`Sort Users Column ${this.sortUserColumn}`); // log to console instead\n    if (this.sortUserColumn == 1) {\n      // sort user email\n      this.vgUsers.sort(function(a, b) {\n        var result = 0\n        if (a.email > b.email)\n          result = 1;\n        else if (a.email < b.email)\n          result = -1;\n        return result\n      })\n    } else if (this.sortUserColumn == 2) {\n      // sort user group name\n      this.vgUsers.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.groupName.toLowerCase() > b.groupName.toLowerCase())\n          result = 1;\n        else if (a.groupName.toLowerCase() < b.groupName.toLowerCase())\n          result = -1;\n        return result\n      })\n    }\n    // console.log(\"Sort VC Column %d %s Reverse?\", this.sortUserColumn, this.sortUserAscending)\n    if (!this.sortUserAscending) {\n      this.vgUsers.reverse();\n      // console.log(\"Sort VC Column %d %s Reverse\", this.sortUserColumn, this.sortUserAscending)\n    }\n  }\n\n  sortGroupTable(n: number = undefined) {\n\n    if (!this.vgGroups) return\n    // change sort order otherwise sort same column same direction\n    if (n != undefined || this.sortGroupColumn == undefined) {\n      if (n != this.sortGroupColumn) {\n        this.sortGroupColumn = n;\n        this.sortGroupAscending = undefined;\n      }\n      if (this.sortGroupAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortGroupAscending = (n == 1) ? true : false;\n        // console.log(\"Sort VC Column undefined\", this.sortGroupColumn, this.sortGroupAscending)\n      }\n      else this.sortGroupAscending = !this.sortGroupAscending;\n    }\n    // this.log(`Sort Groups Column ${this.sortGroupColumn}`); // log to console instead\n    if (this.sortGroupColumn == 1) {\n      // sort user email\n      this.vgGroups.sort(function(a, b) {\n        var result = 0\n        if (a.name.toLowerCase() > b.name.toLowerCase())\n          result = 1;\n        else if (a.name.toLowerCase() < b.name.toLowerCase())\n          result = -1;\n        return result\n      })\n    } else if (this.sortGroupColumn == 2) {\n      // sort user group name\n      this.vgGroups.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        return b.users.length - a.users.length\n      })\n    }\n    // console.log(\"Sort VC Column %d %s Reverse?\", this.sortGroupColumn, this.sortGroupAscending)\n    if (!this.sortGroupAscending) {\n      this.vgGroups.reverse();\n      // console.log(\"Sort VC Column %d %s Reverse\", this.sortGroupColumn, this.sortGroupAscending)\n    }\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('Sys VisboCenter Details: ' + message);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n//import { ActivatedRoute } from '@angular/router';\nimport { ActivatedRoute, Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { ErrorObservable } from 'rxjs/observable/ErrorObservable';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { VisboCenter } from '../_models/visbocenter';\nimport { VisboCenterService } from '../_services/visbocenter.service';\nimport { LoginComponent } from '../login/login.component';\n\nimport { VGPermission, VGPSystem, VGPVC, VGPVP } from '../_models/visbogroup';\n\n@Component({\n  selector: 'app-sysvisbocenters',\n  templateUrl: './sysvisbocenters.component.html'\n})\nexport class SysVisboCentersComponent implements OnInit {\n\n  visbocenters: VisboCenter[];\n  sysvisbocenter: VisboCenter;\n  combinedPerm: VGPermission = undefined;\n  deleted: boolean = false;\n  permSystem: any = VGPSystem;\n  permVC: any = VGPVC;\n  permVP: any = VGPVP;\n  sortAscending: boolean;\n  sortColumn: number;\n\n  constructor(\n    private visbocenterService: VisboCenterService,\n    private authenticationService: AuthenticationService,\n    private messageService: MessageService,\n    private alertService: AlertService,\n    private route: ActivatedRoute,\n    //private location: Location,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.log(`Init SysVC Deleted: ${this.deleted}`)\n    this.log(`Init GetVisboCenters ${JSON.stringify(this.route.snapshot.queryParams)}`);\n    this.deleted = this.route.snapshot.queryParams['deleted'] ? true : false;\n    this.getVisboCenters(this.deleted);\n    this.combinedPerm = this.visbocenterService.getSysAdminRole()\n  }\n\n  onSelect(visbocenter: VisboCenter): void {\n    this.getVisboCenters(this.deleted);\n  }\n\n  toggleVisboCenters(): void {\n    this.deleted = !this.deleted\n    this.log(`VC toggleVisboCenters ${this.deleted}`);\n    this.getVisboCenters(this.deleted);\n    this.router.navigate(['sysvc'], this.deleted ? { queryParams: { deleted: this.deleted }} : {});\n    // this.router.navigate(['sysvcDetail/'+visbocenter._id], deleted ? { queryParams: { deleted: deleted }} : {});\n  }\n\n  getVisboCenters(deleted: boolean): void {\n    this.log(`VC getVisboCenters ${JSON.stringify(this.combinedPerm)} deleted ${this.deleted}`);\n    this.visbocenterService.getVisboCenters(true, deleted)\n      .subscribe(\n        visbocenters => {\n          this.visbocenters = visbocenters;\n          this.sortVCTable(1);\n          this.log('get VCs success');\n\n        },\n        error => {\n          this.log(`get VCs failed: error: ${error.status} message: ${error.error.message}`);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  getSysVisboCenter(): void {\n    var currentUser = this.authenticationService.getActiveUser();\n\n    // console.log(\"VC getSysVisboCenter for User %s\", currentUser.email);\n    this.visbocenterService.getSysVisboCenter()\n      .subscribe(vc => {\n        if (vc.length >0) {\n          this.sysvisbocenter = vc[0];\n        }\n      });\n  }\n\n  add(name: string, description: string): void {\n    name = name.trim();\n    description = description.trim();\n    this.log(`VC: Add VC: ${name}`);\n    if (!name) { return; }\n    this.visbocenterService.addVisboCenter({ name: name, description: description } as VisboCenter).subscribe(\n      vc => {\n        this.visbocenters.push(vc);\n        this.sortVCTable(undefined);\n        this.alertService.success(`Visbo Center ${vc.name} created successfully`);\n      },\n      error => {\n        this.log(`add VC failed: error: ${error.status} message: ${error.error.message}`);\n        if (error.status == 403) {\n          this.alertService.error(`Permission Denied for Visbo Center ${name}`);\n        } else if (error.status == 409) {\n          this.alertService.error(`Visbo Center Name ${name} already exists or not allowed`);\n        } else {\n          this.alertService.error(error.error.message);\n        }\n      }\n    );\n  }\n\n  delete(visbocenter: VisboCenter): void {\n    // remove item from list\n    this.messageService.add(`VC: Delete VC: ${visbocenter.name} ID: ${visbocenter._id}`);\n    this.visbocenters = this.visbocenters.filter(vc => vc !== visbocenter);\n    this.visbocenterService.deleteVisboCenter(visbocenter).subscribe(\n      error => {\n        this.log(`delete VC failed: error: ${error.status} message: ${error.error.message}`);\n        if (error.status == 403) {\n          this.alertService.error(`Permission Denied: Visbo Center ${name}`);\n        } else {\n          this.alertService.error(error.error.message);\n        }\n      }\n    );\n  }\n\n  gotoDetail(visbocenter: VisboCenter):void {\n    var deleted = visbocenter.deletedAt ? true : false;\n    this.log(`navigate to VC Detail ${visbocenter._id} Deleted ${deleted}`);\n    this.router.navigate(['sysvcDetail/'+visbocenter._id], deleted ? { queryParams: { deleted: deleted }} : {});\n  }\n\n  gotoClickedRow(visbocenter: VisboCenter):void {\n    this.log(`clicked row ${visbocenter.name}`);\n    // check that the user has Permission to see VPs\n    if (this.hasVPPerm(this.permVC.View))\n      this.router.navigate(['sysvp/'+visbocenter._id]);\n  }\n\n  hasSystemPerm(perm: number): boolean {\n    return (this.combinedPerm.system & perm) > 0\n  }\n\n  hasVCPerm(perm: number): boolean {\n    return (this.combinedPerm.vc & perm) > 0\n  }\n\n  hasVPPerm(perm: number): boolean {\n    return (this.combinedPerm.vp & perm) > 0\n  }\n\n  sortVCTable(n) {\n\n    if (!this.visbocenters) return\n    // change sort order otherwise sort same column same direction\n    if (n != undefined || this.sortColumn == undefined) {\n      if (n != this.sortColumn) {\n        this.sortColumn = n;\n        this.sortAscending = undefined;\n      }\n      if (this.sortAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortAscending = n == 1 ? true : false;\n        // console.log(\"Sort VC Column undefined\", this.sortColumn, this.sortAscending)\n      }\n      else this.sortAscending = !this.sortAscending;\n    }\n    // console.log(\"Sort VC Column %d Asc %s\", this.sortColumn, this.sortAscending)\n    if (this.sortColumn == 1) {\n      this.visbocenters.sort(function(a, b) {\n        var result = 0\n        if (a.name.toLowerCase() > b.name.toLowerCase())\n          result = 1;\n        else if (a.name.toLowerCase() < b.name.toLowerCase())\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 2) {\n      this.visbocenters.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.updatedAt > b.updatedAt)\n          result = 1;\n        else if (a.updatedAt < b.updatedAt)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 3) {\n      // sort VP Count\n      this.visbocenters.sort(function(a, b) { return a.vpCount - b.vpCount })\n    }\n    // console.log(\"Sort VC Column %d %s Reverse?\", this.sortColumn, this.sortAscending)\n    if (!this.sortAscending) {\n      this.visbocenters.reverse();\n      // console.log(\"Sort VC Column %d %s Reverse\", this.sortColumn, this.sortAscending)\n    }\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('Sys VisboCenter: ' + message);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAvc3lzdmlzYm9wcm9qZWN0LWRldGFpbC9zeXN2aXNib3Byb2plY3QtZGV0YWlsLmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { ActivatedRoute, Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\n\nimport { FormsModule }   from '@angular/forms';\n\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { MessageService } from '../_services/message.service';\nimport { VisboCenter } from '../_models/visbocenter';\nimport { VGGroup, VGPermission, VGUser, VGUserGroup, VGPSystem, VGPVC, VGPVP } from '../_models/visbogroup';\nimport { VisboCenterService }  from '../_services/visbocenter.service';\nimport { VisboProject } from '../_models/visboproject';\nimport { VisboProjectService }  from '../_services/visboproject.service';\n\n@Component({\n  selector: 'app-sysvisboproject-detail',\n  templateUrl: './sysvisboproject-detail.component.html',\n  styleUrls: ['./sysvisboproject-detail.component.css']\n})\nexport class SysvisboprojectDetailComponent implements OnInit {\n  @Input() visboproject: VisboProject;\n  vgUsers: VGUserGroup[];\n  vgGroups: VGGroup[];\n  vgGroupsInvite: VGGroup[];\n  actGroup: any = {};\n  userIndex: number;\n  groupIndex: number;\n  showGroups: boolean;\n  newUserInvite: any = {};\n\n  combinedPerm: VGPermission = undefined;\n  permSystem: any = VGPSystem;\n  permVC: any = VGPVC;\n  permVP: any = VGPVP;\n  deleted: boolean = false;\n\n  sortUserColumn: number = 1;\n  sortUserAscending: boolean = true;\n  sortGroupColumn: number = 1;\n  sortGroupAscending: boolean = true;\n\n  constructor(\n    private messageService: MessageService,\n    private visbocenterService: VisboCenterService,\n    private authenticationService: AuthenticationService,\n    private route: ActivatedRoute,\n    private visboprojectService: VisboProjectService,\n    private location: Location,\n    private alertService: AlertService,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.combinedPerm = this.visbocenterService.getSysAdminRole()\n    this.getVisboProject();\n    this.getVisboProjectUsers();\n    this.log(`SysAdmin Role: ${JSON.stringify(this.combinedPerm)}`)\n  }\n\n  getVisboProject(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    var currentUser = this.authenticationService.getActiveUser();\n\n    this.log('VisboProject Detail of: ' + id);\n    this.visboprojectService.getVisboProject(id, true)\n      .subscribe(\n        visboproject => {\n          this.visboproject = visboproject\n          this.combinedPerm = visboproject.perm;\n          this.log(`Get VisboProject ${id} Perm ${JSON.stringify(this.combinedPerm)}`)\n        },\n        error => {\n          this.log(`get VPs failed: error: ${error.status} message: ${error.error.message}`);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  gotoVPAudit(visboproject: VisboProject):void {\n    this.log(`GoTo VP Audit ${visboproject.name} ${this.visboproject.name}`)\n    this.router.navigate(['vpAudit/'.concat(visboproject._id)], { queryParams: { sysadmin: 1 }});\n  }\n\n  hasSystemPerm(perm: number): boolean {\n    return (this.combinedPerm.system & perm) > 0\n  }\n\n  hasVCPerm(perm: number): boolean {\n    return (this.combinedPerm.vc & perm) > 0\n  }\n\n  hasVPPerm(perm: number): boolean {\n    return (this.combinedPerm.vp & perm) > 0\n  }\n\n  toggleUserGroup(): void {\n    this.showGroups = !this.showGroups;\n  }\n\n  getVisboProjectUsers(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    var currentUser = this.authenticationService.getActiveUser();\n\n    this.log('VisboProject UserList of: ' + id);\n    this.visboprojectService.getVPUsers(id, true)\n      .subscribe(\n        mix => {\n          this.vgUsers = mix.users;\n          this.vgGroups = mix.groups;\n          this.log(`fetched Users ${this.vgUsers.length}, Groups ${this.vgGroups.length}`)\n          this.sortUserTable();\n          this.sortGroupTable();\n        },\n        error => {\n          this.log(`Get VP Users failed: error: ${error.status} message: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  goBack(): void {\n    this.location.back();\n  }\n\n  delete(visboproject: VisboProject): void {\n    // remove item from list\n    // this.visboprojectService.deleteVisboProject(visboproject).subscribe();\n    // this.goBack();\n    this.visboprojectService.deleteVisboProject(visboproject)\n      .subscribe(\n        () => { this.goBack() },\n        error => {\n          this.log(`delete VP failed: error: ${error.status} message: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Visbo Project ${visboproject.name}`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  gotoVCDetail(visboproject: VisboProject):void {\n    this.router.navigate(['sysvcDetail/'.concat(visboproject.vcid)]);\n  }\n\n  gotoVPList(visboproject: VisboProject):void {\n    this.router.navigate(['sysvp/'.concat(visboproject.vcid)]);\n  }\n\n  save(): void {\n    this.visboprojectService.updateVisboProject(this.visboproject)\n      .subscribe(\n        (vp) => {\n          this.alertService.success(`Visbo Project ${vp.name} updated successfully`, true);\n          this.goBack();\n        },\n        error => {\n          this.log(`save VP failed: error: ${error.status} message: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Visbo Project ${this.visboproject.name}`);\n          } else if (error.status == 409) {\n            this.alertService.error(`Visbo Project ${this.visboproject.name} exists already`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  addNewVPUser(): void {\n    var email = this.newUserInvite.email.trim();\n    var groupName = this.newUserInvite.groupName.trim();\n    var inviteGroup = this.vgGroups.filter(group => group.name == groupName)[0]\n    var groupId = inviteGroup._id;\n    var inviteMessage = '';\n    if (this.newUserInvite.inviteMessage) inviteMessage = this.newUserInvite.inviteMessage.trim();\n    var vpid = this.visboproject._id;\n    this.log(`Add VisboProject User: ${email} Group: ${groupName}/${groupId} VP: ${vpid}`);\n    if (!email || !groupId) { return; }\n    this.visboprojectService.addVPUser(email, groupId, inviteMessage, vpid, true)\n      .subscribe(\n        group => {\n          // Add User to User & Group list\n          var newUserGroup = new VGUserGroup();\n          newUserGroup.userId = group.users.filter(user => user.email == email)[0].userId;\n          newUserGroup.email = email;\n          newUserGroup.groupId = group._id;\n          newUserGroup.groupName = group.name;\n          newUserGroup.groupType = inviteGroup.groupType;\n          newUserGroup.internal = inviteGroup.internal;\n          this.log(`Add VisboCenter User Push: ${JSON.stringify(newUserGroup)}`);\n          this.vgUsers.push(newUserGroup);\n          this.sortUserTable();\n          for (var i=0; i< this.vgGroups.length; i++) {\n            if (this.vgGroups[i]._id == group._id) {\n              this.vgGroups[i] = group;\n              break;\n            }\n          }\n          this.alertService.success(`User ${email} added successfully`);\n        },\n        error => {\n          this.log(`Add VisboProject User error: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Add User to Visbo Project`);\n          } else {\n            this.log(`Error during add VP user ${error.error.message}`); // log to console instead\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  helperRemoveUser(memberIndex: number):void {\n    // this.log(`Remove User Helper: ${userIndex}`);\n    this.userIndex = memberIndex\n  }\n\n  helperRemoveGroup(memberIndex: number):void {\n    this.groupIndex = memberIndex\n  }\n\n  removeVPUser(user: VGUserGroup, vpid: string): void {\n    this.log(`Remove VisboProject User: ${user.email}/${user.userId} Group: ${user.groupName} VP: ${vpid}`);\n    this.visboprojectService.deleteVPUser(user, vpid, true)\n      .subscribe(\n        users => {\n          this.vgUsers = this.vgUsers.filter(vcUser => vcUser !== user);\n          // filter user from vgGroups\n          for (var i=0; i<this.vgGroups.length; i++) {\n            if (this.vgGroups[i]._id == user.groupId) {\n              for (var j=0; j<this.vgGroups[i].users.length; j++) {\n                if (this.vgGroups[i].users[j].userId == user.userId) {\n                  this.vgGroups[i].users.splice(j, 1); // remove item from array\n                  break;\n                }\n              }\n              break;\n            }\n          }\n          this.alertService.success(`User ${user.email} removed successfully`);\n        },\n        error => {\n          this.log(`Remove VisboProject User error: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Remove User from Visbo Project`);\n          } else {\n            this.log(`Error during remove User from VP user ${error.error.message}`); // log to console instead\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  helperVPPerm(newGroup: any): number {\n    var perm: number = 0;\n    if (newGroup.checkedVPView) perm += this.permVP.View;\n    if (newGroup.checkedVPViewAudit) perm += this.permVP.ViewAudit;\n    if (newGroup.checkedVPModify) perm += this.permVP.Modify;\n    if (newGroup.checkedCreateVariant) perm += this.permVP.CreateVariant;\n    if (newGroup.checkedVPManagePerm) perm += this.permVP.ManagePerm;\n    if (newGroup.checkedVPDelete) perm += this.permVP.DeleteVP;\n\n    return perm\n  }\n\n  initGroup(curGroup: VGGroup): void {\n\n    if (curGroup) {\n      this.actGroup.confirm = (curGroup.groupType == 'VP') ? 'Modify' : 'View';\n      this.actGroup.gid = curGroup._id;\n      this.log(`Init Group Set GroupID : ${this.actGroup.gid} ID ${curGroup._id}`);\n      this.actGroup.groupName = curGroup.name;\n      this.actGroup.groupType = curGroup.groupType;\n      this.actGroup.internal = curGroup.internal;\n      this.actGroup.checkGlobal = curGroup.global;\n      this.actGroup.checkedView = (curGroup.permission.vc & this.permVC.View) > 0\n      this.actGroup.checkedViewAudit = (curGroup.permission.vc & this.permVC.ViewAudit) > 0\n      this.actGroup.checkedModify = (curGroup.permission.vc & this.permVC.Modify) > 0\n      this.actGroup.checkedCreateVP = (curGroup.permission.vc & this.permVC.CreateVP) > 0\n      this.actGroup.checkedManagePerm = (curGroup.permission.vc & this.permVC.ManagePerm) > 0\n\n      this.actGroup.checkedVPView = (curGroup.permission.vp & this.permVP.View) > 0\n      this.actGroup.checkedVPViewAudit = (curGroup.permission.vp & this.permVP.ViewAudit) > 0\n      this.actGroup.checkedVPModify = (curGroup.permission.vp & this.permVP.Modify) > 0\n      this.actGroup.checkedCreateVariant = (curGroup.permission.vp & this.permVP.CreateVariant) > 0\n      this.actGroup.checkedVPManagePerm = (curGroup.permission.vp & this.permVP.ManagePerm) > 0\n      this.actGroup.checkedVPDelete = (curGroup.permission.vp & this.permVP.DeleteVP) > 0\n    } else {\n      this.actGroup.confirm = 'Add';\n      this.actGroup.gid = undefined;\n      this.actGroup.groupName = '';\n      this.actGroup.groupType = 'VP';\n      this.actGroup.internal = false;\n      this.actGroup.checkGlobal = false;\n      this.actGroup.checkedView = true;\n    }\n    this.log(`Init Group for Creation / Modification: ${this.actGroup.groupName} ID ${this.actGroup.gid} Action ${this.actGroup.confirm} `);\n\n  }\n\n  addModifyVPGroup(): void {\n    var newGroup = new VGGroup;\n\n    this.log(`Modify VisboProject Group: Group: ${this.actGroup.groupName} VC: ${this.visboproject.vcid} VP: ${this.visboproject._id} }`);\n    newGroup.name = this.actGroup.groupName.trim();\n    newGroup.global = false;\n    newGroup.vcid = this.visboproject.vcid;\n    newGroup.vpids = [];\n    newGroup.vpids.push(this.visboproject._id);\n    newGroup.permission = new VGPermission;\n    newGroup.permission.vp = this.helperVPPerm(this.actGroup);\n\n    if (this.actGroup.gid) {\n      // modify existing Group\n      this.log(`Modify VisboProject Group: Group: ${newGroup.name} VC: ${newGroup.vcid} Perm: ${JSON.stringify(newGroup.permission)}`);\n      newGroup._id = this.actGroup.gid;\n      this.visboprojectService.modifyVPGroup(newGroup)\n        .subscribe(\n          group => {\n            // Add Group to Group list\n            this.log(`Modify VisboProject Group Push: ${JSON.stringify(group)}`);\n            this.vgGroups = this.vgGroups.filter(vgGroup => vgGroup._id !== newGroup._id);\n            this.vgGroups.push(group);\n            // update User List to reflect new Group Name & ID\n            for (var i=0; i < this.vgUsers.length; i++) {\n              if (this.vgUsers[i].groupId == newGroup._id) {\n                this.vgUsers[i].groupName = group.name\n              }\n            }\n            this.sortUserTable();\n            this.sortGroupTable();\n            this.alertService.success(`Group ${group.name} changed successfully`);\n          },\n          error => {\n            this.log(`Modify VisboProject Group error: ${error.error.message}`);\n            if (error.status == 403) {\n              this.alertService.error(`Permission Denied: Modify Group to Visbo Project`);\n            } else {\n              this.log(`Error during modify VP Group ${error.error.message}`); // log to console instead\n              this.alertService.error(error.error.message);\n            }\n          }\n        );\n    } else {\n      // create new Group\n      this.log(`Add VisboCenter Group: Group: ${newGroup.name} VP: ${newGroup.vpids[0]} Perm: ${JSON.stringify(newGroup.permission)}`);\n      this.visboprojectService.addVPGroup(newGroup)\n        .subscribe(\n          group => {\n            // Add Group to Group list\n            // this.log(`Add VisboCenter Group Push: ${JSON.stringify(group)}`);\n            this.vgGroups.push(group);\n            this.alertService.success(`Group ${group.name} added successfully`);\n          },\n          error => {\n            this.log(`Add VisboCenter Group error: ${error.error.message}`);\n            if (error.status == 403) {\n              this.alertService.error(`Permission Denied: Add Group to Visbo Center`);\n            } else {\n              this.log(`Error during add VC Group ${error.error.message}`); // log to console instead\n              this.alertService.error(error.error.message);\n            }\n          }\n        );\n    }\n  }\n\n  sortUserTable(n: number = undefined) {\n\n    if (!this.vgUsers) return\n    // change sort order otherwise sort same column same direction\n    if (n != undefined || this.sortUserColumn == undefined) {\n      if (n != this.sortUserColumn) {\n        this.sortUserColumn = n;\n        this.sortUserAscending = undefined;\n      }\n      if (this.sortUserAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortUserAscending = (n == 1 || n == 2) ? true : false;\n        // console.log(\"Sort VC Column undefined\", this.sortUserColumn, this.sortUserAscending)\n      } else this.sortUserAscending = !this.sortUserAscending;\n    }\n    // this.log(`Sort Users Column ${this.sortUserColumn}`); // log to console instead\n    if (this.sortUserColumn == 1) {\n      // sort user email\n      this.vgUsers.sort(function(a, b) {\n        var result = 0\n        if (a.email > b.email)\n          result = 1;\n        else if (a.email < b.email)\n          result = -1;\n        return result\n      })\n    } else if (this.sortUserColumn == 2) {\n      // sort user group name\n      this.vgUsers.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.groupName.toLowerCase() > b.groupName.toLowerCase())\n          result = 1;\n        else if (a.groupName.toLowerCase() < b.groupName.toLowerCase())\n          result = -1;\n        return result\n      })\n    }\n    // console.log(\"Sort VC Column %d %s Reverse?\", this.sortUserColumn, this.sortUserAscending)\n    if (!this.sortUserAscending) {\n      this.vgUsers.reverse();\n      // console.log(\"Sort VC Column %d %s Reverse\", this.sortUserColumn, this.sortUserAscending)\n    }\n  }\n\n  sortGroupTable(n: number = undefined) {\n\n    if (!this.vgGroups) return\n    // change sort order otherwise sort same column same direction\n    if (n != undefined || this.sortGroupColumn == undefined) {\n      if (n != this.sortGroupColumn) {\n        this.sortGroupColumn = n;\n        this.sortGroupAscending = undefined;\n      }\n      if (this.sortGroupAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortGroupAscending = (n == 1) ? true : false;\n        // console.log(\"Sort VC Column undefined\", this.sortGroupColumn, this.sortGroupAscending)\n      }\n      else this.sortGroupAscending = !this.sortGroupAscending;\n    }\n    // this.log(`Sort Groups Column ${this.sortGroupColumn}`); // log to console instead\n    if (this.sortGroupColumn == 1) {\n      // sort user email\n      this.vgGroups.sort(function(a, b) {\n        var result = 0\n        if (a.name.toLowerCase() > b.name.toLowerCase())\n          result = 1;\n        else if (a.name.toLowerCase() < b.name.toLowerCase())\n          result = -1;\n        return result\n      })\n    } else if (this.sortGroupColumn == 2) {\n      // sort user group name\n      this.vgGroups.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        return b.users.length - a.users.length\n      })\n    }\n    // console.log(\"Sort VC Column %d %s Reverse?\", this.sortGroupColumn, this.sortGroupAscending)\n    if (!this.sortGroupAscending) {\n      this.vgGroups.reverse();\n      // console.log(\"Sort VC Column %d %s Reverse\", this.sortGroupColumn, this.sortGroupAscending)\n    }\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('VisboProjectDetail: ' + message);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\nimport { ActivatedRoute, Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { ErrorObservable } from 'rxjs/observable/ErrorObservable';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\n\nimport { VisboProject } from '../_models/visboproject';\nimport { VisboProjectService } from '../_services/visboproject.service';\nimport { VisboCenter } from '../_models/visbocenter';\nimport { VisboCenterService }  from '../_services/visbocenter.service';\n\nimport { VGPermission, VGPSystem, VGPVC, VGPVP } from '../_models/visbogroup';\n\nimport { LoginComponent } from '../login/login.component';\n\n@Component({\n  selector: 'app-sysvisboprojects',\n  templateUrl: './sysvisboprojects.component.html'\n})\nexport class SysVisboProjectsComponent implements OnInit {\n\n  visboprojects: VisboProject[];\n  vcSelected: string;\n  vcActive: VisboCenter;\n\n  combinedPerm: VGPermission = undefined;\n  permVC: any = VGPVC;\n  permVP: any = VGPVP;\n\n  sortAscending: boolean;\n  sortColumn: number;\n\n  constructor(\n    private authenticationService: AuthenticationService,\n    private messageService: MessageService,\n    private alertService: AlertService,\n    private visboprojectService: VisboProjectService,\n    private visbocenterService: VisboCenterService,\n    private route: ActivatedRoute,\n    //private location: Location,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    // console.log(\"Init VisboProjects\");\n    this.getVisboProjects();\n    this.combinedPerm = this.visbocenterService.getSysAdminRole()\n  }\n\n  onSelect(visboproject: VisboProject): void {\n    this.getVisboProjects();\n  }\n\n  getVisboProjects(): void {\n    this.log(`VP getSysVisboProjects SysAdminRole ${JSON.stringify(this.combinedPerm)}`);\n    const id = this.route.snapshot.paramMap.get('id');\n    var i: number;\n    var currentUser = this.authenticationService.getActiveUser();\n\n    this.vcSelected = id;\n    if (id) {\n      this.visbocenterService.getVisboCenter(id, true)\n        .subscribe(\n          visbocenters => {\n            this.vcActive = visbocenters;\n            this.combinedPerm = visbocenters.perm;\n            this.log(`Get VisboProject for VC ${id} Perm ${JSON.stringify(this.combinedPerm)}`)\n            this.visboprojectService.getVisboProjects(id, true)\n              .subscribe(\n                visboprojects => {\n                  this.visboprojects = visboprojects;\n                  this.sortVPTable(1);\n                },\n                error => {\n                  this.log(`get VPs failed: error:  ${error.status} message: ${error.error.message}`);\n                  this.alertService.error(error.error.message);\n                }\n              );\n          },\n          error => {\n            this.log(`get VC failed: error:  ${error.status} message: ${error.error.message}`);\n            this.alertService.error(error.error.message);\n          }\n        );\n    } else {\n      this.vcSelected = null;\n      this.vcActive = null;\n      this.visboprojectService.getVisboProjects(null, true)\n        .subscribe(\n          visboprojects => {\n            this.visboprojects = visboprojects;\n            this.sortVPTable(1);\n          },\n          error => {\n            this.log(`get VPs all failed: error:  ${error.status} message: ${error.error.message}`);\n            this.alertService.error(error.error.message);\n          }\n        );\n    }\n  }\n\n  // addproject(name: string, vcid: string, desc: string, vpPublic: boolean): void {\n  //   name = name.trim();\n  //   this.log(`call create VP ${name} with VCID ${vcid} Desc ${desc} Public ${vpPublic}`);\n  //   if (!name) { return; }\n  //   this.visboprojectService.addVisboProject({ name: name, description: desc, vpPublic: vpPublic == true, vcid: vcid } as VisboProject).subscribe(\n  //     vp => {\n  //       // console.log(\"add VP %s with ID %s to VC %s\", vp[0].name, vp[0]._id, vp[0].vcid);\n  //       this.visboprojects.push(vp);\n  //       this.sortVPTable(undefined);\n  //       this.alertService.success(`Visbo Project ${vp.name} created successfully`);\n  //     },\n  //     error => {\n  //       this.log(`add VP failed: error: ${error.status} messages: ${error.error.message}`);\n  //       if (error.status == 403) {\n  //         this.alertService.error(`Permission Denied for Visbo Project ${name}`);\n  //       } else if (error.status == 409) {\n  //         // this.alertService.error(`Visbo Project ${name} already exists or not allowed`);\n  //         this.alertService.error('Visbo Project already exists or not allowed');\n  //       } else {\n  //         this.alertService.error(error.error.message);\n  //       }\n  //     }\n  //   );\n  // }\n  //\n  // delete(visboproject: VisboProject): void {\n  //   // remove item from list\n  //   this.visboprojects = this.visboprojects.filter(vp => vp !== visboproject);\n  //   this.visboprojectService.deleteVisboProject(visboproject)\n  //     .subscribe(\n  //       error => {\n  //         // this.log(`delete VP failed: error: ${error.status} messages: ${error.error.message}`);\n  //         if (error.status == 403) {\n  //           this.alertService.error(`Permission Denied: Visbo Project ${name}`, true);\n  //         } else {\n  //           this.alertService.error(error.error.message);\n  //         }\n  //       }\n  //     );\n  // }\n\n  gotoClickedRow(visboproject: VisboProject):void {\n    console.log(\"clicked row %s\", visboproject.name);\n    // this.router.navigate(['vpKeyMetrics/'.concat(visboproject._id)]);\n  }\n\n  gotoDetail(visboproject: VisboProject):void {\n    this.router.navigate(['sysvpDetail/'.concat(visboproject._id)]);\n  }\n\n  gotoVCDetail(visbocenter: VisboCenter):void {\n    this.router.navigate(['sysvcDetail/'.concat(visbocenter._id)]);\n  }\n\n  sortVPTable(n) {\n    if (n != undefined) {\n      if (!this.visboprojects) return\n      if (n != this.sortColumn) {\n        this.sortColumn = n;\n        this.sortAscending = undefined;\n      }\n      if (this.sortAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortAscending = n == 1 || n == 3 ? true : false;\n      }\n      else this.sortAscending = !this.sortAscending;\n    }\n    // console.log(\"Sort VP Column %d Asc %s\", this.sortColumn, this.sortAscending)\n    if (this.sortColumn == 1) {\n      // sort by VP Name\n      this.visboprojects.sort(function(a, b) {\n        var result = 0\n        if (a.name.toLowerCase() > b.name.toLowerCase())\n          result = 1;\n        else if (a.name.toLowerCase() < b.name.toLowerCase())\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 2) {\n      // sort by VP updatedAt\n      this.visboprojects.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.updatedAt > b.updatedAt)\n          result = 1;\n        else if (a.updatedAt < b.updatedAt)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 3) {\n      // sort by VC Name\n      this.visboprojects.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.vc.name.toLowerCase() > b.vc.name.toLowerCase())\n          result = 1;\n        else if (a.vc.name.toLowerCase() < b.vc.name.toLowerCase())\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 4) {\n      // sort by VC vpvCount\n      this.visboprojects.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.vpvCount > b.vpvCount)\n          result = 1;\n        else if (a.vpvCount < b.vpvCount)\n          result = -1;\n        return result\n      })\n    }\n    // console.log(\"Sort VP Column %d %s Reverse?\", this.sortColumn, this.sortAscending)\n    if (!this.sortAscending) {\n      this.visboprojects.reverse();\n      // console.log(\"Sort VP Column %d %s Reverse\", this.sortColumn, this.sortAscending)\n    }\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('VisboProject: ' + message);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAvc3lzdmlzYm9zeXN0ZW0vc3lzdmlzYm9zeXN0ZW0uY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { Location } from '@angular/common';\n//import { ActivatedRoute } from '@angular/router';\nimport { ActivatedRoute, Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\n\nimport { FormsModule }   from '@angular/forms';\n\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { MessageService } from '../_services/message.service';\nimport { VisboCenter } from '../_models/visbocenter';\nimport { VGGroup, VGPermission, VGUser, VGUserGroup, VGPSystem, VGPVC, VGPVP  } from '../_models/visbogroup';\nimport { VisboCenterService }  from '../_services/visbocenter.service';\nimport { VisboProject } from '../_models/visboproject';\nimport { VisboProjectService }  from '../_services/visboproject.service';\n\n@Component({\n  selector: 'app-sysvisbosystem',\n  templateUrl: './sysvisbosystem.component.html',\n  styleUrls: ['./sysvisbosystem.component.css']\n})\nexport class SysvisbosystemComponent implements OnInit {\n\n  visbocenter: VisboCenter;\n  vcUsers: VGUserGroup[];\n  vcGroups: VGGroup[];\n  newUserInvite: any = {};\n  actGroup: any = {};\n  userIndex: number;\n  groupIndex: number;\n  showGroups: boolean;\n\n  combinedPerm: VGPermission = undefined;\n  permSystem: any = VGPSystem;\n  permVC: any = VGPVC;\n  permVP: any = VGPVP;\n\n  sortUserColumn: number = 1;\n  sortUserAscending: boolean = true;\n  sortGroupColumn: number = 1;\n  sortGroupAscending: boolean = true;\n\n  constructor(\n    private messageService: MessageService,\n    private visbocenterService: VisboCenterService,\n    private visboprojectService: VisboProjectService,\n    private route: ActivatedRoute,\n    private location: Location,\n    private router: Router,\n    private authenticationService: AuthenticationService,\n    private alertService: AlertService\n  ) { }\n\n  ngOnInit() {\n    this.log(`Init SysAdmin`)\n    this.getSysVisboCenter();\n    this.combinedPerm = this.visbocenterService.getSysAdminRole()\n  }\n\n  getSysVisboCenter(): void {\n    this.visbocenterService.getSysVisboCenter()\n      .subscribe(\n        vc => {\n          this.visbocenter = vc[0];\n          this.getVisboCenterUsers();\n          this.log(`System VisboCenter initialised ${this.visbocenter._id} Perm Sys ${JSON.stringify(this.combinedPerm)} `)\n        },\n        error => {\n          this.log(`get VC failed: error: ${error.status} message: ${error.error.message} `);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Visbo Center ${this.visbocenter.name}`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  hasSystemPerm(perm: number): boolean {\n    return (this.combinedPerm.system & perm) > 0\n  }\n\n  hasVCPerm(perm: number): boolean {\n    return (this.combinedPerm.vc & perm) > 0\n  }\n\n  hasVPPerm(perm: number): boolean {\n    return (this.combinedPerm.vp & perm) > 0\n  }\n\n  getVisboCenterUsers(): void {\n    const id = this.visbocenter._id\n    var currentUser = this.authenticationService.getActiveUser();\n\n    this.log('VisboCenter UserList of: ' + id);\n    this.visbocenterService.getVCUsers(id, true)\n      .subscribe(\n        mix => {\n          this.vcUsers = mix.users;\n          this.vcGroups = mix.groups;\n          this.log(`fetched Users ${this.vcUsers.length}, Groups ${this.vcGroups.length}`)\n          this.sortUserTable();\n          this.sortGroupTable();\n        },\n        error => {\n          this.log(`Get VC Users failed: error: ${error.status} message: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  gotoVPList(visbocenter: VisboCenter):void {\n    this.router.navigate(['sysvp/'.concat(visbocenter._id)]);\n  }\n\n  goBack(): void {\n    // this.log(`VC Details go Back ${JSON.stringify(this.location)}`)\n    this.location.back();\n  }\n\n  save(): void {\n    this.visbocenterService.updateVisboCenter(this.visbocenter)\n      .subscribe(\n        vc => {\n          this.alertService.success(`Visbo Center ${vc.name} updated successfully`, true);\n          // this.goBack()\n        },\n        error => {\n          this.log(`save VC failed: error: ${error.status} message: ${error.error.message} `);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Visbo Center ${this.visbocenter.name}`);\n          } else if (error.status == 409) {\n            this.alertService.error(`Visbo Center ${this.visbocenter.name} exists already`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  toggleUserGroup(): void {\n    this.showGroups = !this.showGroups;\n  }\n\n  addNewVCUser(): void {\n    var email = this.newUserInvite.email.trim();\n    var groupName = this.newUserInvite.groupName.trim();\n    var groupId = this.vcGroups.filter(group => group.name == groupName)[0]._id;\n    var inviteMessage = '';\n    if (this.newUserInvite.inviteMessage) inviteMessage = this.newUserInvite.inviteMessage.trim();\n    var vcid = this.visbocenter._id;\n    this.log(`Add VisboCenter User: ${email} Group: ${groupName}/${groupId} VC: ${vcid}`);\n    if (!email || !groupId) { return; }\n    this.visbocenterService.addVCUser(email, groupId, inviteMessage, vcid, true )\n      .subscribe(\n        group => {\n          // Add User to User & Group list\n          var newUserGroup = new VGUserGroup();\n          newUserGroup.userId = group.users.filter(user => user.email == email)[0].userId;\n          newUserGroup.email = email;\n          newUserGroup.groupId = group._id;\n          newUserGroup.groupName = group.name;\n          this.log(`Add VisboCenter User Push: ${JSON.stringify(newUserGroup)}`);\n          this.vcUsers.push(newUserGroup);\n          this.sortUserTable();\n          for (var i=0; i< this.vcGroups.length; i++) {\n            if (this.vcGroups[i]._id == group._id) {\n              this.vcGroups[i] = group;\n              break;\n            }\n          }\n          this.alertService.success(`User ${email} added successfully`);\n        },\n        error => {\n          this.log(`Add VisboCenter User error: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Add User to Visbo Center`);\n          } else {\n            this.log(`Error during add VC user ${error.error.message}`); // log to console instead\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  helperRemoveUser(memberIndex: number):void {\n    this.userIndex = memberIndex\n  }\n\n  helperRemoveGroup(memberIndex: number):void {\n    this.groupIndex = memberIndex\n  }\n\n  removeVCUser(user: VGUserGroup, vcid: string): void {\n    this.log(`Remove VisboCenter User: ${user.email}/${user.userId} Group: ${user.groupName} VC: ${vcid}`);\n    this.visbocenterService.deleteVCUser(user, vcid, true)\n      .subscribe(\n        users => {\n          // this.log(`Remove VisboCenter User result: ${JSON.stringify(result)}`);\n          // this.visbocenter.users = users;\n          // filter user from vcUsers\n          this.vcUsers = this.vcUsers.filter(vcUser => vcUser !== user);\n          // filter user from vcGroups\n          for (var i=0; i<this.vcGroups.length; i++) {\n            if (this.vcGroups[i]._id == user.groupId) {\n              for (var j=0; j<this.vcGroups[i].users.length; j++) {\n                if (this.vcGroups[i].users[j].userId == user.userId) {\n                  this.vcGroups[i].users.splice(j, 1); // remove item from array\n                  break;\n                }\n              }\n              break;\n            }\n          }\n          this.alertService.success(`User ${user.email} removed successfully`);\n        },\n        error => {\n          this.log(`Remove VisboCenter User error: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Remove User from Visbo Center`);\n          } else {\n            this.log(`Error during remove VC user ${error.error.message}`); // log to console instead\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  helperSystemPerm(newGroup: any): number {\n    var perm: number = 0;\n    if (newGroup.checkedSystemView) perm += this.permSystem.View;\n    if (newGroup.checkedSystemViewAudit) perm += this.permSystem.ViewAudit;\n    if (newGroup.checkedSystemViewLog) perm += this.permSystem.ViewLog;\n    if (newGroup.checkedSystemModify) perm += this.permSystem.Modify;\n    if (newGroup.checkedSystemCreateVC) perm += this.permSystem.CreateVC;\n    if (newGroup.checkedSystemDeleteVC) perm += this.permSystem.DeleteVC;\n    if (newGroup.checkedSystemManagePerm) perm += this.permSystem.ManagePerm;\n\n    return perm\n  }\n\n  helperVCPerm(newGroup: any): number {\n    var perm: number = 0;\n    if (newGroup.checkedView) perm += this.permVC.View;\n    if (newGroup.checkedViewAudit) perm += this.permVC.ViewAudit;\n    if (newGroup.checkedModify) perm += this.permVC.Modify;\n    if (newGroup.checkedCreateVP) perm += this.permVC.CreateVP;\n    if (newGroup.checkedManagePerm) perm += this.permVC.ManagePerm;\n\n    return perm\n  }\n\n  helperVPPerm(newGroup: any): number {\n    var perm: number = 0;\n    if (newGroup.checkedVPView) perm += this.permVP.View;\n    if (newGroup.checkedVPViewAudit) perm += this.permVP.ViewAudit;\n    if (newGroup.checkedVPModify) perm += this.permVP.Modify;\n    if (newGroup.checkedCreateVariant) perm += this.permVP.CreateVariant;\n    if (newGroup.checkedVPManagePerm) perm += this.permVP.ManagePerm;\n    if (newGroup.checkedVPDelete) perm += this.permVP.DeleteVP;\n\n    return perm\n  }\n\n  initGroup(curGroup: VGGroup): void {\n\n    if (curGroup) {\n      this.actGroup.confirm = 'Modify';\n      this.actGroup.gid = curGroup._id;\n      this.log(`Init Group Set GroupID : ${this.actGroup.gid} ID ${curGroup._id}`);\n      this.actGroup.groupName = curGroup.name;\n      this.actGroup.checkedSystemView = (curGroup.permission.system & this.permSystem.View) > 0\n      this.actGroup.checkedSystemViewAudit = (curGroup.permission.system & this.permSystem.ViewAudit) > 0\n      this.actGroup.checkedSystemViewLog = (curGroup.permission.system & this.permSystem.ViewLog) > 0\n      this.actGroup.checkedSystemModify = (curGroup.permission.system & this.permSystem.Modify) > 0\n      this.actGroup.checkedSystemCreateVC = (curGroup.permission.system & this.permSystem.CreateVC) > 0\n      this.actGroup.checkedSystemDeleteVC = (curGroup.permission.system & this.permSystem.DeleteVC) > 0\n      this.actGroup.checkedSystemManagePerm = (curGroup.permission.system & this.permSystem.ManagePerm) > 0\n\n      this.actGroup.checkGlobal = curGroup.global;\n\n      this.actGroup.checkedView = (curGroup.permission.vc & this.permVC.View) > 0\n      this.actGroup.checkedViewAudit = (curGroup.permission.vc & this.permVC.ViewAudit) > 0\n      this.actGroup.checkedModify = (curGroup.permission.vc & this.permVC.Modify) > 0\n      this.actGroup.checkedCreateVP = (curGroup.permission.vc & this.permVC.CreateVP) > 0\n      this.actGroup.checkedManagePerm = (curGroup.permission.vc & this.permVC.ManagePerm) > 0\n\n      this.actGroup.checkedVPView = (curGroup.permission.vp & this.permVP.View) > 0\n      this.actGroup.checkedVPViewAudit = (curGroup.permission.vp & this.permVP.ViewAudit) > 0\n      this.actGroup.checkedVPModify = (curGroup.permission.vp & this.permVP.Modify) > 0\n      this.actGroup.checkedCreateVariant = (curGroup.permission.vp & this.permVP.CreateVariant) > 0\n      this.actGroup.checkedVPManagePerm = (curGroup.permission.vp & this.permVP.ManagePerm) > 0\n      this.actGroup.checkedVPDelete = (curGroup.permission.vp & this.permVP.DeleteVP) > 0\n    } else {\n      this.actGroup.confirm = 'Add';\n      this.actGroup.gid = undefined;\n      this.actGroup.groupName = '';\n      this.actGroup.checkGlobal = false;\n      this.actGroup.checkedView = true;\n    }\n    this.log(`Init Group for Creation / Modification: ${this.actGroup.groupName} ID ${this.actGroup.gid}`);\n\n  }\n\n  addModifyVCGroup(): void {\n    var newGroup = new VGGroup;\n\n    newGroup.name = this.actGroup.groupName.trim();\n    newGroup.global = this.actGroup.checkGlobal;\n    newGroup.vcid = this.visbocenter._id;\n    newGroup.permission = new VGPermission;\n    newGroup.permission.system = this.helperSystemPerm(this.actGroup);\n    if (newGroup.global) {\n      newGroup.permission.vc = this.helperVCPerm(this.actGroup);\n      newGroup.permission.vp = this.helperVPPerm(this.actGroup);\n    }\n\n    this.log(`Add/Modify VisboCenter Group: Group: ${newGroup.name} New/Modify ${this.actGroup.gid} Perm: ${JSON.stringify(newGroup.permission)}`);\n\n    if (this.actGroup.gid) {\n      // modify existing Group\n      this.log(`Modify VisboCenter Group: Group: ${newGroup.name} VC: ${newGroup.vcid} Perm: ${JSON.stringify(newGroup.permission)}`);\n      newGroup._id = this.actGroup.gid;\n      this.visbocenterService.modifyVCGroup(newGroup, true)\n        .subscribe(\n          group => {\n            // Add Group to Group list\n            // this.log(`Modify VisboCenter Group Push: ${JSON.stringify(group)}`);\n            this.vcGroups = this.vcGroups.filter(vcGroup => vcGroup._id !== newGroup._id);\n            this.vcGroups.push(group);\n            // update User List to reflect new Group Name & ID\n            for (var i=0; i < this.vcUsers.length; i++) {\n              if (this.vcUsers[i].groupId == newGroup._id) {\n                this.vcUsers[i].groupName = group.name\n              }\n            }\n            this.sortUserTable();\n            this.sortGroupTable();\n            this.alertService.success(`Group ${group.name} changed successfully`);\n          },\n          error => {\n            this.log(`Modify VisboCenter Group error: ${error.error.message}`);\n            if (error.status == 403) {\n              this.alertService.error(`Permission Denied: Modify Group to Visbo Center`);\n            } else {\n              this.log(`Error during add VC Group ${error.error.message}`); // log to console instead\n              this.alertService.error(error.error.message);\n            }\n          }\n        );\n    } else {\n      // create new Group\n      this.log(`Add VisboCenter Group: Group: ${newGroup.name} VC: ${newGroup.vcid} Perm: vc ${JSON.stringify(newGroup.permission)}`);\n      this.visbocenterService.addVCGroup(newGroup, true)\n        .subscribe(\n          group => {\n            // Add Group to Group list\n            // this.log(`Add VisboCenter Group Push: ${JSON.stringify(group)}`);\n            this.vcGroups.push(group);\n            this.alertService.success(`Group ${group.name} added successfully`);\n          },\n          error => {\n            this.log(`Add VisboCenter Group error: ${error.error.message}`);\n            if (error.status == 403) {\n              this.alertService.error(`Permission Denied: Add Group to Visbo Center`);\n            } else {\n              this.log(`Error during add VC Group ${error.error.message}`); // log to console instead\n              this.alertService.error(error.error.message);\n            }\n          }\n        );\n    }\n  }\n\n  removeVCGroup(group: VGGroup ): void {\n    this.log(`Remove VisboCenter Group: ${group.name}/${group._id} VC: ${group.vcid}`);\n    this.visbocenterService.deleteVCGroup(group, true)\n      .subscribe(\n        response => {\n          this.log(`Remove VisboCenter Group result: ${JSON.stringify(response)}`);\n          // filter user from vcUsers\n          this.vcGroups = this.vcGroups.filter(vcGroup => vcGroup !== group);\n          this.vcUsers = this.vcUsers.filter(vcUser => vcUser.groupId !== group._id);\n          this.alertService.success(`Group ${group.name} removed successfully`);\n        },\n        error => {\n          this.log(`Remove VisboCenter Group error: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Remove Group from Visbo Center`);\n          } else {\n            this.log(`Error during remove VC user ${error.error.message}`); // log to console instead\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  sortUserTable(n: number = undefined) {\n\n    if (!this.vcUsers) return\n    // change sort order otherwise sort same column same direction\n    if (n != undefined || this.sortUserColumn == undefined ) {\n      if (n != this.sortUserColumn) {\n        this.sortUserColumn = n;\n        this.sortUserAscending = undefined;\n      }\n      if (this.sortUserAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortUserAscending = (n == 1 || n == 2) ? true : false;\n        // console.log(\"Sort VC Column undefined\", this.sortUserColumn, this.sortUserAscending)\n      } else this.sortUserAscending = !this.sortUserAscending;\n    }\n    if (this.sortUserColumn == 1) {\n      // sort user email\n      this.vcUsers.sort(function(a, b) {\n        var result = 0\n        if (a.email > b.email)\n          result = 1;\n        else if (a.email < b.email)\n          result = -1;\n        return result\n      })\n    } else if (this.sortUserColumn == 2) {\n      // sort user group name\n      this.vcUsers.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.groupName.toLowerCase() > b.groupName.toLowerCase())\n          result = 1;\n        else if (a.groupName.toLowerCase() < b.groupName.toLowerCase())\n          result = -1;\n        return result\n      })\n    }\n    // console.log(\"Sort VC Column %d %s Reverse?\", this.sortUserColumn, this.sortUserAscending)\n    if (!this.sortUserAscending) {\n      this.vcUsers.reverse();\n      // console.log(\"Sort VC Column %d %s Reverse\", this.sortUserColumn, this.sortUserAscending)\n    }\n  }\n\n  sortGroupTable(n: number = undefined) {\n\n    if (!this.vcGroups) return\n    // change sort order otherwise sort same column same direction\n    if (n != undefined || this.sortGroupColumn == undefined) {\n      if (n != this.sortGroupColumn) {\n        this.sortGroupColumn = n;\n        this.sortGroupAscending = undefined;\n      }\n      if (this.sortGroupAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortGroupAscending = (n == 1) ? true : false;\n        // console.log(\"Sort VC Column undefined\", this.sortGroupColumn, this.sortGroupAscending)\n      }\n      else this.sortGroupAscending = !this.sortGroupAscending;\n    }\n    // this.log(`Sort Groups Column ${this.sortGroupColumn}`); // log to console instead\n    if (this.sortGroupColumn == 1) {\n      // sort user email\n      this.vcGroups.sort(function(a, b) {\n        var result = 0\n        if (a.name.toLowerCase() > b.name.toLowerCase())\n          result = 1;\n        else if (a.name.toLowerCase() < b.name.toLowerCase())\n          result = -1;\n        return result\n      })\n    } else if (this.sortGroupColumn == 2) {\n      // sort user group name\n      this.vcGroups.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        return b.users.length - a.users.length\n      })\n    }\n    // console.log(\"Sort VC Column %d %s Reverse?\", this.sortGroupColumn, this.sortGroupAscending)\n    if (!this.sortGroupAscending) {\n      this.vcGroups.reverse();\n      // console.log(\"Sort VC Column %d %s Reverse\", this.sortGroupColumn, this.sortGroupAscending)\n    }\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('Sys VisboCenter: ' + message);\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { ActivatedRoute, Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\n\nimport { AlertService } from '../_services/alert.service';\nimport { MessageService } from '../_services/message.service';\n\nimport { UserService } from '../_services/user.service';\nimport { VisboUser, VisboUserProfile, VisboUserResponse } from '../_models/login';\nimport { AuthenticationService } from '../_services/authentication.service';\n\nimport { environment } from '../../environments/environment';\n\n@Component({\n  selector: 'app-userprofile',\n  templateUrl: './userprofile.component.html'\n})\nexport class UserProfileComponent implements OnInit {\n\n  user: VisboUser;\n  model: any = {};\n  modelPw: any = {};\n\n  PWPolicy: string;\n  PWPolicyDescription: string;\n  loading = false;\n\n  constructor(\n    private userService: UserService,\n    private messageService: MessageService,\n    private alertService: AlertService,\n    private route: ActivatedRoute,\n    private authenticationService: AuthenticationService,\n    //private location: Location,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.getPWPolicy();\n    this.log(`Start init User Get Profile `);\n    this.modelPw = {}\n    this.getUserProfile();\n  }\n\n  getUserProfile(): void {\n    this.log(\"User Get Profile\");\n    this.userService.getUserProfile()\n      .subscribe(\n        user => {\n          this.user = user;\n          this.model.email = user.email;\n          this.model.updatedAt = user.updatedAt;\n          if (user.profile) {\n            this.model.firstName = user.profile.firstName;\n            this.model.lastName = user.profile.lastName;\n            this.model.company = user.profile.company;\n            this.model.phone = user.profile.phone;\n          }\n          if (user.status) {\n            this.model.registeredAt = user.status.registeredAt;\n            this.model.lastLoginAt = user.status.lastLoginAt;\n            this.model.lastLoginFailedAt = user.status.lastLoginFailedAt;\n          }\n\n          this.log(`get User Profile success ${user.email}`);\n        },\n        error => {\n          this.log(`get User profile failed: error: ${error.status} message: ${error.error.message}`);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  saveUserProfile(): void {\n    this.loading = true;\n    this.log(`Save profile info now ${this.model.email}`);\n    if (!this.user.profile) this.user.profile = new VisboUserProfile;\n    this.user.profile.firstName = this.model.firstName;\n    this.user.profile.lastName = this.model.lastName;\n    this.user.profile.company = this.model.company;\n    this.user.profile.phone = this.model.phone;\n\n    this.userService.updateUserProfile(this.user)\n      .subscribe(\n        user => {\n          this.log(`Save profile success updatedAt ${user.updatedAt}`);\n          this.user = user;\n          this.model.email = user.email;\n          this.model.updatedAt = user.updatedAt;\n          this.model.firstName = user.profile.firstName;\n          this.model.lastName = user.profile.lastName;\n          this.model.company = user.profile.company;\n          this.model.phone = user.profile.phone;\n          this.model.registeredAt = user.status.registeredAt;\n          this.model.lastLoginAt = user.status.lastLoginAt;\n          this.model.lastLoginFailedAt = user.status.lastLoginFailedAt;\n\n          this.alertService.success(`User Profile updated successfully`, true);\n          this.loading = false;\n        },\n        error => {\n          this.log(`update User profile failed: error: ${error.status} message: ${error.error.message} `);\n          if (error.status == 403) {\n            this.alertService.error('Permission Denied');\n          } else {\n            this.alertService.error(error.error.message);\n          }\n          this.loading = false;\n        }\n      );\n  }\n\n  passwordInit(): void {\n    this.modelPw = {}\n  }\n\n  passwordChange(): void {\n    this.log(`Password Change ${this.model.email} Len Old ${this.modelPw.oldpassword.length} New ${this.modelPw.newpassword.length}`);\n    var model: any = {};\n    model.oldpassword = this.modelPw.oldpassword;\n    model.password = this.modelPw.newpassword;\n\n    this.userService.passwordChange(model)\n      .subscribe(\n        user => {\n          this.log(`Change Password success updatedAt ${user.updatedAt}`);\n          this.user = user;\n          this.model.email = user.email;\n          this.model.updatedAt = user.updatedAt;\n          this.model.firstName = user.profile.firstName;\n          this.model.lastName = user.profile.lastName;\n          this.model.company = user.profile.company;\n          this.model.phone = user.profile.phone;\n          this.model.registeredAt = user.status.registeredAt;\n          this.model.lastLoginAt = user.status.lastLoginAt;\n          this.model.lastLoginFailedAt = user.status.lastLoginFailedAt;\n\n          this.alertService.success(`Password changed successfully`, true);\n        },\n        error => {\n          this.log(`change password failed: error: ${error.status} message: ${error.error.message} `);\n          if (error.status == 403) {\n            this.alertService.error('Permission Denied');\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  userReset(): void {\n    this.getUserProfile();\n  }\n\n  getPWPolicy() {\n    this.authenticationService.initPWPolicy()\n      .subscribe(\n        data => {\n          this.log(`Init PW Policy success ${JSON.stringify(data)}`);\n          this.PWPolicy = data.PWPolicy\n          this.PWPolicyDescription = data.Description\n\n        },\n        error => {\n          this.log(`Init PW Policy Failed: ${error.status} ${error.error.message} `);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('UserProfile: ' + message);\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAvdmlzYm9jZW50ZXItYXVkaXQvdmlzYm9jZW50ZXItYXVkaXQuY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Location } from '@angular/common';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { VisboAudit, VisboAuditActionType, QueryAuditType } from '../_models/visboaudit';\nimport { VisboCenter } from '../_models/visbocenter';\nimport { VisboCenterService } from '../_services/visbocenter.service';\nimport { VisboAuditService } from '../_services/visboaudit.service';\nimport { LoginComponent } from '../login/login.component';\n\nvar encodeCSV = function(source: string): string {\n  var result: string;\n  if (!source) return source;\n  result = source.replace(/\\t/g, \" \");\n  if (result[0] == '='  || result[0] == '+'  || result[0] == '-' ) {\n      result = \"'\".concat(result)\n  }\n  return result;\n}\n\n@Component({\n  selector: 'app-visbocenter-audit',\n  templateUrl: './visbocenter-audit.component.html',\n  styleUrls: ['./visbocenter-audit.component.css']\n})\nexport class VisbocenterAuditComponent implements OnInit {\n\n  @Input() visbocenter: VisboCenter;\n  combinedPerm: any;\n  audit: VisboAudit[];\n  auditIndex: number;\n  auditFrom: Date;\n  auditTo: Date;\n  auditCount: number;\n  auditText: string;\n  showMore: boolean;\n  sortAscending: boolean;\n  sortColumn: number;\n  today: Date;\n  auditType: string;\n  auditTypeAction: string;\n  auditTypeList: any[] = [\n    {name: \"All\", action: \"\"},\n    {name: \"Read\", action: \"GET\"},\n    {name: \"Create\", action: \"POST\"},\n    {name: \"Update\", action: \"PUT\"},\n    {name: \"Delete\", action: \"DELETE\"}\n  ];\n  auditArea: string;\n  auditAreaAction: string;\n  auditAreaList: any[] = [\n    {name: \"All\", action: \"\"},\n    {name: \"Visbo Center\", action: \"vc\"},\n    {name: \"Visbo Project\", action: \"vp\"}\n  ];\n  sysadmin: boolean;\n  deleted: boolean = false;\n\n  constructor(\n    private visboauditService: VisboAuditService,\n    private visbocenterService: VisboCenterService,\n    private authenticationService: AuthenticationService,\n    private messageService: MessageService,\n    private alertService: AlertService,\n    private route: ActivatedRoute,\n    private location: Location,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.sysadmin = this.route.snapshot.queryParams['sysadmin'];\n    this.deleted = this.route.snapshot.queryParams['deleted'] == true;\n    const id = this.route.snapshot.paramMap.get('id');\n    this.visbocenterService.getVisboCenter(id, this.sysadmin, this.deleted)\n      .subscribe(\n        visbocenter => {\n          this.visbocenter = visbocenter;\n          this.combinedPerm = visbocenter.perm;\n          this.log(`VisboCenter initialised ${this.visbocenter._id} Perm ${JSON.stringify(this.combinedPerm)} `)\n        },\n        error => {\n          this.log(`Get VC failed: error: ${error.status} message: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n\n    this.auditCount = 50;\n    this.auditType = this.auditTypeList[0].name;\n    this.auditArea = this.auditAreaList[0].name;\n    this.today = new Date();\n    this.today.setHours(0, 0, 0, 0);\n\n    this.getVisboCenterAudits();\n    this.sortTable(undefined);\n  }\n\n  getVisboCenterAudits(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    var currentUser = this.authenticationService.getActiveUser();\n    var queryAudit = new QueryAuditType;\n    this.log(`Audit getVisboCenterAudits from ${this.auditFrom} to ${this.auditTo} Text ${this.auditText} AuditType ${this.auditType}`);\n    // set date values if not set or adopt to end of day in case of to date\n\n    if (this.auditTo) {\n      queryAudit.to = new Date(this.auditTo)\n    } else {\n      queryAudit.to = new Date()\n    }\n    if (this.auditFrom) {\n      queryAudit.from = new Date(this.auditFrom)\n    } else {\n      // queryAudit.from = new Date(queryAudit.to);\n      // queryAudit.from.setDate(queryAudit.from.getDate()-7);\n      // queryAudit.from.setHours(0, 0, 0, 0);\n    }\n    if (this.auditText) queryAudit.text = this.auditText.trim();\n    for (var i = 0; i < this.auditTypeList.length; i++) {\n      if (this.auditType == this.auditTypeList[i].name) {\n        queryAudit.actionType = this.auditTypeList[i].action;\n        break;\n      }\n    }\n    for (var i = 0; i < this.auditAreaList.length; i++) {\n      if (this.auditArea == this.auditAreaList[i].name) {\n        queryAudit.area = this.auditAreaList[i].action;\n        break;\n      }\n    }\n    queryAudit.maxcount = this.auditCount;\n\n    this.log(`Audit getVisboCenterAudits VC ${id} recalc Query ${JSON.stringify(queryAudit)}`);\n    this.visboauditService.getVisboCenterAudits(id, this.sysadmin, this.deleted, queryAudit)\n      .subscribe(\n        audit => {\n          this.audit = audit;\n          this.sortTable(undefined);\n          this.log('get Audit success');\n        },\n        error => {\n          this.log(`get Audit failed: error: ${error.status} message: ${error.error.message}`);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  downloadVisboAudit():void {\n    this.log(`sysAudit Download ${this.audit.length} Items`);\n    var data: string;\n    var separator = \"\\t\"\n    var lineItem: string\n    var userAgent: string\n    data = 'sep=' + separator + '\\n'  // to force excel to use the separator\n    data = data + 'date' + separator\n          + 'time UTC' + separator\n          + 'email' + separator\n          + 'actiondDescription' + separator\n          + 'action' + separator\n          + 'url' + separator\n          + 'actionInfo' + separator\n          + 'responseTime' + separator\n          + 'responseStatus' + separator\n          + 'vcid' + separator\n          + 'vcname' + separator\n          + 'vpid' + separator\n          + 'vpname' + separator\n          + 'vpvid' + separator\n          + 'size' + separator\n          + 'ip' + separator\n          + 'userId' + separator\n          + 'userAgent' + separator\n          + 'ttl' + separator\n          + 'VC Details' + separator\n          + 'VP Details' + '\\n';\n    var createdAt;\n    for (var i = 0; i < this.audit.length; i++) {\n      createdAt = new Date(this.audit[i].createdAt).toISOString();\n      userAgent = (this.audit[i].userAgent|| '').replace(/,/g, \";\");\n      lineItem = createdAt.substr(0, 10) + separator\n                  + createdAt.substr(11, 8) + separator\n                  + encodeCSV(this.audit[i].user.email) + separator\n                  + encodeCSV(this.audit[i].actionDescription) + separator\n                  + this.audit[i].action + separator\n                  + this.audit[i].url + separator\n                  + this.audit[i].actionInfo + separator\n                  + (this.audit[i].result ? this.audit[i].result.time : '') + separator\n                  + (this.audit[i].result ? this.audit[i].result.status : '') + separator\n                  + (this.audit[i].vc ? this.audit[i].vc.vcid : '') + separator\n                  + (this.audit[i].vc ? encodeCSV(this.audit[i].vc.name) : '') + separator\n                  + (this.audit[i].vp ? this.audit[i].vp.vpid : '') + separator\n                  + (this.audit[i].vp ? encodeCSV(this.audit[i].vp.name) : '') + separator\n                  + (this.audit[i].vpv ? this.audit[i].vpv.vpvid : '') + separator\n                  + (this.audit[i].result ? this.audit[i].result.size : '0') + separator\n                  + this.audit[i].ip + separator\n                  + this.audit[i].user.userId + separator\n                  + encodeCSV(userAgent) + separator\n                  + (this.audit[i].ttl || '') + separator\n                  + (this.audit[i].vc ? (encodeCSV(this.audit[i].vc.vcjson) || '') : '') + separator\n                  + (this.audit[i].vp ? (encodeCSV(this.audit[i].vp.vpjson) || '') : '') + '\\n';\n      data = data.concat(lineItem)\n    }\n    this.log(`VC Audit CSV Len ${data.length} `);\n    var blob = new Blob([data], { type: 'text/plain' });\n    var url= window.URL.createObjectURL(blob);\n    this.log(`Open URL ${url}`);\n    var fileName = `auditlog-VC.csv`\n    var a = document.createElement(\"a\");\n    document.body.appendChild(a);\n    a.href = url;\n    a.download = fileName;\n    this.log(`Open URL ${url} doc ${JSON.stringify(a)}`);\n    a.click();\n    window.URL.revokeObjectURL(url);\n  }\n\n  helperAuditIndex(auditIndex: number):void {\n    // this.log(`Remove User Helper: ${userIndex}`);\n    this.auditIndex = auditIndex\n  }\n\n  helperFormatBytes(a, b = 2):string {\n    if(0 == a)\n      return \"0 B\";\n    var c = 1024, d = b || 2;\n    var e = [\"B\",\"KB\",\"MB\",\"GB\",\"TB\",\"PB\",\"EB\",\"ZB\",\"YB\"];\n    var f = Math.floor(Math.log(a)/Math.log(c));\n    return parseFloat((a/Math.pow(c,f)).toFixed(d))+\" \"+e[f]\n  }\n\n  pageAuditIndex(increment: number): void {\n    var newAuditIndex: number;\n    newAuditIndex = this.auditIndex + increment;\n    if (newAuditIndex < 0) newAuditIndex = 0\n    if (newAuditIndex >= this.audit.length) newAuditIndex = this.audit.length-1\n    this.auditIndex = newAuditIndex\n  }\n\n  helperResponseText(visboaudit: VisboAudit): string {\n    if (visboaudit.result.statusText) return visboaudit.result.statusText;\n    var status = visboaudit.result.status\n    if (status == \"200\") return \"Success\"\n    if (status == \"304\") return \"Success\"\n    if (status == \"400\") return \"Bad Request\"\n    if (status == \"401\") return \"Not Authenticated\"\n    if (status == \"403\") return \"Permission Denied\"\n    if (status == \"404\") return \"URL not found\"\n    if (status == \"409\") return \"Conflict\"\n    if (status == \"423\") return \"Locked\"\n    if (status == \"500\") return \"Server Error\"\n    return status.toString()\n  }\n\n  helperShortenText(text: string, len: number): string {\n    if (!text || !len || len < 5 || text.length <= len)\n      return (text);\n    return text.substring(0,20).concat('...', text.substring(text.length-7, text.length));\n  }\n\n  goBack(): void {\n    // this.log(`VC Details go Back ${JSON.stringify(this.location)}`)\n    this.location.back();\n  }\n\n  toggleDetail() {\n    this.log(`Toggle ShowMore`);\n    this.showMore = !this.showMore;\n  }\n\n  isToday(checkDate: string): Boolean {\n    // this.log(`Check Date ${checkDate} ${this.today.toISOString()}`);\n    return new Date(checkDate) > this.today\n  }\n\n  sortTable(n) {\n    if (!this.audit) return\n    this.log(`Sort Table Column ${n}`)\n    // change sort order otherwise sort same column same direction\n    if (n != undefined) {\n      // sort a different column\n      if (n != this.sortColumn) {\n        this.sortColumn = n;\n        this.sortAscending = undefined;\n      } else if (this.sortAscending != undefined)\n        this.sortAscending = !this.sortAscending;\n    } else {\n      this.sortColumn = 1\n      this.sortAscending = undefined;\n    }\n    if (this.sortAscending == undefined) {\n      // sort name column ascending, number values desc first\n      this.sortAscending = (n == 2 || n == 3 || n == 4) ? true : false;\n      // console.log(\"Sort VC Column undefined\", this.sortColumn, this.sortAscending)\n    }\n    // console.log(\"Sort VC Column %d Asc %s\", this.sortColumn, this.sortAscending)\n    if (this.sortColumn == 1) {\n      this.audit.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.createdAt > b.createdAt)\n          result = 1;\n        else if (a.createdAt < b.createdAt)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 2) {\n      this.audit.sort(function(a, b) {\n        var result = 0\n        if (a.user.email.toLowerCase() > b.user.email.toLowerCase())\n          result = 1;\n        else if (a.user.email.toLowerCase() < b.user.email.toLowerCase())\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 3) {\n      this.audit.sort(function(a, b) {\n        var result = 0\n        if (a.action > b.action)\n          result = 1;\n        else if (a.action < b.action)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 4) {\n      this.audit.sort(function(a, b) {\n        var result = 0\n        if (a.url > b.url)\n          result = 1;\n        else if (a.url < b.url)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 5) {\n      // sort Result\n      // this.audit.sort(function(a, b) { return a.result.status.toValue() - b.result.status.toValue() })\n      this.audit.sort(function(a, b) {\n        var result = 0\n        if (a.result.status > b.result.status)\n          result = 1;\n        else if (a.result.status < b.result.status)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 6) {\n      this.audit.sort(function(a, b) {\n        return a.result.time - b.result.time;\n      })\n    } else if (this.sortColumn == 7) {\n      this.audit.sort(function(a, b) {\n        return (a.result.size || 0) - (b.result.size || 0);\n      })\n    }\n    // console.log(\"Sort VC Column %d %s Reverse?\", this.sortColumn, this.sortAscending)\n    if (!this.sortAscending) {\n      this.audit.reverse();\n      // console.log(\"Sort VC Column %d %s Reverse\", this.sortColumn, this.sortAscending)\n    }\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('VC Audit: ' + message);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAvdmlzYm9jZW50ZXItZGV0YWlsL3Zpc2JvY2VudGVyLWRldGFpbC5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Location } from '@angular/common';\n\nimport { FormsModule }   from '@angular/forms';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\n\nimport { VGGroup, VGPermission, VGUser, VGUserGroup, VGProjectUserGroup, VGPVC, VGPVP } from '../_models/visbogroup';\nimport { VisboCenter } from '../_models/visbocenter';\nimport { VisboCenterService } from '../_services/visbocenter.service';\n\n@Component({\n  selector: 'app-visbocenter-detail',\n  templateUrl: './visbocenter-detail.component.html',\n  styleUrls: ['./visbocenter-detail.component.css']\n})\nexport class VisbocenterDetailComponent implements OnInit {\n\n  @Input() visbocenter: VisboCenter;\n  vgUsers: VGUserGroup[];\n  vgGroups: VGGroup[];\n  vgVPUsers: VGProjectUserGroup[];\n  newUserInvite: any = {};\n  actGroup: any = {};\n  userIndex: number;\n  groupIndex: number;\n  showGroups: boolean;\n  showProjectUsers: boolean;\n\n  combinedPerm: VGPermission = undefined;\n  permVC: any = VGPVC;\n  permVP: any = VGPVP;\n\n  sortUserColumn: number = 1;\n  sortUserAscending: boolean = true;\n  sortVPUserColumn: number = 1;\n  sortVPUserAscending: boolean = true;\n  sortGroupColumn: number = 1;\n  sortGroupAscending: boolean = true;\n\n  constructor(\n    private messageService: MessageService,\n    private visbocenterService: VisboCenterService,\n    private route: ActivatedRoute,\n    private location: Location,\n    private router: Router,\n    private authenticationService: AuthenticationService,\n    private alertService: AlertService\n  ) { }\n\n  ngOnInit() {\n    this.getVisboCenter();\n    this.getVisboCenterUsers();\n  }\n\n  getVisboCenter(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    var currentUser = this.authenticationService.getActiveUser();\n\n    // this.log(`VisboCenter Detail of: ${id}`);\n    // this.log(`VisboCenter Detail of: ${id} permVCDef ${this.permVC[\"2\"]} ${this.permVC.ViewAudit}`);\n    this.visbocenterService.getVisboCenter(id)\n      .subscribe(\n        visbocenter => {\n          this.visbocenter = visbocenter;\n          this.combinedPerm = visbocenter.perm;\n          this.log(`VisboCenter initialised ${this.visbocenter._id} Perm ${JSON.stringify(this.combinedPerm)} `)\n        },\n        error => {\n          this.log(`Get VC failed: error: ${error.status} message: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  hasVCPerm(perm: number): boolean {\n    if (this.combinedPerm == undefined) return false\n    return (this.combinedPerm.vc & perm) > 0\n  }\n\n  getVCPerm(): number {\n    if (this.combinedPerm == undefined) return 0\n    return this.combinedPerm.vc\n  }\n\n  hasVPPerm(perm: number): boolean {\n    if (this.combinedPerm == undefined) return false\n    return (this.combinedPerm.vp & perm) > 0\n  }\n\n  getVisboCenterUsers(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    var currentUser = this.authenticationService.getActiveUser();\n\n    this.log('VisboCenter UserList of: ' + id);\n    this.visbocenterService.getVCUsers(id)\n      .subscribe(\n        mix => {\n          this.vgUsers = mix.users;\n          this.vgGroups = mix.groups;\n          this.vgVPUsers = mix.vpusers;\n          this.log(`fetched Users ${this.vgUsers.length}, Groups ${this.vgGroups.length} Project Users ${this.vgVPUsers.length}`)\n          this.sortUserTable();\n          this.sortGroupTable();\n        },\n        error => {\n          this.log(`Get VC Users failed: error: ${error.status} message: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  gotoVCAudit(visbocenter: VisboCenter):void {\n    this.router.navigate(['vcAudit/'.concat(visbocenter._id)]);\n  }\n\n  goBack(): void {\n    // this.log(`VC Details go Back ${JSON.stringify(this.location)}`)\n    this.location.back();\n  }\n\n  gotoVPList(visbocenter: VisboCenter):void {\n    this.router.navigate(['vp/'.concat(visbocenter._id)]);\n  }\n\n  gotoVPDetail(vpid: string):void {\n    this.router.navigate(['vpDetail/'.concat(vpid)]);\n  }\n\n  save(): void {\n    this.visbocenterService.updateVisboCenter(this.visbocenter)\n      .subscribe(\n        vc => {\n          this.alertService.success(`Visbo Center ${vc.name} updated successfully`, true);\n          this.goBack()\n        },\n        error => {\n          this.log(`save VC failed: error: ${error.status} message: ${error.error.message} `);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Visbo Center ${this.visbocenter.name}`);\n          } else if (error.status == 409) {\n            this.alertService.error(`Visbo Center ${this.visbocenter.name} exists already`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  delete(visbocenter: VisboCenter): void {\n    this.log(`Delete VC: ${visbocenter.name} ID: ${visbocenter._id}`);\n    this.visbocenterService.deleteVisboCenter(visbocenter)\n      .subscribe(\n        vc => {\n          this.alertService.success(`Visbo Center ${visbocenter.name} deleted successfully`, true);\n          this.goBack()\n        },\n        error => {\n          this.log(`delete VC failed: error: ${error.status} message: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Visbo Center ${visbocenter.name}`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  toggleUserGroup(): void {\n    this.showProjectUsers = false;\n    this.showGroups = !this.showGroups;\n  }\n\n  showProjectUser(): void {\n    this.showProjectUsers = true;\n  }\n\n  addNewVCUser(): void {\n    var email = this.newUserInvite.email.trim();\n    var groupName = this.newUserInvite.groupName.trim();\n    var inviteGroup = this.vgGroups.filter(group => group.name == groupName)[0]\n    var groupId = inviteGroup._id;\n    var inviteMessage = '';\n    if (this.newUserInvite.inviteMessage) inviteMessage = this.newUserInvite.inviteMessage.trim();\n    var vcid = this.visbocenter._id\n    this.log(`Add VisboCenter User: ${email} Group: ${groupName}/${groupId} VC: ${vcid}`);\n    if (!email || !groupId) { return; }\n    this.visbocenterService.addVCUser(email, groupId, inviteMessage, vcid )\n      .subscribe(\n        group => {\n          // Add User to User & Group list\n          var newUserGroup = new VGUserGroup();\n          newUserGroup.userId = group.users.filter(user => user.email == email)[0].userId;\n          newUserGroup.email = email;\n          newUserGroup.groupId = group._id;\n          newUserGroup.groupName = group.name;\n          newUserGroup.groupType = inviteGroup.groupType;\n          newUserGroup.internal = inviteGroup.internal;\n          this.log(`Add VisboCenter User Push: ${JSON.stringify(newUserGroup)}`);\n          this.vgUsers.push(newUserGroup);\n          this.sortUserTable();\n          for (var i=0; i< this.vgGroups.length; i++) {\n            if (this.vgGroups[i]._id == group._id) {\n              this.vgGroups[i] = group;\n              break;\n            }\n          }\n          this.alertService.success(`User ${email} added successfully`);\n        },\n        error => {\n          this.log(`Add VisboCenter User error: ${JSON.stringify(error)}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Add User to Visbo Center`);\n          } else if (error.error) {\n            this.log(`Error during add VC user ${error.error.message}`); // log to console instead\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  helperRemoveUser(memberIndex: number):void {\n    this.userIndex = memberIndex\n  }\n\n  helperRemoveGroup(memberIndex: number):void {\n    this.groupIndex = memberIndex\n  }\n\n  removeVCUser(user: VGUserGroup, vcid: string): void {\n    this.log(`Remove VisboCenter User: ${user.email}/${user.userId} Group: ${user.groupName} VC: ${vcid}`);\n    this.visbocenterService.deleteVCUser(user, vcid)\n      .subscribe(\n        users => {\n          // this.log(`Remove VisboCenter User result: ${JSON.stringify(result)}`);\n          // this.visbocenter.users = users;\n          // filter user from vgUsers\n          this.vgUsers = this.vgUsers.filter(vcUser => vcUser !== user);\n          // filter user from vgGroups\n          for (var i=0; i<this.vgGroups.length; i++) {\n            if (this.vgGroups[i]._id == user.groupId) {\n              for (var j=0; j<this.vgGroups[i].users.length; j++) {\n                if (this.vgGroups[i].users[j].userId == user.userId) {\n                  this.vgGroups[i].users.splice(j, 1); // remove item from array\n                  break;\n                }\n              }\n              break;\n            }\n          }\n          this.alertService.success(`User ${user.email} removed successfully`);\n        },\n        error => {\n          this.log(`Remove VisboCenter User error: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Remove User from Visbo Center`);\n          } else {\n            this.log(`Error during remove VC user ${error.error.message}`); // log to console instead\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  helperVCPerm(newGroup: any): number {\n    var perm: number = 0;\n    if (newGroup.checkedView) perm += this.permVC.View;\n    if (newGroup.checkedViewAudit) perm += this.permVC.ViewAudit;\n    if (newGroup.checkedModify) perm += this.permVC.Modify;\n    if (newGroup.checkedCreateVP) perm += this.permVC.CreateVP;\n    if (newGroup.checkedManagePerm) perm += this.permVC.ManagePerm;\n\n    return perm\n  }\n\n  helperVPPerm(newGroup: any): number {\n    var perm: number = 0;\n    if (newGroup.checkedVPView) perm += this.permVP.View;\n    if (newGroup.checkedVPViewAudit) perm += this.permVP.ViewAudit;\n    if (newGroup.checkedVPModify) perm += this.permVP.Modify;\n    if (newGroup.checkedCreateVariant) perm += this.permVP.CreateVariant;\n    if (newGroup.checkedVPManagePerm) perm += this.permVP.ManagePerm;\n    if (newGroup.checkedVPDelete) perm += this.permVP.DeleteVP;\n\n    return perm\n  }\n\n  initGroup(curGroup: VGGroup): void {\n\n    if (curGroup) {\n      this.actGroup.confirm = (curGroup.groupType == 'VC') ? 'Modify' : 'View';\n      this.actGroup.gid = curGroup._id;\n      this.log(`Init Group Set GroupID : ${this.actGroup.gid} ID ${curGroup._id}`);\n      this.actGroup.groupName = curGroup.name;\n      this.actGroup.groupType = curGroup.groupType;\n      this.actGroup.internal = curGroup.internal;\n      this.actGroup.checkGlobal = curGroup.global;\n      this.actGroup.checkedView = (curGroup.permission.vc & this.permVC.View) > 0\n      this.actGroup.checkedViewAudit = (curGroup.permission.vc & this.permVC.ViewAudit) > 0\n      this.actGroup.checkedModify = (curGroup.permission.vc & this.permVC.Modify) > 0\n      this.actGroup.checkedCreateVP = (curGroup.permission.vc & this.permVC.CreateVP) > 0\n      this.actGroup.checkedManagePerm = (curGroup.permission.vc & this.permVC.ManagePerm) > 0\n\n      this.actGroup.checkedVPView = (curGroup.permission.vp & this.permVP.View) > 0\n      this.actGroup.checkedVPViewAudit = (curGroup.permission.vp & this.permVP.ViewAudit) > 0\n      this.actGroup.checkedVPModify = (curGroup.permission.vp & this.permVP.Modify) > 0\n      this.actGroup.checkedCreateVariant = (curGroup.permission.vp & this.permVP.CreateVariant) > 0\n      this.actGroup.checkedVPManagePerm = (curGroup.permission.vp & this.permVP.ManagePerm) > 0\n      this.actGroup.checkedVPDelete = (curGroup.permission.vp & this.permVP.DeleteVP) > 0\n    } else {\n      this.actGroup.confirm = 'Add';\n      this.actGroup.gid = undefined;\n      this.actGroup.groupName = '';\n      this.actGroup.groupType = 'VC';\n      this.actGroup.internal = false;\n      this.actGroup.checkGlobal = false;\n      this.actGroup.checkedView = true;\n    }\n    this.log(`Init Group for Creation / Modification: ${this.actGroup.groupName} ID ${this.actGroup.gid} Action ${this.actGroup.confirm} `);\n  }\n\n  addModifyVCGroup(): void {\n    var newGroup = new VGGroup;\n\n    newGroup.name = this.actGroup.groupName.trim();\n    newGroup.global = this.actGroup.checkGlobal;\n    newGroup.vcid = this.visbocenter._id;\n    newGroup.permission = new VGPermission;\n    newGroup.permission.vc = this.helperVCPerm(this.actGroup);\n    newGroup.permission.vp = this.helperVPPerm(this.actGroup);\n\n    this.log(`Add/Modify VisboCenter Group: Group: ${newGroup.name} New/Modify ${this.actGroup.gid}`);\n\n    if (this.actGroup.gid) {\n      // modify existing Group\n      this.log(`Modify VisboCenter Group: Group: ${newGroup.name} VC: ${newGroup.vcid} Perm: vc ${newGroup.permission.vc} vp ${newGroup.permission.vp}`);\n      newGroup._id = this.actGroup.gid;\n      this.visbocenterService.modifyVCGroup(newGroup)\n        .subscribe(\n          group => {\n            // Add Group to Group list\n            // this.log(`Modify VisboCenter Group Push: ${JSON.stringify(group)}`);\n            this.vgGroups = this.vgGroups.filter(vgGroup => vgGroup._id !== newGroup._id);\n            this.vgGroups.push(group);\n            // update User List to reflect new Group Name & ID\n            for (var i=0; i < this.vgUsers.length; i++) {\n              if (this.vgUsers[i].groupId == newGroup._id) {\n                this.vgUsers[i].groupName = group.name\n              }\n            }\n            this.sortUserTable();\n            this.sortGroupTable();\n            this.alertService.success(`Group ${group.name} changed successfully`);\n          },\n          error => {\n            this.log(`Modify VisboCenter Group error: ${error.error.message}`);\n            if (error.status == 403) {\n              this.alertService.error(`Permission Denied: Modify Group to Visbo Center`);\n            } else {\n              this.log(`Error during modify VC Group ${error.error.message}`); // log to console instead\n              this.alertService.error(error.error.message);\n            }\n          }\n        );\n    } else {\n      // create new Group\n      this.log(`Add VisboCenter Group: Group: ${newGroup.name} VC: ${newGroup.vcid} Perm: vc ${newGroup.permission.vc} vp ${newGroup.permission.vp}`);\n      this.visbocenterService.addVCGroup(newGroup)\n        .subscribe(\n          group => {\n            // Add Group to Group list\n            // this.log(`Add VisboCenter Group Push: ${JSON.stringify(group)}`);\n            this.vgGroups.push(group);\n            this.alertService.success(`Group ${group.name} added successfully`);\n          },\n          error => {\n            this.log(`Add VisboCenter Group error: ${error.error.message}`);\n            if (error.status == 403) {\n              this.alertService.error(`Permission Denied: Add Group to Visbo Center`);\n            } else {\n              this.log(`Error during add VC Group ${error.error.message}`); // log to console instead\n              this.alertService.error(error.error.message);\n            }\n          }\n        );\n    }\n  }\n\n  removeVCGroup(group: VGGroup ): void {\n    this.log(`Remove VisboCenter Group: ${group.name}/${group._id} VC: ${group.vcid}`);\n    this.visbocenterService.deleteVCGroup(group)\n      .subscribe(\n        response => {\n          this.log(`Remove VisboCenter Group result: ${JSON.stringify(response)}`);\n          // filter user from vgUsers\n          this.vgGroups = this.vgGroups.filter(vgGroup => vgGroup !== group);\n          this.vgUsers = this.vgUsers.filter(vcUser => vcUser.groupId !== group._id);\n          this.alertService.success(`Group ${group.name} removed successfully`);\n        },\n        error => {\n          this.log(`Remove VisboCenter Group error: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Remove Group from Visbo Center`);\n          } else {\n            this.log(`Error during remove VC user ${error.error.message}`); // log to console instead\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  sortUserTable(n: number = undefined) {\n\n    if (!this.vgUsers) return\n    // change sort order otherwise sort same column same direction\n    if (n != undefined || this.sortUserColumn == undefined) {\n      if (n != this.sortUserColumn) {\n        this.sortUserColumn = n;\n        this.sortUserAscending = undefined;\n      }\n      if (this.sortUserAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortUserAscending = (n == 1 || n == 2) ? true : false;\n        // console.log(\"Sort VC Column undefined\", this.sortUserColumn, this.sortUserAscending)\n      } else this.sortUserAscending = !this.sortUserAscending;\n    }\n    // this.log(`Sort Users Column ${this.sortUserColumn}`); // log to console instead\n    if (this.sortUserColumn == 1) {\n      // sort user email\n      this.vgUsers.sort(function(a, b) {\n        var result = 0\n        if (a.email > b.email)\n          result = 1;\n        else if (a.email < b.email)\n          result = -1;\n        return result\n      })\n    } else if (this.sortUserColumn == 2) {\n      // sort user group name\n      this.vgUsers.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.groupName.toLowerCase() > b.groupName.toLowerCase())\n          result = 1;\n        else if (a.groupName.toLowerCase() < b.groupName.toLowerCase())\n          result = -1;\n        return result\n      })\n    }\n    // console.log(\"Sort VC Column %d %s Reverse?\", this.sortUserColumn, this.sortUserAscending)\n    if (!this.sortUserAscending) {\n      this.vgUsers.reverse();\n      // console.log(\"Sort VC Column %d %s Reverse\", this.sortUserColumn, this.sortUserAscending)\n    }\n  }\n\n  sortVPUserTable(n: number = undefined) {\n    // this.log(`Sort VPUsers Column ${n||0}`); // log to console instead\n    if (!this.vgVPUsers) return\n    // change sort order otherwise sort same column same direction\n    if (n != undefined || this.sortVPUserColumn == undefined) {\n      if (n != this.sortVPUserColumn) {\n        this.sortVPUserColumn = n;\n        this.sortVPUserAscending = undefined;\n      }\n      if (this.sortVPUserAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortVPUserAscending = (n == 1 || n == 2) ? true : false;\n        // console.log(\"Sort VC Column undefined\", this.sortVPUserColumn, this.sortVPUserAscending)\n      } else this.sortVPUserAscending = !this.sortVPUserAscending;\n    }\n    this.log(`Sort VP Users Column ${this.sortVPUserColumn} Asc: ${this.sortVPUserAscending}`); // log to console instead\n    if (this.sortVPUserColumn == 1) {\n      // sort user email\n      this.log(`Sort VP Users `); // log to console instead\n      this.vgVPUsers.sort(function(a, b) {\n        var result = 0\n        console.log(`Sort VP Users JSON ${JSON.stringify(a)}`); // log to console instead\n\n        if (a.users.email > b.users.email)\n          result = 1;\n        else if (a.users.email < b.users.email)\n          result = -1;\n        return result\n      })\n    } else if (this.sortVPUserColumn == 2) {\n      // sort project name\n      this.vgVPUsers.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.vp.name.toLowerCase() > b.vp.name.toLowerCase())\n          result = 1;\n        else if (a.vp.name.toLowerCase() < b.vp.name.toLowerCase())\n          result = -1;\n        return result\n      })\n    }\n    this.log(`Sort VP Users Column ${this.sortVPUserColumn} Reverse: ${this.sortVPUserAscending}`); // log to console instead\n    if (!this.sortVPUserAscending) {\n      this.vgVPUsers.reverse();\n      // console.log(\"Sort VC Column %d %s Reverse\", this.sortVPUserColumn, this.sortVPUserAscending)\n    }\n  }\n\n  sortGroupTable(n: number = undefined) {\n    if (!this.vgGroups) return\n    // change sort order otherwise sort same column same direction\n    if (n != undefined || this.sortGroupColumn == undefined) {\n      if (n != this.sortGroupColumn) {\n        this.sortGroupColumn = n;\n        this.sortGroupAscending = undefined;\n      }\n      if (this.sortGroupAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortGroupAscending = (n == 1) ? true : false;\n        // console.log(\"Sort VC Column undefined\", this.sortGroupColumn, this.sortGroupAscending)\n      }\n      else this.sortGroupAscending = !this.sortGroupAscending;\n    }\n    // this.log(`Sort Groups Column ${this.sortGroupColumn}`); // log to console instead\n    if (this.sortGroupColumn == 1) {\n      // sort user email\n      this.vgGroups.sort(function(a, b) {\n        var result = 0\n        if (a.name.toLowerCase() > b.name.toLowerCase())\n          result = 1;\n        else if (a.name.toLowerCase() < b.name.toLowerCase())\n          result = -1;\n        return result\n      })\n    } else if (this.sortGroupColumn == 2) {\n      // sort user group name\n      this.vgGroups.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        return b.users.length - a.users.length\n      })\n    }\n    // console.log(\"Sort VC Column %d %s Reverse?\", this.sortGroupColumn, this.sortGroupAscending)\n    if (!this.sortGroupAscending) {\n      this.vgGroups.reverse();\n      // console.log(\"Sort VC Column %d %s Reverse\", this.sortGroupColumn, this.sortGroupAscending)\n    }\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('VisboCenter Details: ' + message);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n//import { ActivatedRoute } from '@angular/router';\nimport { ActivatedRoute, Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { ErrorObservable } from 'rxjs/observable/ErrorObservable';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { VisboCenter } from '../_models/visbocenter';\nimport { VisboCenterService } from '../_services/visbocenter.service';\nimport { LoginComponent } from '../login/login.component';\n\n@Component({\n  selector: 'app-visbocenters',\n  templateUrl: './visbocenters.component.html'\n})\nexport class VisboCentersComponent implements OnInit {\n\n  visbocenters: VisboCenter[];\n  sysvisbocenter: VisboCenter;\n  sortAscending: boolean;\n  sortColumn: number;\n\n  constructor(\n    private visbocenterService: VisboCenterService,\n    private authenticationService: AuthenticationService,\n    private messageService: MessageService,\n    private alertService: AlertService,\n    private route: ActivatedRoute,\n    //private location: Location,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.getVisboCenters();\n  }\n\n  onSelect(visbocenter: VisboCenter): void {\n    this.getVisboCenters();\n  }\n\n  getVisboCenters(): void {\n    // this.log(\"VC getVisboCenters\");\n    this.visbocenterService.getVisboCenters()\n      .subscribe(\n        visbocenters => {\n          this.visbocenters = visbocenters;\n          this.sortVCTable(1);\n          this.log('get VCs success');\n\n        },\n        error => {\n          this.log(`get VCs failed: error: ${error.status} message: ${error.error.message}`);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  add(name: string, description: string): void {\n    name = name.trim();\n    description = description.trim();\n    this.log(`VC: Add VC: ${name}`);\n    if (!name) { return; }\n    this.visbocenterService.addVisboCenter({ name: name, description: description } as VisboCenter).subscribe(\n      vc => {\n        this.visbocenters.push(vc);\n        this.sortVCTable(undefined);\n        this.alertService.success(`Visbo Center ${vc.name} created successfully`);\n      },\n      error => {\n        this.log(`add VC failed: error: ${error.status} message: ${error.error.message}`);\n        if (error.status == 403) {\n          this.alertService.error(`Permission Denied for Visbo Center ${name}`);\n        } else if (error.status == 409) {\n          this.alertService.error(`Visbo Center Name ${name} already exists or not allowed`);\n        } else {\n          this.alertService.error(error.error.message);\n        }\n      }\n    );\n  }\n\n  delete(visbocenter: VisboCenter): void {\n    // remove item from list\n    this.messageService.add(`VC: Delete VC: ${visbocenter.name} ID: ${visbocenter._id}`);\n    this.visbocenters = this.visbocenters.filter(vc => vc !== visbocenter);\n    this.visbocenterService.deleteVisboCenter(visbocenter).subscribe(\n      error => {\n        // this.log(`delete VC failed: error: ${JSON.stringify(error)}`);\n        this.log(`delete VC failed: error: ${error.status} message: ${error.error.message}`);\n        if (error.status == 403) {\n          this.alertService.error(`Permission Denied: Visbo Center ${name}`);\n        } else {\n          this.alertService.error(error.error.message);\n        }\n      }\n    );\n  }\n\n  gotoDetail(visbocenter: VisboCenter):void {\n    this.router.navigate(['vcDetail/'+visbocenter._id]);\n  }\n\n  gotoClickedRow(visbocenter: VisboCenter):void {\n    // this.log(`clicked row ${visbocenter.name}`);\n    this.router.navigate(['vp/'+visbocenter._id]);\n  }\n\n  sortVCTable(n) {\n\n    if (!this.visbocenters) return\n    // change sort order otherwise sort same column same direction\n    if (n != undefined || this.sortColumn == undefined) {\n      if (n != this.sortColumn) {\n        this.sortColumn = n;\n        this.sortAscending = undefined;\n      }\n      if (this.sortAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortAscending = n == 1 ? true : false;\n        // console.log(\"Sort VC Column undefined\", this.sortColumn, this.sortAscending)\n      }\n      else this.sortAscending = !this.sortAscending;\n    }\n    // console.log(\"Sort VC Column %d Asc %s\", this.sortColumn, this.sortAscending)\n    if (this.sortColumn == 1) {\n      this.visbocenters.sort(function(a, b) {\n        var result = 0\n        if (a.name.toLowerCase() > b.name.toLowerCase())\n          result = 1;\n        else if (a.name.toLowerCase() < b.name.toLowerCase())\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 2) {\n      this.visbocenters.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.updatedAt > b.updatedAt)\n          result = 1;\n        else if (a.updatedAt < b.updatedAt)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 3) {\n      // sort VP Count\n      this.visbocenters.sort(function(a, b) { return a.vpCount - b.vpCount })\n    }\n    // console.log(\"Sort VC Column %d %s Reverse?\", this.sortColumn, this.sortAscending)\n    if (!this.sortAscending) {\n      this.visbocenters.reverse();\n      // console.log(\"Sort VC Column %d %s Reverse\", this.sortColumn, this.sortAscending)\n    }\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('VisboCenter: ' + message);\n  }\n}\n","import { Component, OnInit, Input, OnChanges, SimpleChanges } from '@angular/core';\n\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport * as moment from 'moment';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { VisboProjectService } from '../_services/visboproject.service';\n\nimport { VisboProject } from '../_models/visboproject';\nimport { VisboProjectVersion, VPVKeyMetrics, VPVKeyMetricsCalc } from '../_models/visboprojectversion';\nimport { VisboPortfolioVersion } from '../_models/visboportfolioversion';\nimport { VisboProjectVersionService } from '../_services/visboprojectversion.service';\n\nimport { VGGroup, VGPermission, VGUser, VGUserGroup, VGPVC, VGPVP } from '../_models/visbogroup';\n\n@Component({\n  selector: 'app-visboportfolio-versions',\n  templateUrl: './visboportfolio-versions.component.html'\n})\nexport class VisboPortfolioVersionsComponent implements OnInit {\n\n    visboportfolioversions: VisboPortfolioVersion[];\n    visboprojectversions: VisboProjectVersion[];\n    visbokeymetrics: VPVKeyMetricsCalc[] = [];\n\n    dropDown: any[] = [];\n    dropDownSelected: string;\n    dropDownValue: number;\n\n    colorMetric: any[] = [{name: \"Critical\", color: 'red'}, {name: \"Warning\", color: 'yellow'}, {name: \"Good\", color: 'green'} ];\n\n    typeMetricList: any[] = [\n      {name: \"Total Cost\", metric: \"Costs\"},\n      {name: \"Change in End Date (weeks)\", metric: \"EndDate\"},\n      {name: \"Achieved Deadlines\", metric: \"Deadlines\"},\n      {name: \"Achieved Deliveries\", metric: \"Deliveries\"}\n    ];\n    typeMetricX: string = this.typeMetricList[0].name;\n    typeMetricY: string = this.typeMetricList[1].name;\n\n    typeMetricChartX: string = this.typeMetricList[0].metric;\n    typeMetricChartY: string = this.typeMetricList[1].metric;\n\n    vpSelected: string;\n    vpFilter: string = \"\";\n    vpActive: VisboProject;\n    vpfActive: VisboPortfolioVersion;\n    vpvRefDate: Date = new Date();\n    refDateInterval: string = \"month\";\n    vpfActiveIndex: number;\n    deleted: boolean = false;\n    chart: boolean = true;\n    tempList: boolean = undefined;\n    tempChart: boolean;\n    tempDate: Date;\n    chartButton: string;\n    parentThis: any;\n    showChart: boolean = true;\n    graphBubbleData: any[] = [];\n    graphBubbleOptions: any = undefined;\n    graphBubbleLabelX: string;\n    graphBubbleLabelY: string;\n\n    sortAscending: boolean;\n    sortColumn: number = 6;\n\n    combinedPerm: VGPermission = undefined;\n    permVC: any = VGPVC;\n    permVP: any = VGPVP;\n\n  constructor(\n    private visboprojectversionService: VisboProjectVersionService,\n    private visboprojectService: VisboProjectService,\n    private messageService: MessageService,\n    private alertService: AlertService,\n    private route: ActivatedRoute,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.showChartOption(true);\n    this.getVisboPortfolioVersions();\n  }\n\n  hasVPPerm(perm: number): boolean {\n    if (this.combinedPerm == undefined) return false\n    return (this.combinedPerm.vp & perm) > 0\n  }\n\n  getVisboPortfolioVersions(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    this.parentThis = this;\n    var i: number;\n    this.vpSelected = id;\n    this.log(`get VP name if ID is used ${id}`);\n    if (id) {\n      this.visboprojectService.getVisboProject(id)\n        .subscribe(\n          visboproject => {\n            this.vpActive = visboproject;\n            this.combinedPerm = visboproject.perm;\n            this.log(`get VP name if ID is used ${this.vpActive.name} Perm ${JSON.stringify(this.combinedPerm)}`);\n            this.visboprojectversionService.getVisboPortfolioVersions(id, this.deleted)\n              .subscribe(\n                visboportfolioversions => {\n                  this.visboportfolioversions = visboportfolioversions;\n                  this.log(`get VPF ${this.vpActive.name} Length ${visboportfolioversions.length} Perm ${JSON.stringify(this.combinedPerm)}`);\n                  this.vpfActive = visboportfolioversions[0];\n                  this.vpfActiveIndex = visboportfolioversions.length;\n                  if (visboportfolioversions.length > 0) {\n                    // this.combinedPerm = visboportfolioversions[0].perm;\n                    this.dropDownInit();\n                    this.getVisboPortfolioKeyMetrics();\n                    this.log(`get VPF Index ${this.vpfActiveIndex}`);\n                    this.log(`get VPF ${this.vpActive.name} Length ${visboportfolioversions.length} First ${visboportfolioversions[0].timestamp} Last ${visboportfolioversions[visboportfolioversions.length-1].timestamp} Perm ${JSON.stringify(this.combinedPerm)}`);\n                  }\n                },\n                error => {\n                  this.log(`get VPVs failed: error: ${error.status} message: ${error.error.message}`);\n                  if (error.status == 403) {\n                    this.alertService.error(`Permission Denied for Visbo Project Versions`);\n                  } else {\n                    this.alertService.error(error.error.message);\n                  }\n                }\n              );\n          },\n          error => {\n            this.log(`get VPV VP failed: error: ${error.status} message: ${error.error.message}`);\n            if (error.status == 403) {\n              this.alertService.error(`Permission Denied for Visbo Project`);\n            } else {\n              this.alertService.error(error.error.message);\n            }\n        });\n    } else {\n      this.vpSelected = null;\n      this.vpActive = null;\n      this.visboprojectversionService.getVisboPortfolioVersions(null)\n        .subscribe(\n          visboportfolioversions => this.visboportfolioversions = visboportfolioversions,\n          error => {\n            this.log(`get VPVs failed: error: ${error.status} message: ${error.error.message}`);\n            if (error.status == 403) {\n              this.alertService.error(`Permission Denied for Visbo Project Versions`);\n            } else {\n              this.alertService.error(error.error.message);\n            }\n          }\n        );\n    }\n  }\n\n  getVisboPortfolioKeyMetrics(): void {\n    var showChart = this.showChart\n    this.log(`get VPF keyMetrics ${this.vpfActive.name} ${this.vpfActive._id}`);\n    this.showChart = false;\n\n    this.visboprojectversionService.getVisboPortfolioKeyMetrics(this.vpfActive._id, this.vpvRefDate)\n      .subscribe(\n        visboprojectversions => {\n          this.visboprojectversions = visboprojectversions;\n          this.log(`get VPF Key metrics: Get ${visboprojectversions.length} Project Versions`);\n          this.visboKeyMetricsCalc();\n          if (this.hasVPPerm(this.permVP.ViewAudit)) {\n            this.showChartOption(showChart);\n          } else {\n            this.showChartOption(false);\n          }\n          this.showChart = true;\n        },\n        error => {\n          this.log(`get VPVs failed: error: ${error.status} message: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied for Visbo Portfolio KeyMetrics`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  getRefDateVersions(increment: number): void {\n    this.log(`get getRefDateVersions ${this.vpvRefDate} ${increment}`);\n    var newRefDate = new Date(this.vpvRefDate.getTime());\n    switch(this.refDateInterval) {\n      case 'day':\n        newRefDate.setDate(newRefDate.getDate() + increment)\n        break;\n      case 'week':\n        newRefDate.setDate(newRefDate.getDate() + increment * 7)\n        break;\n      case 'month':\n        newRefDate.setMonth(newRefDate.getMonth() + increment)\n        break;\n      case 'quarter':\n        // newRefDate.setMinutes(newRefDate.getMinutes() + increment) // to force quarter skip\n        var quarter = Math.trunc((newRefDate.getMonth() + 1) / 3);\n        if (increment > 0) quarter += increment;\n        newRefDate.setMonth(quarter * 3)\n        newRefDate.setDate(1);\n        newRefDate.setHours(0, 0, 0, 0);\n        var diff = newRefDate.getTime() - this.vpvRefDate.getTime()\n        if (diff == 0) {\n          newRefDate.setMonth(newRefDate.getMonth() + increment * 3)\n        }\n        break;\n    }\n    this.log(`get getRefDateVersions Quarter ${newRefDate} ${increment}`);\n    var today = new Date();\n    if (newRefDate > today) { newRefDate = today }\n    this.log(`get getRefDateVersions Quarter ${newRefDate} ${increment}`);\n    this.vpvRefDate = new Date(newRefDate.toISOString()); // to guarantee that the item is refreshed in UI\n    this.getVisboPortfolioKeyMetrics();\n  }\n\n  visboKeyMetricsCalc(): void {\n    // Calculate the keyMetrics Values to show in Chart and List\n    this.visbokeymetrics = [];\n\n    if (!this.visboprojectversions) return;\n    // this.log(`calc keyMetrics LEN ${this.visboprojectversions.length}`);\n    var vpFilter = (this.vpFilter || '').toLowerCase();\n    for (var i = 0; i < this.visboprojectversions.length; i++) {\n      if (!vpFilter\n        || this.visboprojectversions[i].name.toLowerCase().indexOf(vpFilter) >= 0\n        || (this.visboprojectversions[i].VorlagenName || '').toLowerCase().indexOf(vpFilter) >= 0\n        || (this.visboprojectversions[i].businessUnit || '').toLowerCase().indexOf(vpFilter) >= 0\n        || (this.visboprojectversions[i].leadPerson || '').toLowerCase().indexOf(vpFilter) >= 0\n        || (this.visboprojectversions[i].description || '').toLowerCase().indexOf(vpFilter) >= 0\n      ) {\n        if (this.visboprojectversions[i].keyMetrics) {\n          var elementKeyMetric: VPVKeyMetricsCalc = new VPVKeyMetricsCalc();\n          elementKeyMetric.name = this.visboprojectversions[i].name;\n          elementKeyMetric._id = this.visboprojectversions[i]._id;\n          elementKeyMetric.vpid = this.visboprojectversions[i].vpid;\n          elementKeyMetric.timestamp = this.visboprojectversions[i].timestamp;\n          elementKeyMetric.keyMetrics = this.visboprojectversions[i].keyMetrics;\n          // Calculate Saving Cost in % of Total, limit the results to be between -100 and 100\n          elementKeyMetric.savingCostTotal = (elementKeyMetric.keyMetrics.costCurrentTotal || 0) / (elementKeyMetric.keyMetrics.costBaseLastTotal || 1) || 0;\n          // if (elementKeyMetric.savingCostTotal > 2) elementKeyMetric.savingCostTotal = 2;\n          elementKeyMetric.savingCostActual = (elementKeyMetric.keyMetrics.costCurrentActual || 0) / (elementKeyMetric.keyMetrics.costBaseLastActual || 1) || 0;\n          // if (elementKeyMetric.savingCostActual > 2) elementKeyMetric.savingCostActual = 2;\n\n          // Calculate Saving EndDate in number of weeks related to BaseLine, limit the results to be between -20 and 20\n          elementKeyMetric.savingEndDate = this.helperDateDiff(\n            (new Date(elementKeyMetric.keyMetrics.endDateCurrent).toISOString()),\n            (new Date(elementKeyMetric.keyMetrics.endDateBaseLast).toISOString()), 'w') || 0;\n            elementKeyMetric.savingEndDate = Math.round(elementKeyMetric.savingEndDate);\n\n          // Calculate the Deadlines Completion\n          elementKeyMetric.timeCompletionTotal = (elementKeyMetric.keyMetrics.timeCompletionCurrentTotal || 0) / (elementKeyMetric.keyMetrics.timeCompletionBaseLastTotal || 1) || 0;\n          elementKeyMetric.timeCompletionActual = (elementKeyMetric.keyMetrics.timeCompletionCurrentActual || 0) / (elementKeyMetric.keyMetrics.timeCompletionBaseLastActual || 1) || 0;\n\n          // Calculate the Delivery Completion\n          elementKeyMetric.deliveryCompletionTotal = (elementKeyMetric.keyMetrics.deliverableCompletionCurrentTotal || 0) / (elementKeyMetric.keyMetrics.deliverableCompletionBaseLastTotal || 1) || 0;\n          elementKeyMetric.deliveryCompletionActual = (elementKeyMetric.keyMetrics.deliverableCompletionCurrentActual || 0) / (elementKeyMetric.keyMetrics.deliverableCompletionBaseLastActual || 1) || 0;\n\n          this.visbokeymetrics.push(elementKeyMetric)\n        }\n      } else {\n        // this.log(`Remove ${this.visboprojectversions[i].name} Vorlage ${this.visboprojectversions[i].VorlagenName} BU ${this.visboprojectversions[i].businessUnit} Lead ${this.visboprojectversions[i].leadPerson} Desc ${this.visboprojectversions[i].description} vs  by Filter  ${this.vpFilter}`);\n      }\n    }\n    this.sortKeyMetricsTable(undefined);\n    this.visboKeyMetricsCalcBubble();\n  }\n\n  changeChart() {\n    this.log(`Switch Chart from ${this.typeMetricChartX} vs  ${this.typeMetricChartY} to ${this.typeMetricX} vs  ${this.typeMetricY}`);\n    this.typeMetricChartX = this.typeMetricList.find(x => x.name == this.typeMetricX).metric;\n    this.typeMetricChartY = this.typeMetricList.find(x => x.name == this.typeMetricY).metric;\n    this.visboKeyMetricsCalc();\n    this.showChart = true;\n  }\n\n  drawChart(visible: boolean) {\n    this.showChart = visible;\n  }\n\n  visboKeyMetricsCalcBubble(): void {\n    this.graphBubbleOptions = {\n        // 'chartArea':{'left':20,'top':0,'width':'100%','height':'100%'},\n        'width': '100%',\n        // 'title':'Key Metrics: Total Cost vs. End Date Plan vs. Base Line',\n        // 'colorAxis': {'colors': ['red', 'yellow', 'green'], 'minValue': 0, 'maxValue': 2, 'legend': {'position': 'none'}},\n        // 'vAxis': {'title': 'Delayed \\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0 End date (weeks) \\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0 Ahead', 'baselineColor': 'blue'},\n        'vAxis': {'direction': -1, 'title': 'Change in End Date (weeks)', 'baselineColor': 'blue'},\n        'hAxis': {'baseline': 1, 'direction': -1, 'format': 'percent', 'title': 'Total Cost', 'baselineColor': 'blue'},\n        // 'sizeAxis': {'minValue': 20, 'maxValue': 200},\n        // 'chartArea':{'left':20,'top':30,'width':'100%','height':'90%'},\n        'explorer': {'actions': ['dragToZoom', 'rightClickToReset'], 'maxZoomIn': .01},\n        'bubble': { 'textStyle': { 'auraColor': 'none', 'fontSize': 13 } },\n        'tooltip': { 'showColorCode': false }\n      };\n\n    this.graphBubbleAxis(); // set the Axis Description and properties\n\n    var keyMetrics: any = [];\n    if (!this.visbokeymetrics) return;\n    if (this.visbokeymetrics.length > 20) this.graphBubbleOptions.bubble.textStyle.fontSize = 1\n    keyMetrics.push(['ID', this.graphBubbleLabelX, this.graphBubbleLabelY, 'Key Metrics Status', 'Total Cost (Base Line) in k\\u20AC']);\n    for (var i = 0; i < this.visbokeymetrics.length; i++) {\n      // var colorValue = (this.visbokeymetrics[i].savingCostTotal <= 1 ? 1 : 0) +\n      //                   (this.visbokeymetrics[i].savingEndDate <= 0 ? 1 : 0);\n      var colorValue = 0;\n      var valueX: number;\n      var valueY: number;\n      switch (this.typeMetricChartX) {\n        case 'Costs':\n          valueX = this.visbokeymetrics[i].savingCostTotal;\n          colorValue += valueX <= 1 ? 1 : 0;\n          break;\n        case 'EndDate':\n          valueX = this.visbokeymetrics[i].savingEndDate;\n          colorValue += valueX <= 0 ? 1 : 0;\n          break;\n        case 'Deadlines':\n          valueX = this.visbokeymetrics[i].timeCompletionActual;\n          colorValue += valueX >= 1 ? 1 : 0;\n          break;\n        case 'Deliveries':\n          valueX = this.visbokeymetrics[i].deliveryCompletionActual;\n          colorValue += valueX >= 1 ? 1 : 0;\n          break;\n      }\n      switch (this.typeMetricChartY) {\n        case 'Costs':\n          valueY = this.visbokeymetrics[i].savingCostTotal;\n          colorValue += valueY <= 1 ? 1 : 0;\n          break;\n        case 'EndDate':\n          valueY = this.visbokeymetrics[i].savingEndDate;\n          colorValue += valueY <= 0 ? 1 : 0;\n          break;\n        case 'Deadlines':\n          valueY = this.visbokeymetrics[i].timeCompletionActual;\n          colorValue += valueY >= 1 ? 1 : 0;\n          break;\n        case 'Deliveries':\n          valueY = this.visbokeymetrics[i].deliveryCompletionActual;\n          colorValue += valueY >= 1 ? 1 : 0;\n          break;\n      }\n\n      keyMetrics.push([\n        this.visbokeymetrics[i].name,\n        valueX,\n        valueY,\n        this.colorMetric[colorValue].name,\n        Math.trunc(this.visbokeymetrics[i].keyMetrics.costBaseLastTotal)\n      ])\n    }\n    this.calcRangeAxis();\n    this.graphBubbleData = keyMetrics;\n  }\n\n  calcRangeAxis(): void {\n    var rangeAxis: number = 0;\n    var minSize: number = Infinity, maxSize: number = 0;\n\n    for (var i=0; i < this.visbokeymetrics.length; i++) {\n      minSize = Math.min(minSize, this.visbokeymetrics[i].keyMetrics.costBaseLastTotal)\n      maxSize = Math.max(maxSize, this.visbokeymetrics[i].keyMetrics.costBaseLastTotal)\n      switch (this.typeMetricChartX) {\n        case 'Costs':\n          rangeAxis = Math.max(rangeAxis, Math.abs(this.visbokeymetrics[i].savingCostTotal-1));\n          break;\n        case 'EndDate':\n          rangeAxis = Math.max(rangeAxis, Math.abs(this.visbokeymetrics[i].savingEndDate));\n          break;\n        case 'Deadlines':\n          rangeAxis = Math.max(rangeAxis, Math.abs(this.visbokeymetrics[i].timeCompletionActual-1));\n          break;\n        case 'Deliveries':\n          rangeAxis = Math.max(rangeAxis, Math.abs(this.visbokeymetrics[i].deliveryCompletionActual-1));\n          break;\n      }\n    }\n    // Set the Min/Max Values for the Size of the bubbles decreased/increased by 20%\n    // minSize = Math.max(minSize - 100, 0)\n    // maxSize += 100;\n    minSize *= 0.8\n    maxSize *= 1.2;\n    if (!this.graphBubbleOptions.sizeAxis) this.graphBubbleOptions.sizeAxis = {};\n    this.graphBubbleOptions.sizeAxis.minValue = minSize;\n    this.graphBubbleOptions.sizeAxis.maxValue = maxSize;\n\n    if (this.typeMetricChartX == 'EndDate') {\n      rangeAxis *= 1.1;\n      this.graphBubbleOptions.hAxis.minValue = -rangeAxis;\n      this.graphBubbleOptions.hAxis.maxValue = rangeAxis;\n    } else {\n      rangeAxis *= 1.1;\n      this.graphBubbleOptions.hAxis.minValue = 1-rangeAxis;\n      this.graphBubbleOptions.hAxis.maxValue = 1+rangeAxis;\n    }\n\n    rangeAxis = 0;\n    for (var i=0; i < this.visbokeymetrics.length; i++) {\n      switch (this.typeMetricChartY) {\n        case 'Costs':\n          rangeAxis = Math.max(rangeAxis, Math.abs(this.visbokeymetrics[i].savingCostTotal-1));\n          break;\n        case 'EndDate':\n          rangeAxis = Math.max(rangeAxis, Math.abs(this.visbokeymetrics[i].savingEndDate));\n          break;\n        case 'Deadlines':\n          rangeAxis = Math.max(rangeAxis, Math.abs(this.visbokeymetrics[i].timeCompletionActual-1));\n          break;\n        case 'Deliveries':\n          rangeAxis = Math.max(rangeAxis, Math.abs(this.visbokeymetrics[i].deliveryCompletionActual-1));\n          break;\n      }\n    }\n    if (this.typeMetricChartY == 'EndDate') {\n      rangeAxis *= 1.1;\n      this.graphBubbleOptions.vAxis.minValue = -rangeAxis;\n      this.graphBubbleOptions.vAxis.maxValue = rangeAxis;\n    } else {\n      rangeAxis *= 1.1;\n      this.graphBubbleOptions.vAxis.minValue = 1-rangeAxis;\n      this.graphBubbleOptions.vAxis.maxValue = 1+rangeAxis;\n    }\n  }\n\n  graphBubbleAxis(): void {\n    switch (this.typeMetricChartX) {\n      case 'Costs':\n        this.graphBubbleOptions.hAxis = {'baseline': 1, 'direction': -1, 'format': 'percent', 'title': 'Total Cost', 'minValue': -110, 'maxValue': 110, 'baselineColor': 'blue'};\n        this.graphBubbleLabelX = 'Planned Total Cost in %';\n        break;\n      case 'EndDate':\n        this.graphBubbleOptions.hAxis = {'baseline': 0, 'direction': -1, 'title': 'Change in End Date (weeks)', 'minValue': -110, 'maxValue': 110, 'baselineColor': 'blue'};\n        this.graphBubbleLabelX = 'Change in End Date (Weeks)';\n        break;\n      case 'Deadlines':\n        this.graphBubbleOptions.hAxis = {'baseline': 1, 'direction': 1, 'format': 'percent', 'title': 'Achieved Deadlines', 'minValue': -110, 'maxValue': 110, 'baselineColor': 'blue'};\n        this.graphBubbleLabelX = 'Achieved Deadlines in %';\n        break;\n      case 'Deliveries':\n        this.graphBubbleOptions.hAxis = {'baseline': 1, 'direction': 1, 'format': 'percent', 'title': 'Achieved Deliveries', 'minValue': -110, 'maxValue': 110, 'baselineColor': 'blue'};\n        this.graphBubbleLabelX = 'Achieved Deliveries in %';\n        break;\n    }\n    switch (this.typeMetricChartY) {\n      case 'Costs':\n        this.graphBubbleOptions.vAxis = {'baseline': 1, 'direction': -1, 'format': 'percent', 'title': 'Total Cost', 'minValue': -110, 'maxValue': 110, 'baselineColor': 'blue'};\n        this.graphBubbleLabelY = 'Planned Total Cost in %';\n        break;\n      case 'EndDate':\n        this.graphBubbleOptions.vAxis = {'baseline': 0, 'direction': -1, 'title': 'Change in End Date (weeks)', 'minValue': -110, 'maxValue': 110, 'baselineColor': 'blue'};\n        this.graphBubbleLabelY = 'Change in End Date (Weeks)';\n        break;\n      case 'Deadlines':\n        this.graphBubbleOptions.vAxis = {'baseline': 1, 'direction': 1, 'format': 'percent', 'title': 'Achieved Deadlines', 'minValue': -110, 'maxValue': 110, 'baselineColor': 'blue'};\n        this.graphBubbleLabelY = 'Achieved Deadlines in %';\n      break;\n      case 'Deliveries':\n        this.graphBubbleOptions.vAxis = {'baseline': 1, 'direction': 1, 'format': 'percent', 'title': 'Achieved Deliveries', 'minValue': -110, 'maxValue': 110, 'baselineColor': 'blue'};\n        this.graphBubbleLabelY = 'Achieved Deliveries in %';\n        break;\n    }\n    this.graphBubbleOptions.series = {};\n    this.graphBubbleOptions.series.Critical = {color: this.colorMetric[0].color};\n    this.graphBubbleOptions.series.Warning = {color: this.colorMetric[1].color};\n    this.graphBubbleOptions.series.Good = {color: this.colorMetric[2].color};\n    // this.log(`Series: ${JSON.stringify(this.graphBubbleOptions.series)}`)\n  }\n\n  // get the details of the project\n  gotoVPDetail(visboproject: VisboProject):void {\n    var deleted = visboproject.deletedAt ? true : false;\n    this.log(`goto Detail for VP ${visboproject._id}`);\n    this.router.navigate(['vpDetail/'.concat(visboproject._id)], deleted ? { queryParams: { deleted: deleted }} : {});\n  }\n\n  gotoClickedRow(vpv: VPVKeyMetricsCalc):void {\n    this.log(`goto VP ${vpv.name} (${vpv.vpid}) Deleted? ${this.deleted}`);\n    this.router.navigate(['vpKeyMetrics/'.concat(vpv.vpid)], this.deleted ? { queryParams: { deleted: this.deleted }} : {});\n  }\n\n  gotoVC(visboproject: VisboProject):void {\n    this.router.navigate(['vp/'.concat(visboproject.vcid)]);\n  }\n\n  chartSelectRow(row: number, label: string) {\n    // this.log(`Bubble Chart: ${row} ${label}`);\n    var vpv = this.visbokeymetrics.find(x => x.name == label)\n\n    this.log(`Navigate to: ${vpv.vpid} ${vpv.name}`);\n    this.router.navigate(['vpKeyMetrics/'.concat(vpv.vpid)], this.deleted ? { queryParams: { deleted: this.deleted }} : {});\n  }\n\n  dropDownInit() {\n    this.log(`Init Drop Down List ${this.visboportfolioversions.length}`);\n    this.dropDown = [];\n    var len = this.visboportfolioversions.length;\n\n    for (var i = 0; i < len; i++) {\n      var timestamp = new Date(this.visboportfolioversions[i].timestamp);\n      var text = 'Version '.concat((len -i).toString(), ' from ', moment(timestamp).format('DD.MM.YYYY HH:mm'));\n      this.dropDown.push({name: text, version: i })\n    }\n    if (len > 0 ) this.dropDownSelected = this.dropDown[0].name;\n    // this.log(`Init Drop Down List Finished ${this.dropDown.length} Selected ${this.dropDownSelected}`);\n  }\n\n  changePFVersion() {\n    this.dropDownValue = this.dropDown.find(x => x.name == this.dropDownSelected).version;\n    this.log(`Change Drop Down ${this.dropDownSelected} ${this.dropDownValue}`);\n    this.vpfActive = this.visboportfolioversions[this.dropDownValue];\n    this.getVisboPortfolioKeyMetrics();\n  }\n\n  selectedMetric(metric: string): boolean {\n    if (this.typeMetricChartX == metric || this.typeMetricChartY == metric) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  showChartOption(newStatus: boolean = undefined): void {\n    if (newStatus == undefined) this.chart = !this.chart\n    else this.chart = newStatus\n    this.chartButton = this.chart ? \"Show List\" : \"Show Chart\";\n    this.log(`Switch Chart to ${this.chart}`);\n  }\n\n  showTempList(newStatus: boolean): void {\n    if (newStatus == undefined) return;\n    this.log(`Switch temp List from ${this.tempList} to ${newStatus} Date ${this.tempDate}`);\n    if (this.tempList == undefined && newStatus == true) {\n      if (this.tempDate) this.log(`Compare ${(new Date).getTime() - this.tempDate.getTime()} ${(new Date).toISOString()} ${this.tempDate.toISOString()}`);\n      if (this.tempDate  == undefined || (new Date).getTime() - this.tempDate.getTime() > 300 ) {\n        this.tempChart = this.chart;\n        this.chart = false\n        this.tempList = true;\n      }\n    }\n    if (newStatus == false) {\n      this.chart = this.tempChart;\n      this.tempList = undefined;\n      this.tempDate = new Date();\n    }\n  }\n\n  helperVpIndex(vpIndex: number):void {\n    this.log(`VP Helper: ${vpIndex}`);\n    // this.auditIndex = auditIndex\n  }\n\n  helperDateDiff(from: string, to: string, unit: string) {\n    var fromDate: Date = new Date(from);\n    var toDate: Date = new Date(to);\n    var dateDiff: number = fromDate.getTime() - toDate.getTime();\n    if (unit == 'w') {\n      dateDiff = dateDiff / 1000 / 60 / 60 / 24 / 7;\n    } else if (unit == 'd') {\n      dateDiff = dateDiff / 1000 / 60 / 60 / 24;\n    } else {\n      dateDiff = dateDiff / 1000;\n    }\n    return dateDiff\n  }\n\n  sortKeyMetricsTable(n) {\n    if (!this.visbokeymetrics) return;\n\n    if (n != undefined) {\n      if (n != this.sortColumn) {\n        this.sortColumn = n;\n        this.sortAscending = undefined;\n      }\n      if (this.sortAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortAscending = ( n == 1 ) ? true : false;\n      }\n      else this.sortAscending = !this.sortAscending;\n    }\n    // this.log(`Sort Key Metrics: Col ${n} Asc ${this.sortAscending}`);\n\n    if (this.sortColumn == 1) {\n      // sort by VPV name\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.name > b.name)\n          result = 1;\n        else if (a.name < b.name)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 2) {\n      // sort by keyMetrics Diff Cost\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.savingCostTotal > b.savingCostTotal)\n          result = 1;\n        else if (a.savingCostTotal < b.savingCostTotal)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 3) {\n      // sort by keyMetrics TotalCost\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.keyMetrics.costBaseLastTotal > b.keyMetrics.costBaseLastTotal)\n          result = 1;\n        else if (a.keyMetrics.costBaseLastTotal < b.keyMetrics.costBaseLastTotal)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 4) {\n      // sort by keyMetrics saving EndDate\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.savingEndDate > b.savingEndDate)\n          result = 1;\n        else if (a.savingEndDate < b.savingEndDate)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 5) {\n      // sort by keyMetrics endDate\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.keyMetrics.endDateBaseLast > b.keyMetrics.endDateBaseLast)\n          result = 1;\n        else if (a.keyMetrics.endDateBaseLast < b.keyMetrics.endDateBaseLast)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 6) {\n      // sort by keyMetrics endDate\n      this.visbokeymetrics.sort(function(a, b) {\n        return a.timeCompletionActual - b.timeCompletionActual\n      })\n    } else if (this.sortColumn == 7) {\n      // sort by keyMetrics endDate\n      this.visbokeymetrics.sort(function(a, b) {\n        return a.keyMetrics.timeCompletionBaseLastActual - b.keyMetrics.timeCompletionBaseLastActual\n      })\n    } else if (this.sortColumn == 8) {\n      // sort by keyMetrics endDate\n      this.visbokeymetrics.sort(function(a, b) {\n        return a.deliveryCompletionActual - b.deliveryCompletionActual\n      })\n    } else if (this.sortColumn == 9) {\n      // sort by keyMetrics endDate\n      this.visbokeymetrics.sort(function(a, b) {\n        return a.keyMetrics.deliverableCompletionBaseLastActual - b.keyMetrics.deliverableCompletionBaseLastActual\n      })\n    }\n    if (!this.sortAscending) {\n      this.visbokeymetrics.reverse();\n    }\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('VisboPortfolioVersion: ' + message);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAvdmlzYm9wcm9qZWN0LWF1ZGl0L3Zpc2JvcHJvamVjdC1hdWRpdC5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Location } from '@angular/common';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { VisboAudit, QueryAuditType } from '../_models/visboaudit';\n\nimport { VisboProjectService }  from '../_services/visboproject.service';\nimport { VisboProject } from '../_models/visboproject';\nimport { VisboAuditService } from '../_services/visboaudit.service';\nimport { LoginComponent } from '../login/login.component';\n\nvar encodeCSV = function(source: string): string {\n  var result: string;\n  if (!source) return source;\n  result = source.replace(/\\t/g, \" \");\n  if (result[0] == '='  || result[0] == '+'  || result[0] == '-' ) {\n      result = \"'\".concat(result)\n  }\n  return result;\n}\n\n@Component({\n  selector: 'app-visboproject-audit',\n  templateUrl: './visboproject-audit.component.html',\n  styleUrls: ['./visboproject-audit.component.css']\n})\nexport class VisboprojectAuditComponent implements OnInit {\n\n  visboproject: VisboProject;\n  combinedPerm: any;\n\n  audit: VisboAudit[];\n  auditIndex: number;\n  auditFrom: Date;\n  auditTo: Date;\n  auditCount: number;\n  auditText: string;\n  showMore: boolean;\n  sortAscending: boolean;\n  sortColumn: number;\n  today: Date;\n  auditType: string;\n  auditTypeAction: string;\n  auditTypeList: any[] = [\n    {name: \"All\", action: \"\"},\n    {name: \"Read\", action: \"GET\"},\n    {name: \"Create\", action: \"POST\"},\n    {name: \"Update\", action: \"PUT\"},\n    {name: \"Delete\", action: \"DELETE\"}\n  ];\n  sysadmin: boolean;\n  deleted: boolean = false;\n\n  constructor(\n    private visboauditService: VisboAuditService,\n    private visboprojectService: VisboProjectService,\n    private authenticationService: AuthenticationService,\n    private messageService: MessageService,\n    private alertService: AlertService,\n    private location: Location,\n    private route: ActivatedRoute,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.sysadmin = this.route.snapshot.queryParams['sysadmin'];\n    this.deleted = this.route.snapshot.queryParams['deleted'] ? true : false;\n    this.getVisboProject();\n    this.auditCount = 50;\n    this.auditType = this.auditTypeList[0].name;\n    this.today = new Date();\n    this.today.setHours(0, 0, 0, 0);\n\n    this.getVisboProjectAudits();\n    this.sortTable(undefined);\n  }\n\n  getVisboProject(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n\n    this.log('VisboProject Detail of: ' + id);\n    this.visboprojectService.getVisboProject(id, this.sysadmin, this.deleted)\n      .subscribe(\n        visboproject => {\n          this.visboproject = visboproject\n          this.combinedPerm = visboproject.perm;\n          this.log(`Get VisboProject ${id} ${this.visboproject.name} Perm ${JSON.stringify(this.combinedPerm)}`)\n        },\n        error => {\n          this.log(`get VPs failed: error: ${error.status} message: ${error.error.message}`);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  getVisboProjectAudits(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    var currentUser = this.authenticationService.getActiveUser();\n    var queryAudit = new QueryAuditType;\n    this.log(`Audit getVisboProjectAudits from ${this.auditFrom} to ${this.auditTo} Text ${this.auditText} AuditType ${this.auditType}`);\n    // set date values if not set or adopt to end of day in case of to date\n    if (this.auditTo) {\n      queryAudit.to = new Date(this.auditTo)\n    } else {\n      queryAudit.to = new Date()\n    }\n    if (this.auditFrom) {\n      queryAudit.from = new Date(this.auditFrom)\n    } else {\n      // queryAudit.from = new Date(queryAudit.to);\n      // queryAudit.from.setDate(queryAudit.from.getDate()-7);\n      // queryAudit.from.setHours(0, 0, 0, 0);\n    }\n    if (this.auditText) queryAudit.text = this.auditText.trim();\n    for (var i = 0; i < this.auditTypeList.length; i++) {\n      if (this.auditType == this.auditTypeList[i].name) {\n        queryAudit.actionType = this.auditTypeList[i].action;\n        break;\n      }\n    }\n    queryAudit.maxcount = this.auditCount;\n\n    this.log(`Audit getVisboProjectAudits VP ${id} recalc Query ${JSON.stringify(queryAudit)}`);\n    this.visboauditService.getVisboProjectAudits(id, this.sysadmin, this.deleted, queryAudit)\n      .subscribe(\n        audit => {\n          this.audit = audit;\n          this.sortTable(undefined);\n          this.log(`get Audit success ${this.audit.length} for ${this.visboproject.name}`);\n        },\n        error => {\n          this.log(`get Audit failed: error: ${error.status} message: ${JSON.stringify(error)}`);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  downloadVisboAudit():void {\n    this.log(`sysAudit Download ${this.audit.length} Items`);\n    var data: string;\n    var separator = \"\\t\"\n    var lineItem: string\n    var userAgent: string\n    data = 'sep=' + separator + '\\n'  // to force excel to use the separator\n    data = data + 'date' + separator\n          + 'time UTC' + separator\n          + 'email' + separator\n          + 'actiondDescription' + separator\n          + 'action' + separator\n          + 'url' + separator\n          + 'actionInfo' + separator\n          + 'responseTime' + separator\n          + 'responseStatus' + separator\n          + 'vcid' + separator\n          + 'vcname' + separator\n          + 'vpid' + separator\n          + 'vpname' + separator\n          + 'vpvid' + separator\n          + 'size' + separator\n          + 'ip' + separator\n          + 'userId' + separator\n          + 'userAgent' + separator\n          + 'ttl' + separator\n          + 'VC Details' + separator\n          + 'VP Details' + '\\n';\n    var createdAt;\n    for (var i = 0; i < this.audit.length; i++) {\n      createdAt = new Date(this.audit[i].createdAt).toISOString();\n      userAgent = (this.audit[i].userAgent|| '').replace(/,/g, \";\");\n      lineItem = createdAt.substr(0, 10) + separator\n                  + createdAt.substr(11, 8) + separator\n                  + encodeCSV(this.audit[i].user.email) + separator\n                  + encodeCSV(this.audit[i].actionDescription) + separator\n                  + this.audit[i].action + separator\n                  + this.audit[i].url + separator\n                  + this.audit[i].actionInfo + separator\n                  + (this.audit[i].result ? this.audit[i].result.time : '') + separator\n                  + (this.audit[i].result ? this.audit[i].result.status : '') + separator\n                  + (this.audit[i].vc ? this.audit[i].vc.vcid : '') + separator\n                  + (this.audit[i].vc ? encodeCSV(this.audit[i].vc.name) : '') + separator\n                  + (this.audit[i].vp ? this.audit[i].vp.vpid : '') + separator\n                  + (this.audit[i].vp ? encodeCSV(this.audit[i].vp.name) : '') + separator\n                  + (this.audit[i].vpv ? this.audit[i].vpv.vpvid : '') + separator\n                  + (this.audit[i].result ? this.audit[i].result.size : '0') + separator\n                  + this.audit[i].ip + separator\n                  + this.audit[i].user.userId + separator\n                  + encodeCSV(userAgent) + separator\n                  + (this.audit[i].ttl || '') + separator\n                  + (this.audit[i].vc ? (encodeCSV(this.audit[i].vc.vcjson) || '') : '') + separator\n                  + (this.audit[i].vp ? (encodeCSV(this.audit[i].vp.vpjson) || '') : '') + '\\n';\n      data = data.concat(lineItem)\n    }\n    this.log(`sysAudit CSV Len ${data.length} `);\n    var blob = new Blob([data], { type: 'text/plain' });\n    var url= window.URL.createObjectURL(blob);\n    this.log(`Open URL ${url}`);\n    var fileName = `auditlog-VP.csv`\n    var a = document.createElement(\"a\");\n    document.body.appendChild(a);\n    a.href = url;\n    a.download = fileName;\n    this.log(`Open URL ${url} doc ${JSON.stringify(a)}`);\n    a.click();\n    window.URL.revokeObjectURL(url);\n  }\n\n  goBack(): void {\n    this.location.back();\n  }\n\n  helperAuditIndex(auditIndex: number):void {\n    // this.log(`Remove User Helper: ${userIndex}`);\n    this.auditIndex = auditIndex\n  }\n\n  helperFormatBytes(a, b = 2):string {\n    if(0 == a)\n      return \"0 B\";\n    var c = 1024, d = b || 2;\n    var e = [\"B\",\"KB\",\"MB\",\"GB\",\"TB\",\"PB\",\"EB\",\"ZB\",\"YB\"];\n    var f = Math.floor(Math.log(a)/Math.log(c));\n    return parseFloat((a/Math.pow(c,f)).toFixed(d))+\" \"+e[f]\n  }\n\n  pageAuditIndex(increment: number): void {\n    var newAuditIndex: number;\n    newAuditIndex = this.auditIndex + increment;\n    if (newAuditIndex < 0) newAuditIndex = 0\n    if (newAuditIndex >= this.audit.length) newAuditIndex = this.audit.length-1\n    this.auditIndex = newAuditIndex\n  }\n\n  helperResponseText(visboaudit: VisboAudit): string {\n    if (visboaudit.result.statusText) return visboaudit.result.statusText;\n    var status = visboaudit.result.status\n    if (status == \"200\") return \"Success\"\n    if (status == \"304\") return \"Success\"\n    if (status == \"400\") return \"Bad Request\"\n    if (status == \"401\") return \"Not Authenticated\"\n    if (status == \"403\") return \"Permission Denied\"\n    if (status == \"404\") return \"URL not found\"\n    if (status == \"409\") return \"Conflict\"\n    if (status == \"423\") return \"Locked\"\n    if (status == \"500\") return \"Server Error\"\n    return status.toString()\n  }\n\n  helperShortenText(text: string, len: number): string {\n    if (!text || !len || len < 5 || text.length <= len)\n      return (text);\n    return text.substring(0,20).concat('...', text.substring(text.length-7, text.length));\n  }\n\n  toggleDetail() {\n    this.log(`Toggle ShowMore`);\n    this.showMore = !this.showMore;\n  }\n\n  isToday(checkDate: string): Boolean {\n    // this.log(`Check Date ${checkDate} ${this.today.toISOString()}`);\n    return new Date(checkDate) > this.today\n  }\n\n  sortTable(n) {\n    if (!this.audit) return\n    this.log(`Sort Table Column ${n}`)\n    // change sort order otherwise sort same column same direction\n    if (n != undefined) {\n      // sort a different column\n      if (n != this.sortColumn) {\n        this.sortColumn = n;\n        this.sortAscending = undefined;\n      } else if (this.sortAscending != undefined)\n        this.sortAscending = !this.sortAscending;\n    } else {\n      this.sortColumn = 1\n      this.sortAscending = undefined;\n    }\n    if (this.sortAscending == undefined) {\n      // sort name column ascending, number values desc first\n      this.sortAscending = (n == 2 || n == 3 || n == 4) ? true : false;\n      // console.log(\"Sort VC Column undefined\", this.sortColumn, this.sortAscending)\n    }\n    // console.log(\"Sort VC Column %d Asc %s\", this.sortColumn, this.sortAscending)\n    if (this.sortColumn == 1) {\n      this.audit.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.createdAt > b.createdAt)\n          result = 1;\n        else if (a.createdAt < b.createdAt)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 2) {\n      this.audit.sort(function(a, b) {\n        var result = 0\n        if (a.user.email.toLowerCase() > b.user.email.toLowerCase())\n          result = 1;\n        else if (a.user.email.toLowerCase() < b.user.email.toLowerCase())\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 3) {\n      this.audit.sort(function(a, b) {\n        var result = 0\n        if (a.action > b.action)\n          result = 1;\n        else if (a.action < b.action)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 4) {\n      this.audit.sort(function(a, b) {\n        var result = 0\n        if (a.url > b.url)\n          result = 1;\n        else if (a.url < b.url)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 5) {\n      // sort Result\n      // this.audit.sort(function(a, b) { return a.result.status.toValue() - b.result.status.toValue() })\n      this.audit.sort(function(a, b) {\n        var result = 0\n        if (a.result.status > b.result.status)\n          result = 1;\n        else if (a.result.status < b.result.status)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 6) {\n      this.audit.sort(function(a, b) {\n        return a.result.time - b.result.time;\n      })\n    } else if (this.sortColumn == 7) {\n      this.audit.sort(function(a, b) {\n        return (a.result.size || 0) - (b.result.size || 0);\n      })\n    }\n    // console.log(\"Sort VC Column %d %s Reverse?\", this.sortColumn, this.sortAscending)\n    if (!this.sortAscending) {\n      this.audit.reverse();\n      // console.log(\"Sort VC Column %d %s Reverse\", this.sortColumn, this.sortAscending)\n    }\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('Audit: ' + message);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAvdmlzYm9wcm9qZWN0LWRldGFpbC92aXNib3Byb2plY3QtZGV0YWlsLmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Location } from '@angular/common';\n\nimport { FormsModule }   from '@angular/forms';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { VisboProjectService }  from '../_services/visboproject.service';\nimport { VisboProject, VPTYPE } from '../_models/visboproject';\nimport { VGGroup, VGPermission, VGUser, VGUserGroup, VGPVC, VGPVP } from '../_models/visbogroup';\n\n@Component({\n  selector: 'app-visboproject-detail',\n  templateUrl: './visboproject-detail.component.html',\n  styleUrls: ['./visboproject-detail.component.css']\n})\nexport class VisboprojectDetailComponent implements OnInit {\n\n  @Input() visboproject: VisboProject;\n  newUserInvite: any = {};\n  vgUsers: VGUserGroup[];\n  vgGroups: VGGroup[];\n  vgGroupsInvite: VGGroup[];\n  actGroup: any = {};\n  userIndex: number;\n  groupIndex: number;\n  showGroups: boolean;\n\n  combinedPerm: VGPermission = undefined;\n  permVC: any = VGPVC;\n  permVP: any = VGPVP;\n  deleted: boolean = false;\n\n  sortUserColumn: number = 1;\n  sortUserAscending: boolean = true;\n  sortGroupColumn: number = 1;\n  sortGroupAscending: boolean = true;\n\n  constructor(\n    private messageService: MessageService,\n    private authenticationService: AuthenticationService,\n    private route: ActivatedRoute,\n    private visboprojectService: VisboProjectService,\n    private location: Location,\n    private alertService: AlertService,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.deleted = this.route.snapshot.queryParams['deleted'] ? true : false;\n    this.getVisboProject();\n    this.getVisboProjectUsers();\n  }\n\n  getVisboProject(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    var currentUser = this.authenticationService.getActiveUser();\n\n    this.log('VisboProject Detail of: ' + id);\n    this.visboprojectService.getVisboProject(id, false, this.deleted)\n      .subscribe(\n        visboproject => {\n          this.visboproject = visboproject\n          this.combinedPerm = visboproject.perm;\n          this.log(`Get VisboProject for VP ${id} Perm ${JSON.stringify(this.combinedPerm)} `)\n        },\n        error => {\n          this.log(`get VPs failed: error: ${error.status} message: ${error.error.message}`);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  hasVPPerm(perm: number): boolean {\n    if (this.combinedPerm == undefined) return false\n    return (this.combinedPerm.vp & perm) > 0\n  }\n\n  getVPPerm(): number {\n    if (this.combinedPerm == undefined) return 0\n    return this.combinedPerm.vp\n  }\n\n  getVPType(vpType: number): string {\n    return VPTYPE[vpType];\n  }\n\n  toggleUserGroup(): void {\n    this.showGroups = !this.showGroups;\n  }\n\n  getVisboProjectUsers(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    var currentUser = this.authenticationService.getActiveUser();\n\n    this.log(`VisboProject UserList of: ${id} Deleted ${this.deleted}`);\n    this.visboprojectService.getVPUsers(id, false, this.deleted)\n      .subscribe(\n        mix => {\n          this.vgUsers = mix.users;\n          this.vgGroups = mix.groups;\n          this.vgGroupsInvite = this.vgGroups.filter(vgGroup => vgGroup.groupType == 'VP');\n\n          this.log(`fetched Users ${this.vgUsers.length}, Groups ${this.vgGroups.length}, Invite Groups ${this.vgGroupsInvite.length}`)\n          this.sortUserTable();\n          this.sortGroupTable();\n        },\n        error => {\n          this.log(`Get VP Users failed: error: ${error.status} message: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  goBack(): void {\n    this.location.back();\n  }\n\n  delete(visboproject: VisboProject): void {\n    this.visboprojectService.deleteVisboProject(visboproject, this.deleted)\n      .subscribe(\n        () => {\n            this.alertService.success(`Visbo Project ${visboproject.name} deleted successfully`, true);\n            this.log(`delete VP success`);\n            // could not use go back as it is used from different places and produces access denied if it returns to KeyMetrics View\n            this.router.navigate(['vp/'.concat(visboproject.vcid)], this.deleted ? { queryParams: { deleted: this.deleted }} : {});\n          },\n        error => {\n          this.log(`delete VP failed: error: ${error.status} message: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Visbo Project ${visboproject.name}`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  gotoVPAudit(visboproject: VisboProject):void {\n    this.log(`goto VP Audit: ${visboproject._id} Deleted ${this.deleted}`);\n    this.router.navigate(['vpAudit/'.concat(visboproject._id)], this.deleted ? { queryParams: { deleted: this.deleted }} : {});\n  }\n\n  gotoVCDetail(visboproject: VisboProject):void {\n    this.router.navigate(['vcDetail/'.concat(visboproject.vcid)]);\n  }\n\n  gotoVPList(visboproject: VisboProject):void {\n    this.log(`goto VP List: ${visboproject._id} Deleted ${this.deleted}`);\n    this.router.navigate(['vp/'.concat(visboproject.vcid)], this.deleted ? { queryParams: { deleted: this.deleted }} : {});\n  }\n\n  save(): void {\n    this.visboprojectService.updateVisboProject(this.visboproject, this.deleted)\n      .subscribe(\n        (vp) => {\n          this.alertService.success(`Visbo Project ${vp.name} updated successfully`, true);\n          this.goBack();\n        },\n        error => {\n          this.log(`save VP failed: error: ${error.status} message: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Visbo Project ${this.visboproject.name}`);\n          } else if (error.status == 409) {\n            this.alertService.error(`Visbo Project ${this.visboproject.name} exists already`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  addNewVPUser(): void {\n    var email = this.newUserInvite.email.trim();\n    var groupName = this.newUserInvite.groupName.trim();\n    var inviteGroup = this.vgGroups.filter(group => group.name == groupName)[0]\n    var groupId = inviteGroup._id;\n    var inviteMessage = '';\n    if (this.newUserInvite.inviteMessage) inviteMessage = this.newUserInvite.inviteMessage.trim();\n    var vpid = this.visboproject._id;\n\n    this.log(`Add VisboProject User: ${email} Group: ${groupName}/${groupId} VP: ${vpid}`);\n    if (!email || !groupId) { return; }\n    this.visboprojectService.addVPUser(email, groupId, inviteMessage, vpid )\n      .subscribe(\n        group => {\n          // Add User to User & Group list\n          var newUserGroup = new VGUserGroup();\n          newUserGroup.userId = group.users.filter(user => user.email == email)[0].userId;\n          newUserGroup.email = email;\n          newUserGroup.groupId = group._id;\n          newUserGroup.groupName = group.name;\n          newUserGroup.groupType = inviteGroup.groupType;\n          newUserGroup.internal = inviteGroup.internal;\n          this.log(`Add VisboCenter User Push: ${JSON.stringify(newUserGroup)}`);\n          this.vgUsers.push(newUserGroup);\n          this.sortUserTable();\n          for (var i=0; i< this.vgGroups.length; i++) {\n            if (this.vgGroups[i]._id == group._id) {\n              this.vgGroups[i] = group;\n              break;\n            }\n          }\n          this.alertService.success(`User ${email} added successfully`);\n        },\n        error => {\n          this.log(`Add VisboProject User error: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Add User to Visbo Project`);\n          } else {\n            this.log(`Error during add VP user ${error.error.message}`); // log to console instead\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  helperRemoveUser(memberIndex: number):void {\n    // this.log(`Remove User Helper: ${userIndex}`);\n    this.userIndex = memberIndex\n  }\n\n  helperRemoveGroup(memberIndex: number):void {\n    this.groupIndex = memberIndex\n  }\n\n  removeVPUser(user: VGUserGroup, vpid: string): void {\n    this.log(`Remove VisboProject User: ${user.email}/${user.userId} Group: ${user.groupName} VP: ${vpid}`);\n    this.visboprojectService.deleteVPUser(user, vpid)\n      .subscribe(\n        users => {\n          this.vgUsers = this.vgUsers.filter(vcUser => vcUser !== user);\n          // filter user from vgGroups\n          for (var i=0; i<this.vgGroups.length; i++) {\n            if (this.vgGroups[i]._id == user.groupId) {\n              for (var j=0; j<this.vgGroups[i].users.length; j++) {\n                if (this.vgGroups[i].users[j].userId == user.userId) {\n                  this.vgGroups[i].users.splice(j, 1); // remove item from array\n                  break;\n                }\n              }\n              break;\n            }\n          }\n          this.alertService.success(`User ${user.email} removed successfully`);\n        },\n        error => {\n          this.log(`Remove VisboProject User error: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Remove User from Visbo Project`);\n          } else {\n            this.log(`Error during remove User from VP user ${error.error.message}`); // log to console instead\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  helperVPPerm(newGroup: any): number {\n    var perm: number = 0;\n    if (newGroup.checkedVPView) perm += this.permVP.View;\n    if (newGroup.checkedVPViewAudit) perm += this.permVP.ViewAudit;\n    if (newGroup.checkedVPModify) perm += this.permVP.Modify;\n    if (newGroup.checkedCreateVariant) perm += this.permVP.CreateVariant;\n    if (newGroup.checkedVPManagePerm) perm += this.permVP.ManagePerm;\n    if (newGroup.checkedVPDelete) perm += this.permVP.DeleteVP;\n\n    return perm\n  }\n\n  initGroup(curGroup: VGGroup): void {\n\n    if (curGroup) {\n      this.actGroup.confirm = (curGroup.groupType == 'VP') ? 'Modify' : 'View';\n      this.actGroup.gid = curGroup._id;\n      this.log(`Init Group Set GroupID : ${this.actGroup.gid} ID ${curGroup._id}`);\n      this.actGroup.groupName = curGroup.name;\n      this.actGroup.groupType = curGroup.groupType;\n      this.actGroup.internal = curGroup.internal;\n      this.actGroup.checkGlobal = curGroup.global;\n      this.actGroup.checkedView = (curGroup.permission.vc & this.permVC.View) > 0\n      this.actGroup.checkedViewAudit = (curGroup.permission.vc & this.permVC.ViewAudit) > 0\n      this.actGroup.checkedModify = (curGroup.permission.vc & this.permVC.Modify) > 0\n      this.actGroup.checkedCreateVP = (curGroup.permission.vc & this.permVC.CreateVP) > 0\n      this.actGroup.checkedManagePerm = (curGroup.permission.vc & this.permVC.ManagePerm) > 0\n\n      this.actGroup.checkedVPView = (curGroup.permission.vp & this.permVP.View) > 0\n      this.actGroup.checkedVPViewAudit = (curGroup.permission.vp & this.permVP.ViewAudit) > 0\n      this.actGroup.checkedVPModify = (curGroup.permission.vp & this.permVP.Modify) > 0\n      this.actGroup.checkedCreateVariant = (curGroup.permission.vp & this.permVP.CreateVariant) > 0\n      this.actGroup.checkedVPManagePerm = (curGroup.permission.vp & this.permVP.ManagePerm) > 0\n      this.actGroup.checkedVPDelete = (curGroup.permission.vp & this.permVP.DeleteVP) > 0\n    } else {\n      this.actGroup.confirm = 'Add';\n      this.actGroup.gid = undefined;\n      this.actGroup.groupName = '';\n      this.actGroup.groupType = 'VP';\n      this.actGroup.internal = false;\n      this.actGroup.checkGlobal = false;\n      this.actGroup.checkedView = true;\n    }\n    this.log(`Init Group for Creation / Modification: ${this.actGroup.groupName} ID ${this.actGroup.gid} Action ${this.actGroup.confirm} `);\n  }\n\n  addModifyVPGroup(): void {\n    var newGroup = new VGGroup;\n\n    this.log(`Modify VisboProject Group: Group: ${this.actGroup.groupName} VC: ${this.visboproject.vcid} VP: ${this.visboproject._id} }`);\n    newGroup.name = this.actGroup.groupName.trim();\n    newGroup.global = false;\n    newGroup.vcid = this.visboproject.vcid;\n    newGroup.vpids = [];\n    newGroup.vpids.push(this.visboproject._id);\n    newGroup.permission = new VGPermission;\n    newGroup.permission.vp = this.helperVPPerm(this.actGroup);\n\n    if (this.actGroup.gid) {\n      // modify existing Group\n      this.log(`Modify VisboProject Group: Group: ${newGroup.name} VC: ${newGroup.vcid} Perm: ${JSON.stringify(newGroup.permission)}`);\n      newGroup._id = this.actGroup.gid;\n      this.visboprojectService.modifyVPGroup(newGroup)\n        .subscribe(\n          group => {\n            // Add Group to Group list\n            this.log(`Modify VisboProject Group Push: ${JSON.stringify(group)}`);\n            this.vgGroups = this.vgGroups.filter(vgGroup => vgGroup._id !== newGroup._id);\n            this.vgGroups.push(group);\n            this.vgGroupsInvite = this.vgGroups.filter(vgGroup => vgGroup.groupType == 'VP');\n            // update User List to reflect new Group Name & ID\n            for (var i=0; i < this.vgUsers.length; i++) {\n              if (this.vgUsers[i].groupId == newGroup._id) {\n                this.vgUsers[i].groupName = group.name\n              }\n            }\n            this.sortUserTable();\n            this.sortGroupTable();\n            this.alertService.success(`Group ${group.name} changed successfully`);\n          },\n          error => {\n            this.log(`Modify VisboProject Group error: ${error.error.message}`);\n            if (error.status == 403) {\n              this.alertService.error(`Permission Denied: Modify Group to Visbo Project`);\n            } else {\n              this.log(`Error during modify VP Group ${error.error.message}`); // log to console instead\n              this.alertService.error(error.error.message);\n            }\n          }\n        );\n    } else {\n      // create new Group\n      this.log(`Add VisboCenter Group: Group: ${newGroup.name} VP: ${newGroup.vpids[0]} Perm: ${JSON.stringify(newGroup.permission)}`);\n      this.visboprojectService.addVPGroup(newGroup)\n        .subscribe(\n          group => {\n            // Add Group to Group list\n            // this.log(`Add VisboCenter Group Push: ${JSON.stringify(group)}`);\n            this.vgGroups.push(group);\n            this.vgGroupsInvite = this.vgGroups.filter(vgGroup => vgGroup.groupType == 'VP');\n            this.alertService.success(`Group ${group.name} added successfully`);\n          },\n          error => {\n            this.log(`Add VisboCenter Group error: ${error.error.message}`);\n            if (error.status == 403) {\n              this.alertService.error(`Permission Denied: Add Group to Visbo Center`);\n            } else {\n              this.log(`Error during add VC Group ${error.error.message}`); // log to console instead\n              this.alertService.error(error.error.message);\n            }\n          }\n        );\n    }\n  }\n\n  removeVPGroup(group: VGGroup, vpid: string ): void {\n    this.log(`Remove VisboProject Group: ${group.name}/${group._id} VP: ${vpid}`);\n    this.visboprojectService.deleteVPGroup(group, vpid)\n      .subscribe(\n        response => {\n          this.log(`Remove VisboProject Group result: ${JSON.stringify(response)}`);\n          // filter user from vgUsers\n          this.vgGroups = this.vgGroups.filter(vgGroup => vgGroup !== group);\n          this.vgUsers = this.vgUsers.filter(vcUser => vcUser.groupId !== group._id);\n          this.vgGroupsInvite = this.vgGroups.filter(vgGroup => vgGroup.groupType == 'VP');\n          this.alertService.success(`Group ${group.name} removed successfully`);\n        },\n        error => {\n          this.log(`Remove VisboProject Group error: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Remove Group from Visbo Project`);\n          } else {\n            this.log(`Error during remove Group from VP user ${error.error.message}`); // log to console instead\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  unlockVP(lockIndex: number ): void {\n    var vpid = this.visboproject._id;\n    var variantNameLock = this.visboproject.lock[lockIndex].variantName;\n    this.log(`Remove VisboProject Lock: ${this.visboproject.name} Variant ${variantNameLock} ${this.visboproject.lock[lockIndex].expiresAt} VPID: ${vpid}`);\n    this.visboprojectService.unlockVP(variantNameLock, vpid)\n      .subscribe(\n        response => {\n          this.log(`Remove VisboProject Lock result: ${JSON.stringify(response)}`);\n          for (var i = 0; i < this.visboproject.lock.length; i++) {\n            if (this.visboproject.lock[i].variantName == variantNameLock) {\n              this.visboproject.lock.splice(i, 1);\n              break;\n            }\n          }\n          this.alertService.success(`Lock ${variantNameLock} removed successfully`);\n        },\n        error => {\n          this.log(`Remove VisboProject Lock error: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Remove Lock from Visbo Project`);\n          } else {\n            this.log(`Error during remove Lock from VP  ${error.error.message}`); // log to console instead\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n\n  sortUserTable(n: number = undefined) {\n\n    if (!this.vgUsers) return\n    // change sort order otherwise sort same column same direction\n    if (n != undefined || this.sortUserColumn == undefined) {\n      if (n != this.sortUserColumn) {\n        this.sortUserColumn = n;\n        this.sortUserAscending = undefined;\n      }\n      if (this.sortUserAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortUserAscending = (n == 1 || n == 2) ? true : false;\n        // console.log(\"Sort VC Column undefined\", this.sortUserColumn, this.sortUserAscending)\n      }\n      else this.sortUserAscending = !this.sortUserAscending;\n    }\n    // this.log(`Sort Users Column ${this.sortUserColumn}`); // log to console instead\n    if (this.sortUserColumn == 1) {\n      // sort user email\n      this.vgUsers.sort(function(a, b) {\n        var result = 0\n        if (a.email > b.email)\n          result = 1;\n        else if (a.email < b.email)\n          result = -1;\n        return result\n      })\n    } else if (this.sortUserColumn == 2) {\n      // sort user group name\n      this.vgUsers.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.groupName.toLowerCase() > b.groupName.toLowerCase())\n          result = 1;\n        else if (a.groupName.toLowerCase() < b.groupName.toLowerCase())\n          result = -1;\n        return result\n      })\n    }\n    // console.log(\"Sort VC Column %d %s Reverse?\", this.sortUserColumn, this.sortUserAscending)\n    if (!this.sortUserAscending) {\n      this.vgUsers.reverse();\n      // console.log(\"Sort VC Column %d %s Reverse\", this.sortUserColumn, this.sortUserAscending)\n    }\n  }\n\n  sortGroupTable(n: number = undefined) {\n\n    if (!this.vgGroups) return\n    // change sort order otherwise sort same column same direction\n    if (n != undefined || this.sortGroupColumn == undefined) {\n      if (n != this.sortGroupColumn) {\n        this.sortGroupColumn = n;\n        this.sortGroupAscending = undefined;\n      }\n      if (this.sortGroupAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortGroupAscending = (n == 1) ? true : false;\n        // console.log(\"Sort VC Column undefined\", this.sortGroupColumn, this.sortGroupAscending)\n      }\n      else this.sortGroupAscending = !this.sortGroupAscending;\n    }\n    // this.log(`Sort Groups Column ${this.sortGroupColumn}`); // log to console instead\n    if (this.sortGroupColumn == 1) {\n      // sort user email\n      this.vgGroups.sort(function(a, b) {\n        var result = 0\n        if (a.name.toLowerCase() > b.name.toLowerCase())\n          result = 1;\n        else if (a.name.toLowerCase() < b.name.toLowerCase())\n          result = -1;\n        return result\n      })\n    } else if (this.sortGroupColumn == 2) {\n      // sort user group name\n      this.vgGroups.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        return b.users.length - a.users.length\n      })\n    }\n    // console.log(\"Sort VC Column %d %s Reverse?\", this.sortGroupColumn, this.sortGroupAscending)\n    if (!this.sortGroupAscending) {\n      this.vgGroups.reverse();\n      // console.log(\"Sort VC Column %d %s Reverse\", this.sortGroupColumn, this.sortGroupAscending)\n    }\n  }\n\n  /** Log a VisboProjectService message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('VisboProjectDetail: ' + message);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { VisboProject } from '../_models/visboproject';\nimport { VisboProjectService } from '../_services/visboproject.service';\n\nimport { VisboProjectVersion, VPVKeyMetrics, VPVKeyMetricsCalc } from '../_models/visboprojectversion';\nimport { VisboProjectVersionService } from '../_services/visboprojectversion.service';\n\nimport { VGGroup, VGPermission, VGUser, VGUserGroup, VGPVC, VGPVP } from '../_models/visbogroup';\n\n@Component({\n  selector: 'app-visboproject-keymetrics',\n  templateUrl: './visboproject-keymetrics.component.html'\n})\nexport class VisboProjectKeyMetricsComponent implements OnInit {\n\n  visboprojectversions: VisboProjectVersion[];\n  visbokeymetrics: VPVKeyMetricsCalc[] = [];\n\n  vpSelected: string;\n  vpActive: VisboProject;\n  deleted: boolean = false;\n  vpvKeyMetricActive: VPVKeyMetricsCalc;\n  qualityCost: number;\n  qualityTotalCost: number;\n  qualityDeadlines: number;\n  qualityDelivery: number;\n  delayActualDeadlines: number;\n  delayTotalDeadlines: number;\n  delayActualDelivery: number;\n  delayTotalDelivery: number;\n  delayEndDate: number;\n\n  chartButton: string = \"View List\";\n  chart: boolean = true;\n  history: boolean = false;\n  historyButton: string = \"View Trend\"\n  parentThis: any;\n\n  typeMetricList: any[] = [\n    {name: \"Total & Actual Cost\", metric: \"Costs\"},\n    {name: \"Delivery Completion\", metric: \"Deliveries\"},\n    {name: \"Reached Deadlines\", metric: \"Deadlines\"}\n  ];\n  typeMetric: string = this.typeMetricList[0].name;\n  typeMetricChart: string = this.typeMetricList[0].metric;\n\n  // colors: string[] = ['#FF9900', '#FF9900', '#3399cc', '#FA8258'];\n  colors: string[] = ['#F7941E', '#F7941E', '#458CCB', '#458CCB', '#996600', '#996600'];\n  series: any =  {\n    '0': { lineWidth: 4, pointShape: 'star', lineDashStyle: [4, 8, 8, 4] },\n    '1': { lineWidth: 4, pointShape: 'star' },\n    '2': { lineWidth: 4, pointShape: 'triangle', lineDashStyle: [8, 4, 4, 8] },\n    '3': { lineWidth: 4, pointShape: 'triangle' },\n    '4': { lineWidth: 1, pointShape: 'circle', pointSize: 4 },\n    '5': { lineWidth: 1, pointShape: 'circle', lineDashStyle: [8, 4, 4, 8], pointSize: 4  }\n  };\n\n  graphDataLineChart: any[] = [];\n  graphOptionsLineChart: any = undefined;\n\n  sortAscending: boolean = false;\n  sortColumn: number = 1;\n\n  combinedPerm: VGPermission = undefined;\n  permVC: any = VGPVC;\n  permVP: any = VGPVP;\n\n  constructor(\n    private visboprojectversionService: VisboProjectVersionService,\n    private visboprojectService: VisboProjectService,\n    private messageService: MessageService,\n    private alertService: AlertService,\n    private route: ActivatedRoute,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.getVisboProjectVersions();\n  }\n\n  onSelect(visboprojectversion: VisboProjectVersion): void {\n    this.getVisboProjectVersions();\n  }\n\n  hasVPPerm(perm: number): boolean {\n    if (this.combinedPerm == undefined) return false\n    return (this.combinedPerm.vp & perm) > 0\n  }\n\n  getVisboProjectVersions(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    var i: number;\n    this.vpSelected = id;\n    this.parentThis = this;\n    var chartFlag = this.chart;\n\n    this.log(`get VP name if ID is used ${id}`);\n    if (id) {\n      this.visboprojectService.getVisboProject(id)\n        .subscribe(\n          visboproject => {\n            this.vpActive = visboproject;\n            this.combinedPerm = visboproject.perm;\n            this.log(`get VP name if ID is used ${this.vpActive.name} Perm ${JSON.stringify(this.combinedPerm)}`);\n            this.visboprojectversionService.getVisboProjectVersions(id, this.deleted, \"\", true)\n              .subscribe(\n                visboprojectversions => {\n                  this.visboprojectversions = visboprojectversions;\n                  // this.sortVPVTable(undefined);\n                  this.log(`get VPV Key metrics: Get ${visboprojectversions.length} Project Versions`);\n\n                  this.visboKeyMetricsCalc();\n                  if (this.hasVPPerm(this.permVP.ViewAudit)) {\n                    this.chart = chartFlag;\n                  } else {\n                    this.chart = false;\n                  }\n                },\n                error => {\n                  this.log(`get VPVs failed: error: ${error.status} message: ${error.error.message}`);\n                  if (error.status == 403) {\n                    this.alertService.error(`Permission Denied for Visbo Project Versions`);\n                  } else {\n                    this.alertService.error(error.error.message);\n                  }\n                }\n              );\n          },\n          error => {\n            this.log(`get VPV VP failed: error: ${error.status} message: ${error.error.message}`);\n            if (error.status == 403) {\n              this.alertService.error(`Permission Denied for Visbo Project`);\n            } else {\n              this.alertService.error(error.error.message);\n            }\n        });\n    } else {\n      this.vpSelected = null;\n      this.vpActive = null;\n      this.visboprojectversionService.getVisboProjectVersions(id, false, \"\", true)\n        .subscribe(\n          visboprojectversions => {\n            this.visboprojectversions = visboprojectversions;\n            this.log(`get VPF Key metrics: Get ${visboprojectversions.length} Project Versions`);\n            this.visboKeyMetricsCalc();\n            if (this.hasVPPerm(this.permVP.ViewAudit)) {\n              this.chart = chartFlag;\n            } else {\n              this.chart = false;\n            }\n          },\n          error => {\n            this.log(`get VPVs failed: error: ${error.status} message: ${error.error.message}`);\n            if (error.status == 403) {\n              this.alertService.error(`Permission Denied for Visbo Project Versions`);\n            } else {\n              this.alertService.error(error.error.message);\n            }\n          }\n        );\n    }\n  }\n\n  visboKeyMetricsCalc(): void {\n    // Calculate the keyMetrics Values to show in Chart and List\n    this.visbokeymetrics = [];\n\n    if (!this.visboprojectversions) return;\n    this.log(`calc keyMetrics LEN ${this.visboprojectversions.length}`);\n    for (var i = 0; i < this.visboprojectversions.length; i++) {\n      if (this.visboprojectversions[i].keyMetrics) {\n        var elementKeyMetric: VPVKeyMetricsCalc = new VPVKeyMetricsCalc();\n        elementKeyMetric.name = this.visboprojectversions[i].name;\n        elementKeyMetric._id = this.visboprojectversions[i]._id;\n        elementKeyMetric.timestamp = this.visboprojectversions[i].timestamp;\n        elementKeyMetric.vpid = this.visboprojectversions[i].vpid;\n        elementKeyMetric.variantName = this.visboprojectversions[i].variantName;\n        elementKeyMetric.Risiko = this.visboprojectversions[i].Risiko;\n        elementKeyMetric.StrategicFit = this.visboprojectversions[i].StrategicFit;\n        elementKeyMetric.leadPerson = this.visboprojectversions[i].leadPerson;\n        elementKeyMetric.status = this.visboprojectversions[i].status;\n        elementKeyMetric.ampelStatus = this.visboprojectversions[i].ampelStatus;\n        elementKeyMetric.ampelErlaeuterung = this.visboprojectversions[i].ampelErlaeuterung;\n        elementKeyMetric.VorlagenName = this.visboprojectversions[i].VorlagenName;\n        elementKeyMetric.complexity = this.visboprojectversions[i].complexity;\n        elementKeyMetric.description = this.visboprojectversions[i].description;\n        elementKeyMetric.businessUnit = this.visboprojectversions[i].businessUnit;\n\n        elementKeyMetric.keyMetrics = this.visboprojectversions[i].keyMetrics;\n        // Calculate Saving Cost in % of Total, limit the results to be between -100 and 100\n        elementKeyMetric.savingCostTotal = Math.round((1 - (elementKeyMetric.keyMetrics.costCurrentTotal || 0) / (elementKeyMetric.keyMetrics.costBaseLastTotal || 1)) * 100) || 0;\n        if (elementKeyMetric.savingCostTotal > 100) elementKeyMetric.savingCostTotal = 100;\n        if (elementKeyMetric.savingCostTotal < -100) elementKeyMetric.savingCostTotal = -100;\n        elementKeyMetric.savingCostTotal = Math.round(elementKeyMetric.savingCostTotal);\n        elementKeyMetric.savingCostActual = ((1 - (elementKeyMetric.keyMetrics.costCurrentActual || 0) / (elementKeyMetric.keyMetrics.costBaseLastActual || 1)) * 100) || 0;\n\n        // Calculate Saving EndDate in number of weeks related to BaseLine, limit the results to be between -20 and 20\n        elementKeyMetric.savingEndDate = this.helperDateDiff(\n          (new Date(elementKeyMetric.keyMetrics.endDateBaseLast).toISOString()),\n          (new Date(elementKeyMetric.keyMetrics.endDateCurrent).toISOString()), 'w') || 0;\n          elementKeyMetric.savingEndDate = Math.round(elementKeyMetric.savingEndDate);\n\n        // Calculate the Delivery Completion\n        if (!elementKeyMetric.keyMetrics.deliverableCompletionBaseLastTotal) {\n          elementKeyMetric.deliveryCompletionTotal = 100;\n        } else {\n          elementKeyMetric.deliveryCompletionTotal = Math.round((elementKeyMetric.keyMetrics.deliverableCompletionCurrentTotal || 0) / elementKeyMetric.keyMetrics.deliverableCompletionBaseLastTotal * 100)\n        }\n        if (!elementKeyMetric.keyMetrics.deliverableCompletionBaseLastActual) {\n          elementKeyMetric.deliveryCompletionActual = 100;\n        } else {\n          elementKeyMetric.deliveryCompletionActual = Math.round((elementKeyMetric.keyMetrics.deliverableCompletionCurrentActual || 0) / elementKeyMetric.keyMetrics.deliverableCompletionBaseLastActual * 100)\n        }\n\n        // Calculate the Deadline Completion\n        if (!elementKeyMetric.keyMetrics.timeCompletionBaseLastTotal) {\n          elementKeyMetric.timeCompletionTotal = 100;\n        } else {\n          elementKeyMetric.timeCompletionTotal = Math.round((elementKeyMetric.keyMetrics.timeCompletionCurrentTotal || 0) / elementKeyMetric.keyMetrics.timeCompletionBaseLastTotal * 100)\n        }\n        if (!elementKeyMetric.keyMetrics.timeCompletionBaseLastActual) {\n          elementKeyMetric.timeCompletionActual = 100;\n        } else {\n          elementKeyMetric.timeCompletionActual = Math.round((elementKeyMetric.keyMetrics.timeCompletionCurrentActual || 0) / elementKeyMetric.keyMetrics.timeCompletionBaseLastActual * 100)\n        }\n\n        this.visbokeymetrics.push(elementKeyMetric)\n      }\n    }\n    this.log(`calc keyMetrics Result LEN ${this.visbokeymetrics.length}`);\n    this.sortKeyMetricsTable(undefined);\n    // select latest element\n    this.setVpvActive(this.visbokeymetrics[0]);\n    this.visboKeyMetricsCostOverTime();\n  }\n\n  sameDay(dateA: Date, dateB: Date): boolean {\n    var localA = new Date(dateA);\n    var localB = new Date(dateB);\n    localA.setHours(0,0,0,0);\n    localB.setHours(0,0,0,0);\n    // return false;\n    return localA.getTime() == localB.getTime();\n  }\n\n  visboKeyMetricsCostOverTime(): void {\n    this.graphOptionsLineChart = {\n        // 'chartArea':{'left':20,'top':0,width:'800','height':'100%'},\n        width: '100%',\n        title:'Actual & Total Cost: Plan vs. Base Line',\n        animation: {startup: true, duration: 200},\n        legend: {position: 'top'},\n        explorer: {actions: ['dragToZoom', 'rightClickToReset'], maxZoomIn: .01},\n        vAxis: {\n          title: 'Cost in k\\u20AC',\n          minorGridlines: {count: 0, color: 'none'}\n        },\n        hAxis: {\n          format: 'MMM YY',\n          gridlines: {\n            count: -1\n          },\n          minorGridlines: {count: 0, color: 'none'}\n        },\n        pointSize: 14,\n        curveType: 'function',\n        series: this.series,\n        colors: this.colors\n      };\n    var keyMetricsCost: any = [];\n    if (!this.visboprojectversions) return;\n\n    for (var i = 0; i < this.visboprojectversions.length; i++) {\n      if (!this.visboprojectversions[i].keyMetrics) {\n        // this.visboprojectversions[i].keyMetrics =  new VPVKeyMetrics;\n        continue;\n      }\n      // skip multiple versions per day\n      if (i < this.visboprojectversions.length - 1 && this.sameDay(this.visboprojectversions[i].timestamp, this.visboprojectversions[i + 1].timestamp)) {\n        this.log(`visboKeyMetrics Skip Same Day  ${this.visboprojectversions[i].timestamp}  ${this.visboprojectversions[i+1].timestamp}`);\n        continue;\n      }\n      // this.log(`visboKeyMetrics Push  ${this.visboprojectversions[i].timestamp}`);\n      keyMetricsCost.push([\n        new Date(this.visboprojectversions[i].timestamp),\n        Math.trunc(this.visboprojectversions[i].keyMetrics.costBaseLastTotal || 0),\n        Math.trunc(this.visboprojectversions[i].keyMetrics.costBaseLastActual || 0),\n        Math.trunc(this.visboprojectversions[i].keyMetrics.costCurrentTotal || 0),\n        Math.trunc(this.visboprojectversions[i].keyMetrics.costCurrentActual || 0)\n      ])\n    }\n    if (keyMetricsCost.length == 0) {\n      this.log(`keyMetricsCost empty`);\n      keyMetricsCost.push([new Date(), 0, 0, 0, 0])\n    }\n    keyMetricsCost.sort(function(a, b) { return a[0] - b[0] });\n    // we need at least 2 items for Line Chart and show the current status for today\n    var len = keyMetricsCost.length;\n    // this.log(`visboKeyMetrics len ${len} ${JSON.stringify(this.visboprojectversions[len-1])}`);\n    if (len == 1) {\n      keyMetricsCost.push([\n        new Date(),\n        keyMetricsCost[len-1][1],\n        keyMetricsCost[len-1][2],\n        keyMetricsCost[len-1][3],\n        keyMetricsCost[len-1][4]\n      ])\n    }\n\n    keyMetricsCost.push(['Timestamp', 'Total (Base Line)', 'Actual (Base Line)', 'Total (Plan)', 'Actual (Plan)']);\n    keyMetricsCost.reverse();\n    // this.log(`visboKeyMetrics VP cost budget  ${JSON.stringify(keyMetricsCost)}`);\n    this.graphDataLineChart = keyMetricsCost;\n  }\n\n  visboKeyMetricsDeliveriesOverTime(): void {\n    this.graphOptionsLineChart = {\n        // 'chartArea':{'left':20,'top':0,width:'800','height':'100%'},\n        width: '100%',\n        title:'Completion of Deliveries: Plan vs. Base Line',\n        animation: {startup: true, duration: 200},\n\n        explorer: {actions: ['dragToZoom', 'rightClickToReset'], maxZoomIn: .01},\n        legend: {position: 'top'},\n        vAxes: [\n          {\n            title: 'Weighted Number of Deliveries completed',\n            minorGridlines: {count: 0, color: 'none'}\n          },\n          {\n            title: 'Ahead/Delay in Days',\n            minorGridlines: {count: 0, color: 'none'}\n          }\n        ],\n        // vAxis: {\n        //   title: 'Weighted Number of Deliveries completed',\n        //   minorGridlines: {count: 0, color: 'none'}\n        // },\n        hAxis: {\n          format: 'MMM YY',\n          gridlines: {\n            count: -1\n          },\n          minorGridlines: {count: 0, color: 'none'}\n        },\n        curveType: 'function',\n        pointSize: 14,\n        series: this.series,\n        colors: this.colors\n      };\n    // assign to second yAxis\n    this.graphOptionsLineChart.series[4].targetAxisIndex = 1;\n    this.graphOptionsLineChart.series[5].targetAxisIndex = 1;\n\n    var keyMetrics: any = [];\n    if (!this.visboprojectversions) return;\n\n    for (var i = 0; i < this.visboprojectversions.length; i++) {\n      if (!this.visboprojectversions[i].keyMetrics) {\n        continue;\n      }\n      // skip multiple versions per day\n      if (i < this.visboprojectversions.length - 1 && this.sameDay(this.visboprojectversions[i].timestamp, this.visboprojectversions[i + 1].timestamp)) {\n        this.log(`visboKeyMetrics Skip Same Day  ${this.visboprojectversions[i].timestamp}  ${this.visboprojectversions[i+1].timestamp}`);\n        continue;\n      }\n      keyMetrics.push([\n        new Date(this.visboprojectversions[i].timestamp),\n        Math.round((this.visboprojectversions[i].keyMetrics.deliverableCompletionBaseLastTotal || 0) * 100)/100,\n        Math.round((this.visboprojectversions[i].keyMetrics.deliverableCompletionBaseLastActual || 0) * 100)/100,\n        Math.round((this.visboprojectversions[i].keyMetrics.deliverableCompletionCurrentTotal || 0) * 100)/100,\n        Math.round((this.visboprojectversions[i].keyMetrics.deliverableCompletionCurrentActual || 0) * 100)/100,\n        this.visboprojectversions[i].keyMetrics.deliverableDelayCurrentActual || 0,\n        this.visboprojectversions[i].keyMetrics.deliverableDelayCurrentTotal || 0\n      ])\n      // this.log(`visboKeyMetrics push ${JSON.stringify(keyMetrics[keyMetrics.length-1])}`);\n    }\n    if (keyMetrics.length == 0) {\n      this.log(`visboKeyMetrics empty`);\n      keyMetrics.push([new Date(), 0, 0, 0, 0, 0, 0])\n    }\n    keyMetrics.sort(function(a, b) { return a[0] - b[0] });\n    // we need at least 2 items for Line Chart and show the current status for today\n    var len = keyMetrics.length;\n    // this.log(`visboKeyMetrics duplicate ${len-1} ${JSON.stringify(this.visboprojectversions[len-1])}`);\n    if (len == 1) {\n      keyMetrics.push([\n        new Date(),\n        keyMetrics[len-1][1],\n        keyMetrics[len-1][2],\n        keyMetrics[len-1][3],\n        keyMetrics[len-1][4],\n        keyMetrics[len-1][5],\n        keyMetrics[len-1][6]\n      ])\n    }\n    this.graphOptionsLineChart.vAxes[0].maxValue = this.calcRangeAxis(keyMetrics, 'Delivery')\n    this.graphOptionsLineChart.vAxes[0].minValue = -this.graphOptionsLineChart.vAxes[0].maxValue\n    this.graphOptionsLineChart.vAxes[1].maxValue = this.calcRangeAxis(keyMetrics, 'Delay');\n    this.graphOptionsLineChart.vAxes[1].minValue  = - this.graphOptionsLineChart.vAxes[1].maxValue\n    keyMetrics.push(['Timestamp', 'Total (Base Line)', 'Actual (Base Line)', 'Total', 'Actual Completion', 'Ahead/Delay Actual', 'Ahead/Delay Total']);\n    keyMetrics.reverse();\n    this.log(`visboKeyMetrics VP Delivery Completion  ${JSON.stringify(this.graphOptionsLineChart)}`);\n    this.graphDataLineChart = keyMetrics;\n  }\n\n  visboKeyMetricsDeadlinesOverTime(): void {\n    this.graphOptionsLineChart = {\n        // 'chartArea':{'left':20,'top':0,width:'800','height':'100%'},\n        width: '100%',\n        title:'Achievement of Deadlines current & plan',\n        animation: {startup: true, duration: 200},\n\n        explorer: {actions: ['dragToZoom', 'rightClickToReset'], maxZoomIn: .01},\n        legend: {position: 'top'},\n        vAxes: [\n          {\n            title: 'Number of weighted completed Deadlines',\n            minorGridlines: {count: 0, color: 'none'}\n          },\n          {\n            title: 'Ahead/Delay in Days',\n            minorGridlines: {count: 0, color: 'none'}\n          }\n        ],\n        hAxis: {\n          format: 'MMM YY',\n          gridlines: {\n            count: -1\n          },\n          minorGridlines: {count: 0, color: 'none'}\n        },\n        pointSize: 14,\n        curveType: 'function',\n        series: this.series,\n        colors: this.colors\n      };\n    // assign to second yAxis\n    this.graphOptionsLineChart.series[4].targetAxisIndex = 1;\n    this.graphOptionsLineChart.series[5].targetAxisIndex = 1;\n\n    var keyMetrics: any = [];\n    if (!this.visboprojectversions) return;\n\n    for (var i = 0; i < this.visboprojectversions.length; i++) {\n      if (!this.visboprojectversions[i].keyMetrics) {\n        continue;\n      }\n      // skip multiple versions per day\n      if (i < this.visboprojectversions.length - 1 && this.sameDay(this.visboprojectversions[i].timestamp, this.visboprojectversions[i + 1].timestamp)) {\n        this.log(`visboKeyMetrics Skip Same Day  ${this.visboprojectversions[i].timestamp}  ${this.visboprojectversions[i+1].timestamp}`);\n        continue;\n      }\n      keyMetrics.push([\n        new Date(this.visboprojectversions[i].timestamp),\n        Math.round((this.visboprojectversions[i].keyMetrics.timeCompletionBaseLastTotal || 0) * 100)/100,\n        Math.round((this.visboprojectversions[i].keyMetrics.timeCompletionBaseLastActual || 0) * 100)/100,\n        Math.round((this.visboprojectversions[i].keyMetrics.timeCompletionCurrentTotal || 0) * 100)/100,\n        Math.round((this.visboprojectversions[i].keyMetrics.timeCompletionCurrentActual || 0) * 100)/100,\n        this.visboprojectversions[i].keyMetrics.timeDelayCurrentActual || 0,\n        this.visboprojectversions[i].keyMetrics.timeDelayCurrentTotal || 0\n      ])\n    }\n    if (keyMetrics.length == 0) {\n      this.log(`visboKeyMetrics empty`);\n      keyMetrics.push([new Date(), 0, 0, 0, 0, 0, 0])\n    }\n    keyMetrics.sort(function(a, b) { return a[0] - b[0] });\n    // we need at least 2 items for Line Chart and show the current status for today\n    var len = keyMetrics.length;\n    this.log(`visboKeyMetrics duplicate ${len-1} ${JSON.stringify(this.visboprojectversions[len-1])}`);\n    if (len == 1) {\n      keyMetrics.push([\n        new Date(),\n        keyMetrics[len-1][1],\n        keyMetrics[len-1][2],\n        keyMetrics[len-1][3],\n        keyMetrics[len-1][4],\n        keyMetrics[len-1][5],\n        keyMetrics[len-1][6]\n      ])\n    }\n    this.graphOptionsLineChart.vAxes[0].maxValue = this.calcRangeAxis(keyMetrics, 'Deadline')\n    this.graphOptionsLineChart.vAxes[0].minValue = -this.graphOptionsLineChart.vAxes[0].maxValue\n    this.graphOptionsLineChart.vAxes[1].maxValue = this.calcRangeAxis(keyMetrics, 'Delay');\n    this.graphOptionsLineChart.vAxes[1].minValue  = - this.graphOptionsLineChart.vAxes[1].maxValue\n\n    keyMetrics.push(['Timestamp', 'Total (Base Line)', 'Actual (Base Line)', 'Total Date Completion', 'Actual Date Completion', 'Ahead/Delay Actual', 'Ahead/Delay Total']);\n    // keyMetrics.push(['Timestamp', 'All Deadlines', 'Past Deadlines']);\n    keyMetrics.reverse();\n    // this.log(`visboKeyMetrics VP Date Completion  ${JSON.stringify(keyMetrics)}`);\n    this.graphDataLineChart = keyMetrics;\n  }\n\n  calcRangeAxis(keyMetrics: [], type: string): number {\n    var rangeAxis: number = 0;\n    var minSize: number = Infinity, maxSize: number = 0;\n    var minDelayRange = 50;\n\n    rangeAxis = 0;\n    for (var i=0; i < keyMetrics.length; i++) {\n      switch (type) {\n        case 'Delay':\n          rangeAxis = Math.max(rangeAxis, Math.abs(keyMetrics[i][5]), Math.abs(keyMetrics[i][6]), minDelayRange);\n          break;\n        case 'Delivery':\n          rangeAxis = Math.max(rangeAxis, Math.abs(keyMetrics[i][1]));\n          break;\n        case 'Deadline':\n          rangeAxis = Math.max(rangeAxis, Math.abs(keyMetrics[i][1]));\n          break;\n      }\n    }\n    rangeAxis *= 1.1;\n    this.log(`RangeAxis for ${type}: ${rangeAxis}`);\n    return rangeAxis;\n  }\n\n  gotoVisboProjectVersions(): void {\n    this.log(`goto VPV All Versions ${this.vpvKeyMetricActive.vpid} `);\n    this.router.navigate(['vpv/'.concat(this.vpvKeyMetricActive.vpid)], {});\n  }\n\n  gotoViewCost(): void {\n    this.log(`goto VPV View Cost ${this.vpvKeyMetricActive.vpid} `);\n    var queryParams = { vpvid: this.vpvKeyMetricActive._id };\n    this.router.navigate(['vpViewCost/'.concat(this.vpvKeyMetricActive.vpid)], { queryParams: queryParams});\n  }\n\n  gotoClickedRow(visboprojectversion: VisboProjectVersion):void {\n    this.log(`goto VPV Detail for VP ${visboprojectversion.name} Deleted ${this.deleted}`);\n    this.router.navigate(['vpvDetail/'.concat(visboprojectversion._id)], this.deleted ? { queryParams: { deleted: this.deleted }} : {});\n    // this.router.navigate(['vpvDetail/'.concat(visboprojectversion._id)], {});\n  }\n\n  listSelectRow(vpv: VPVKeyMetricsCalc): void {\n    this.log(`List: User selected ${vpv._id} ${vpv.name}`);\n    this.setVpvActive(vpv);\n  }\n\n  chartSelectRow(row: number, col: number, label: string) {\n    this.log(`Line Chart: User selected ${row} ${col} ${label} Len ${this.visbokeymetrics.length}`);\n    if (row < 0 || row >= this.visbokeymetrics.length) row = 0;\n    this.setVpvActive(this.visbokeymetrics[row]);\n    this.log(`Line Chart: User selected ${row} ${col} ${this.vpvKeyMetricActive._id} ${this.vpvKeyMetricActive.timestamp}`);\n  }\n\n  setVpvActive(vpv: VPVKeyMetricsCalc) : void {\n    var keyMetrics = vpv.keyMetrics;\n    var index: number;\n    let level1 = 0.05;\n    let level2 = 0.15;\n    let delay1 = 7;\n    this.vpvKeyMetricActive = vpv;\n    this.log(`VPV Active: vpv: ${vpv._id} ${this.vpvKeyMetricActive._id} ${this.vpvKeyMetricActive.timestamp}`);\n\n    index = keyMetrics.costCurrentActual / (keyMetrics.costBaseLastActual || 1)\n    if (index < 1 + level1) this.qualityCost = 1\n    else if (index < 1 + level2) this.qualityCost = 2\n    else this.qualityCost = 3\n\n    index = keyMetrics.costCurrentTotal / (keyMetrics.costBaseLastTotal || 1)\n    if (index < 1 + level1) this.qualityTotalCost = 1\n    else if (index < 1 + level2) this.qualityTotalCost = 2\n    else this.qualityTotalCost = 3\n\n    index = keyMetrics.timeCompletionCurrentActual / (keyMetrics.timeCompletionBaseLastActual || 1)\n    if (index > 1 - level1) this.qualityDeadlines = 1\n    else if (index > 1 - level2) this.qualityDeadlines = 2\n    else this.qualityDeadlines = 3\n\n    index = keyMetrics.deliverableCompletionCurrentActual / (keyMetrics.deliverableCompletionBaseLastActual || 1)\n    if (index > 1 - level1) this.qualityDelivery = 1\n    else if (index > 1 - level2) this.qualityDelivery = 2\n    else this.qualityDelivery = 3\n\n    index = keyMetrics.deliverableDelayCurrentActual || 0\n    if (index <= 0) this.delayActualDelivery = 1\n    else if (index > delay1) this.delayActualDelivery = 2\n    else this.delayActualDelivery = 3\n\n    index = keyMetrics.deliverableDelayCurrentTotal || 0\n    if (index <= 0) this.delayTotalDelivery = 1\n    else if (index > delay1) this.delayTotalDelivery = 2\n    else this.delayTotalDelivery = 3\n\n    index = keyMetrics.timeDelayCurrentActual || 0\n    if (index <= 0) this.delayActualDeadlines = 1\n    else if (index > delay1) this.delayActualDeadlines = 2\n    else this.delayActualDeadlines = 3\n\n    index = keyMetrics.timeDelayCurrentTotal || 0\n    if (index <= 0) this.delayTotalDeadlines = 1\n    else if (index > delay1) this.delayTotalDeadlines = 2\n    else this.delayTotalDeadlines = 3\n\n    index = (new Date(keyMetrics.endDateCurrent)).getTime() - (new Date(keyMetrics.endDateBaseLast)).getTime();\n    this.delayEndDate = Math.round(index / 1000 / 60 / 60 / 24) / 7;\n    this.log(`Quality End Date ${keyMetrics.endDateCurrent} Cost ${this.qualityCost} Del. ${this.qualityDelivery} Dead. ${this.qualityDeadlines} EndDate ${this.delayEndDate}, Delay Deadlines ${this.delayActualDeadlines} / ${this.delayTotalDeadlines} Delay Deliveries ${this.delayActualDelivery} / ${this.delayTotalDelivery} `);\n  }\n\n  gotoVPDetail(visboproject: VisboProject):void {\n    this.router.navigate(['vpDetail/'.concat(visboproject._id)]);\n  }\n\n  gotoVC(visboproject: VisboProject):void {\n    this.router.navigate(['vp/'.concat(visboproject.vcid)]);\n  }\n\n  changeChart() {\n    this.log(`Switch Chart to ${this.typeMetric} `);\n    this.typeMetricChart = this.typeMetricList.find(x => x.name == this.typeMetric).metric;\n    switch (this.typeMetricChart) {\n      case 'Costs':\n        this.visboKeyMetricsCostOverTime();\n        break;\n      case 'Deadlines':\n        this.visboKeyMetricsDeadlinesOverTime();\n        break;\n      case 'Deliveries':\n        this.visboKeyMetricsDeliveriesOverTime();\n        break;\n    }\n  }\n\n  switchTo(metric: string) {\n    this.log(`Switch Chart from ${this.typeMetricChart} to ${metric} `);\n    if (this.typeMetricChart == metric) {\n      this.showHistory(!this.history);\n      return;\n    }\n    var newTypeMetric = this.typeMetricList.find(x => x.metric == metric).name;\n    // toggle between drop down views\n    if (newTypeMetric) {\n      this.typeMetricChart = metric;\n      this.typeMetric = newTypeMetric;\n      this.showHistory(true);\n      switch (metric) {\n        case 'Costs':\n          this.visboKeyMetricsCostOverTime();\n          break;\n        case 'Deadlines':\n          this.visboKeyMetricsDeadlinesOverTime();\n          break;\n        case 'Deliveries':\n          this.visboKeyMetricsDeliveriesOverTime();\n          break;\n      }\n    } else {\n      // toggle to vpv Detail View\n      switch (metric) {\n        case 'DetailCosts':\n          break;\n        case 'DetailDeadlines':\n          break;\n        case 'DetailDeliveries':\n          break;\n      }\n    }\n  }\n\n  switchChart() {\n    this.chart = !this.chart\n    this.chartButton = this.chart ? \"View List\" : \"View Chart\";\n    // this.log(`Toggle Chart to ${this.chart} Graph ${JSON.stringify(this.graphDataLineChart)}`);\n  }\n\n  showHistory(newValue: boolean) {\n    this.history = newValue;\n    this.historyButton = this.history ? \"Hide Trend\" : \"View Trend\";\n  }\n\n  helperDateDiff(from: string, to: string, unit: string): number {\n    var fromDate: Date = new Date(from);\n    var toDate: Date = new Date(to);\n    var dateDiff: number = fromDate.getTime() - toDate.getTime();\n    if (unit == 'w') {\n      dateDiff = dateDiff / 1000 / 60 / 60 / 24 / 7;\n    } else if (unit == 'd') {\n      dateDiff = dateDiff / 1000 / 60 / 60 / 24;\n    } else {\n      dateDiff = dateDiff / 1000;\n    }\n    return dateDiff\n  }\n\n  getShortText(text: string, len: number) : string {\n    if (!text) return \"\";\n    if (text.length < len) return text;\n    if (len < 3) return '...'\n    return text.substring(0, len - 3).concat('...')\n  }\n\n  sortVPVTable(n) {\n    if (!this.visboprojectversions) return\n    if (n != undefined) {\n      if (n != this.sortColumn) {\n        this.sortColumn = n;\n        this.sortAscending = undefined;\n      }\n      if (this.sortAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortAscending = ( n == 5 ) ? true : false;\n      }\n      else this.sortAscending = !this.sortAscending;\n    } else {\n      this.sortColumn = 1;\n      this.sortAscending = false;\n    }\n    if (this.sortColumn == 1) {\n      // sort by VPV Timestamp\n      this.visboprojectversions.sort(function(a, b) {\n        var result = 0\n        if (a.timestamp > b.timestamp)\n          result = 1;\n        else if (a.timestamp < b.timestamp)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 2) {\n      // sort by VPV endDate\n      this.visboprojectversions.sort(function(a, b) {\n        var result = 0\n        // this.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.endDate > b.endDate)\n          result = 1;\n        else if (a.endDate < b.endDate)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 3) {\n      // sort by VPV ampelStatus\n      this.visboprojectversions.sort(function(a, b) {\n        var result = 0\n        // this.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.ampelStatus > b.ampelStatus)\n          result = 1;\n        else if (a.ampelStatus < b.ampelStatus)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 4) {\n      // sort by VPV Erloes\n      this.visboprojectversions.sort(function(a, b) {\n        var result = 0\n        // this.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.Erloes > b.Erloes)\n          result = 1;\n        else if (a.Erloes < b.Erloes)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 5) {\n      // sort by VC vpvCount\n      this.visboprojectversions.sort(function(a, b) {\n        var result = 0\n        if (a.variantName.toLowerCase() > b.variantName.toLowerCase())\n          result = 1;\n        else if (a.variantName.toLowerCase() < b.variantName.toLowerCase())\n          result = -1;\n        return result\n      })\n    }\n    if (!this.sortAscending) {\n      this.visboprojectversions.reverse();\n    }\n  }\n\n  sortKeyMetricsTable(n) {\n    if (!this.visbokeymetrics) return;\n    if (n != undefined) {\n      if (n != this.sortColumn) {\n        this.sortColumn = n;\n        this.sortAscending = undefined;\n      }\n      if (this.sortAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortAscending = ( n == 1 ) ? true : false;\n      }\n      else this.sortAscending = !this.sortAscending;\n    } else {\n      this.sortColumn = 1;\n      this.sortAscending = false;\n    }\n\n    this.log(`Sort Key Metrics: Col ${n} Asc ${this.sortAscending}`);\n\n    if (this.sortColumn == 1) {\n      // sort by Timestamp\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.timestamp > b.timestamp)\n          result = 1;\n        else if (a.timestamp < b.timestamp)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 2) {\n      // sort by keyMetrics Saving Cost Actual\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.savingCostActual > b.savingCostActual)\n          result = 1;\n        else if (a.savingCostActual < b.savingCostActual)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 3) {\n      // sort by keyMetrics Saving Cost Total\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.savingCostTotal > b.savingCostTotal)\n          result = 1;\n        else if (a.savingCostTotal < b.savingCostTotal)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 4) {\n      // sort by keyMetrics Base Line Cost Actual\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.keyMetrics.costBaseLastActual > b.keyMetrics.costBaseLastActual)\n          result = 1;\n        else if (a.keyMetrics.costBaseLastActual < b.keyMetrics.costBaseLastActual)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 5) {\n      // sort by keyMetrics Base Line Cost Total\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.keyMetrics.costBaseLastTotal > b.keyMetrics.costBaseLastTotal)\n          result = 1;\n        else if (a.keyMetrics.costBaseLastTotal < b.keyMetrics.costBaseLastTotal)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 6) {\n      // sort by keyMetrics Traffic Light\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.ampelStatus > b.ampelStatus)\n          result = 1;\n        else if (a.ampelStatus < b.ampelStatus)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 10) {\n      // sort by keyMetrics Status\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.timeCompletionActual > b.timeCompletionActual)\n          result = 1;\n        else if (a.timeCompletionActual < b.timeCompletionActual)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 11) {\n      // sort by keyMetrics endDate\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.keyMetrics.timeCompletionBaseLastActual > b.keyMetrics.timeCompletionBaseLastActual)\n          result = 1;\n        else if (a.keyMetrics.timeCompletionBaseLastActual < b.keyMetrics.timeCompletionBaseLastActual)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 12) {\n      // sort by keyMetrics endDate\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.keyMetrics.timeCompletionBaseLastTotal > b.keyMetrics.timeCompletionBaseLastTotal)\n          result = 1;\n        else if (a.keyMetrics.timeCompletionBaseLastTotal < b.keyMetrics.timeCompletionBaseLastTotal)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 13) {\n      // sort by keyMetrics endDate\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.keyMetrics.timeDelayCurrentActual > b.keyMetrics.timeDelayCurrentActual)\n          result = 1;\n        else if (a.keyMetrics.timeDelayCurrentActual < b.keyMetrics.timeDelayCurrentActual)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 14) {\n      // sort by keyMetrics endDate\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.keyMetrics.timeDelayCurrentTotal > b.keyMetrics.timeDelayCurrentTotal)\n          result = 1;\n        else if (a.keyMetrics.timeDelayCurrentTotal < b.keyMetrics.timeDelayCurrentTotal)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 20) {\n      // sort by keyMetrics Status\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.deliveryCompletionActual > b.deliveryCompletionActual)\n          result = 1;\n        else if (a.deliveryCompletionActual < b.deliveryCompletionActual)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 21) {\n      // sort by keyMetrics endDate\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.keyMetrics.deliverableCompletionCurrentActual > b.keyMetrics.deliverableCompletionCurrentActual)\n          result = 1;\n        else if (a.keyMetrics.deliverableCompletionCurrentActual < b.keyMetrics.deliverableCompletionCurrentActual)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 22) {\n      // sort by keyMetrics endDate\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.keyMetrics.deliverableCompletionCurrentTotal > b.keyMetrics.deliverableCompletionCurrentTotal)\n          result = 1;\n        else if (a.keyMetrics.deliverableCompletionCurrentTotal < b.keyMetrics.deliverableCompletionCurrentTotal)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 23) {\n      // sort by keyMetrics endDate\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.keyMetrics.deliverableDelayCurrentActual > b.keyMetrics.deliverableDelayCurrentActual)\n          result = 1;\n        else if (a.keyMetrics.deliverableDelayCurrentActual < b.keyMetrics.deliverableDelayCurrentActual)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 24) {\n      // sort by keyMetrics endDate\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.keyMetrics.deliverableDelayCurrentTotal > b.keyMetrics.deliverableDelayCurrentTotal)\n          result = 1;\n        else if (a.keyMetrics.deliverableDelayCurrentTotal < b.keyMetrics.deliverableDelayCurrentTotal)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 32) {\n      // sort by keyMetrics endDate\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.keyMetrics.endDateBaseLast > b.keyMetrics.endDateBaseLast)\n          result = 1;\n        else if (a.keyMetrics.endDateBaseLast < b.keyMetrics.endDateBaseLast)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 33) {\n      // sort by keyMetrics saving EndDate\n      this.visbokeymetrics.sort(function(a, b) {\n        var result = 0\n        if (a.savingEndDate > b.savingEndDate)\n          result = 1;\n        else if (a.savingEndDate < b.savingEndDate)\n          result = -1;\n        return result\n      })\n    }\n    if (!this.sortAscending) {\n      this.visbokeymetrics.reverse();\n    }\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('VisboProjectKeyMetrics: ' + message);\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { VisboProject } from '../_models/visboproject';\nimport { VisboProjectService } from '../_services/visboproject.service';\n\nimport { VisboProjectVersion, VPVCost } from '../_models/visboprojectversion';\nimport { VisboProjectVersionService } from '../_services/visboprojectversion.service';\n\nimport { VGGroup, VGPermission, VGUser, VGUserGroup, VGPVC, VGPVP } from '../_models/visbogroup';\n\n@Component({\n  selector: 'app-visboproject-viewcost',\n  templateUrl: './visboproject-viewcost.component.html'\n})\nexport class VisboProjectViewCostComponent implements OnInit {\n\n  visboprojectversions: VisboProjectVersion[];\n\n  vpSelected: string;\n  vpActive: VisboProject;\n  vpvActive: VisboProjectVersion;\n  initVPVID: string;\n  vpvCost: [VPVCost];\n  deleted: boolean = false;\n\n  vpvTotalCostBaseLine: number;\n  vpvTotalCostCurrent: number;\n\n  refDateInterval: string = \"month\";\n  vpvRefDate: Date;\n  chartButton: string = \"View List\";\n  chart: boolean = true;\n  history: boolean = false;\n  historyButton: string = \"View Trend\"\n  parentThis: any;\n\n  // colors: string[] = ['#FF9900', '#FF9900', '#3399cc', '#FA8258'];\n  colors: string[] = ['#F7941E', '#458CCB'];\n  series: any =  {\n    '0': { lineWidth: 4, pointShape: 'star' },\n    '1': { lineWidth: 4, pointShape: 'triangle' }\n  };\n\n  graphDataLineChart: any[] = [];\n  graphOptionsLineChart: any = undefined;\n\n  sortAscending: boolean = false;\n  sortColumn: number = 1;\n\n  combinedPerm: VGPermission = undefined;\n  permVC: any = VGPVC;\n  permVP: any = VGPVP;\n\n  constructor(\n    private visboprojectversionService: VisboProjectVersionService,\n    private visboprojectService: VisboProjectService,\n    private messageService: MessageService,\n    private alertService: AlertService,\n    private route: ActivatedRoute,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    if (this.route.snapshot.queryParams.vpvid) {\n      this.initVPVID = this.route.snapshot.queryParams.vpvid\n    }\n    this.getVisboProjectVersions();\n  }\n\n  onSelect(visboprojectversion: VisboProjectVersion): void {\n    this.getVisboProjectVersions();\n  }\n\n  hasVPPerm(perm: number): boolean {\n    if (this.combinedPerm == undefined) return false\n    return (this.combinedPerm.vp & perm) > 0\n  }\n\n  getVisboProjectVersions(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    var i: number;\n    this.vpSelected = id;\n    this.parentThis = this;\n    var chartFlag = this.chart;\n\n    this.log(`get VP name if ID is used ${id}`);\n    if (id) {\n      this.visboprojectService.getVisboProject(id)\n        .subscribe(\n          visboproject => {\n            this.vpActive = visboproject;\n            this.combinedPerm = visboproject.perm;\n            this.log(`get VP name if ID is used ${this.vpActive.name} Perm ${JSON.stringify(this.combinedPerm)}`);\n            this.visboprojectversionService.getVisboProjectVersions(id, this.deleted, \"\", false)\n              .subscribe(\n                visboprojectversions => {\n                  this.visboprojectversions = visboprojectversions;\n                  this.log(`get VPV: Get ${visboprojectversions.length} Project Versions`);\n                  if (visboprojectversions.length > 0) {\n                    this.sortVPVTable();\n                  }\n                  var initIndex = 0\n                  if (this.initVPVID) {\n                    for (var i=0; i < visboprojectversions.length; i++) {\n                      if (visboprojectversions[i]._id.toString() == this.initVPVID) {\n                        initIndex = i;\n                        break;\n                      }\n                    }\n                  }\n                  this.visboCostCalc(initIndex);\n                  if (this.hasVPPerm(this.permVP.ViewAudit)) {\n                    this.chart = chartFlag;\n                  } else {\n                    this.chart = false;\n                  }\n                },\n                error => {\n                  this.log(`get VPVs failed: error: ${error.status} message: ${error.error.message}`);\n                  if (error.status == 403) {\n                    this.alertService.error(`Permission Denied for Visbo Project Versions`);\n                  } else {\n                    this.alertService.error(error.error.message);\n                  }\n                }\n              );\n          },\n          error => {\n            this.log(`get VPV VP failed: error: ${error.status} message: ${error.error.message}`);\n            if (error.status == 403) {\n              this.alertService.error(`Permission Denied for Visbo Project`);\n            } else {\n              this.alertService.error(error.error.message);\n            }\n        });\n    }\n  }\n\n  visboCostCalc(index: number): void {\n    var chartFlag = this.chart;\n    this.chart = false;\n    this.vpvActive = this.visboprojectversions[index]\n    this.vpvRefDate = this.vpvActive.timestamp;\n    if (!this.vpvActive) return;\n\n    // MS TODO: check if we have the cost already for this timestamp and skip fetching it again\n    // if (this.vpvActive.cost) {\n    //   this.visboViewCostOverTime(this.vpvActive._id);\n    //   if (this.hasVPPerm(this.permVP.ViewAudit)) {\n    //     this.chart = chartFlag;\n    //   } else {\n    //     this.chart = false;\n    //   }\n    //   return;\n    // }\n\n    this.log(`Cost Calc for Version  ${this.vpvActive._id} ${this.vpvActive.timestamp}`);\n    this.visboprojectversionService.getCost(this.vpvActive._id)\n      .subscribe(\n        visboprojectversions => {\n          this.log(`get VPV Calc: Get ${visboprojectversions.length} vpvs with ${visboprojectversions[0].cost.length} cost entries`);\n          if (visboprojectversions.length != 1 || !visboprojectversions[0].cost) {\n            this.log(`get VPV Calc: Reset Cost to empty `);\n            // this.vpvCost[visboprojectversions[0]._id] = [];\n            this.vpvCost = [new VPVCost];\n          } else {\n            this.log(`Store Cost for ${visboprojectversions[0]._id} Len ${visboprojectversions[0].cost.length} `);\n            // this.vpvCost[visboprojectversions[0]._id] = visboprojectversions[0].cost;\n            this.vpvCost = visboprojectversions[0].cost;\n            this.visboprojectversions[index].cost = this.vpvCost;\n          }\n\n          this.visboViewCostOverTime(visboprojectversions[0]._id);\n          if (this.hasVPPerm(this.permVP.ViewAudit)) {\n            this.chart = chartFlag;\n          } else {\n            this.chart = false;\n          }\n        },\n        error => {\n          this.log(`get VPVs failed: error: ${error.status} message: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied for Visbo Project Versions`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  sameDay(dateA: Date, dateB: Date): boolean {\n    var localA = new Date(dateA);\n    var localB = new Date(dateB);\n    localA.setHours(0,0,0,0);\n    localB.setHours(0,0,0,0);\n    // return false;\n    return localA.getTime() == localB.getTime();\n  }\n\n  visboViewCostOverTime(id: string): void {\n    this.graphOptionsLineChart = {\n        // 'chartArea':{'left':20,'top':0,width:'800','height':'100%'},\n        width: '100%',\n        title:'Monthly Cost: Plan vs. Base Line',\n        // animation: {startup: true, duration: 200},\n        legend: {position: 'top'},\n        explorer: {actions: ['dragToZoom', 'rightClickToReset'], maxZoomIn: .01},\n        vAxis: {\n          title: 'Monthly Cost in k\\u20AC',\n          minorGridlines: {count: 0, color: 'none'}\n        },\n        hAxis: {\n          format: 'MMM YY',\n          gridlines: {\n            count: -1\n          },\n          minorGridlines: {count: 0, color: 'none'}\n        },\n        pointSize: 14,\n        curveType: 'function',\n        series: this.series,\n        colors: this.colors\n      };\n    var graphDataCost: any = [];\n    if (!this.vpvCost) return;\n\n    var cost = this.vpvCost;\n    this.vpvTotalCostBaseLine = 0;\n    this.vpvTotalCostCurrent = 0;\n\n    for (var i = 0; i < cost.length; i++) {\n      // this.log(`ViewCostOverTime Push  ${cost[i].currentDate}`);\n      graphDataCost.push([\n        new Date(cost[i].currentDate),\n        Math.trunc(cost[i].baseLineCost || 0),\n        Math.trunc(cost[i].currentCost || 0)      ])\n        this.vpvTotalCostBaseLine += cost[i].baseLineCost || 0;\n        this.vpvTotalCostCurrent += cost[i].currentCost || 0;\n    }\n    if (graphDataCost.length == 0) {\n      this.log(`ViewCostOverTime Result empty`);\n      graphDataCost.push([new Date(), 0, 0, 0, 0])\n    }\n    graphDataCost.sort(function(a, b) { return a[0].getTime() - b[0].getTime() });\n    // we need at least 2 items for Line Chart and show the current status for today\n    var len = graphDataCost.length;\n    // this.log(`visboKeyMetrics len ${len} ${JSON.stringify(this.visboprojectversions[len-1])}`);\n    if (len == 1) {\n      graphDataCost.push([\n        new Date(),\n        graphDataCost[len-1][1],\n        graphDataCost[len-1][2]\n      ])\n    }\n\n    graphDataCost.push(['Timestamp', 'Cost Base Line', 'Cost Plan']);\n    graphDataCost.reverse();\n    // this.log(`view Cost VP cost budget  ${JSON.stringify(graphDataCost)}`);\n    this.graphDataLineChart = graphDataCost;\n  }\n\n  calcRangeAxis(keyMetrics: [], type: string): number {\n    var rangeAxis: number = 0;\n    var minSize: number = Infinity, maxSize: number = 0;\n    var minDelayRange = 50;\n\n    rangeAxis = 0;\n    for (var i=0; i < keyMetrics.length; i++) {\n      switch (type) {\n        case 'Delay':\n          rangeAxis = Math.max(rangeAxis, Math.abs(keyMetrics[i][5]), Math.abs(keyMetrics[i][6]), minDelayRange);\n          break;\n        case 'Delivery':\n          rangeAxis = Math.max(rangeAxis, Math.abs(keyMetrics[i][1]));\n          break;\n        case 'Deadline':\n          rangeAxis = Math.max(rangeAxis, Math.abs(keyMetrics[i][1]));\n          break;\n      }\n    }\n    rangeAxis *= 1.1;\n    this.log(`RangeAxis for ${type}: ${rangeAxis}`);\n    return rangeAxis;\n  }\n\n  getRefDateVersions(increment: number): void {\n    this.log(`get getRefDateVersions ${this.vpvRefDate} ${increment} ${this.refDateInterval}`);\n    var newRefDate = new Date(this.vpvRefDate);\n    switch(this.refDateInterval) {\n      case 'day':\n        newRefDate.setDate(newRefDate.getDate() + increment)\n        break;\n      case 'week':\n        newRefDate.setDate(newRefDate.getDate() + increment * 7)\n        break;\n      case 'month':\n        newRefDate.setMonth(newRefDate.getMonth() + increment)\n        break;\n      case 'quarter':\n        // newRefDate.setMinutes(newRefDate.getMinutes() + increment) // to force quarter skip\n        var quarter = Math.trunc((newRefDate.getMonth() + 1) / 3);\n        if (increment > 0) quarter += increment;\n        newRefDate.setMonth(quarter * 3)\n        newRefDate.setDate(1);\n        newRefDate.setHours(0, 0, 0, 0);\n        var diff = newRefDate.getTime() - this.vpvRefDate.getTime()\n        if (diff == 0) {\n          newRefDate.setMonth(newRefDate.getMonth() + increment * 3)\n        }\n        break;\n    }\n    this.log(`get getRefDateVersions ${(new Date(newRefDate)).toISOString()}`);\n    if (increment > 0) {\n      refDate = new Date(this.visboprojectversions[0].timestamp)\n      if (newRefDate.toISOString() > refDate.toISOString()) {\n        this.visboCostCalc(0);\n        return;\n      }\n    }\n    if (increment < 0) {\n      var refDate = new Date(this.visboprojectversions[this.visboprojectversions.length-1].timestamp)\n      if (newRefDate.toISOString() < refDate.toISOString()) {\n        this.visboCostCalc(this.visboprojectversions.length-1);\n        return;\n      }\n    }\n    this.log(`get getRefDateVersions normalised ${(new Date(newRefDate)).toISOString()}`);\n    for (var i = 0; i < this.visboprojectversions.length; i++) {\n      var cmpDate = new Date(this.visboprojectversions[i].timestamp);\n      this.log(`Compare Date ${cmpDate.toISOString()} ${newRefDate.toISOString()}`);\n      if (cmpDate.toISOString() <= newRefDate.toISOString()) {\n        this.visboCostCalc(increment > 0 ? i-1 : i);\n        break;\n      }\n    }\n  }\n\n  gotoVisboProjectVersions(): void {\n    // this.log(`goto VPV All Versions ${this.vpvKeyMetricActive.vpid} `);\n    // this.router.navigate(['vpv/'.concat(this.vpvKeyMetricActive.vpid)], {});\n  }\n\n  gotoClickedRow(visboprojectversion: VisboProjectVersion):void {\n    // this.log(`goto VPV Detail for VP ${visboprojectversion.name} Deleted ${this.deleted}`);\n    // this.router.navigate(['vpvDetail/'.concat(visboprojectversion._id)], this.deleted ? { queryParams: { deleted: this.deleted }} : {});\n  }\n\n  listSelectRow(vpv: any): void {\n    this.log(`List: User selected ${vpv._id} ${vpv.name}`);\n    // this.setVpvActive(vpv);\n  }\n\n  chartSelectRow(row: number, col: number, label: string) {\n    this.log(`Line Chart: User selected ${row} ${col} ${label} Len`);\n    // if (row < 0 || row >= this.visbokeymetrics.length) row = 0;\n    // this.setVpvActive(this.visbokeymetrics[row]);\n    // this.log(`Line Chart: User selected ${row} ${col} ${this.vpvKeyMetricActive._id} ${this.vpvKeyMetricActive.timestamp}`);\n  }\n\n  setVpvActive(vpv: any) : void {\n    this.log(`setVpvActive Not Implemented`);\n  }\n\n  gotoVPDetail(visboproject: VisboProject):void {\n    this.router.navigate(['vpDetail/'.concat(visboproject._id)]);\n  }\n\n  gotoVP(visboproject: VisboProject):void {\n    this.router.navigate(['vpKeyMetrics/'.concat(visboproject._id)]);\n  }\n\n  gotoVC(visboproject: VisboProject):void {\n    this.router.navigate(['vp/'.concat(visboproject.vcid)]);\n  }\n\n  getShortText(text: string, len: number) : string {\n    if (!text) return \"\";\n    if (text.length < len) return text;\n    if (len < 3) return '...'\n    return text.substring(0, len - 3).concat('...')\n  }\n\n  sortVPVTable(n: number = undefined) {\n    if (!this.visboprojectversions) return\n    if (n != undefined) {\n      if (n != this.sortColumn) {\n        this.sortColumn = n;\n        this.sortAscending = undefined;\n      }\n      if (this.sortAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortAscending = ( n == 5 ) ? true : false;\n      }\n      else this.sortAscending = !this.sortAscending;\n    } else {\n      this.sortColumn = 1;\n      this.sortAscending = false;\n    }\n    if (this.sortColumn == 1) {\n      // sort by VPV Timestamp\n      this.visboprojectversions.sort(function(a, b) {\n        var result = 0\n        if (a.timestamp > b.timestamp)\n          result = 1;\n        else if (a.timestamp < b.timestamp)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 2) {\n      // sort by VPV endDate\n      this.visboprojectversions.sort(function(a, b) {\n        var result = 0\n        // this.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.endDate > b.endDate)\n          result = 1;\n        else if (a.endDate < b.endDate)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 3) {\n      // sort by VPV ampelStatus\n      this.visboprojectversions.sort(function(a, b) {\n        var result = 0\n        // this.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.ampelStatus > b.ampelStatus)\n          result = 1;\n        else if (a.ampelStatus < b.ampelStatus)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 4) {\n      // sort by VPV Erloes\n      this.visboprojectversions.sort(function(a, b) {\n        var result = 0\n        // this.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.Erloes > b.Erloes)\n          result = 1;\n        else if (a.Erloes < b.Erloes)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 5) {\n      // sort by VC vpvCount\n      this.visboprojectversions.sort(function(a, b) {\n        var result = 0\n        if (a.variantName.toLowerCase() > b.variantName.toLowerCase())\n          result = 1;\n        else if (a.variantName.toLowerCase() < b.variantName.toLowerCase())\n          result = -1;\n        return result\n      })\n    }\n    if (!this.sortAscending) {\n      this.visboprojectversions.reverse();\n    }\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('VisboViewCost: ' + message);\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\nimport { ActivatedRoute, Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { ErrorObservable } from 'rxjs/observable/ErrorObservable';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\n\nimport { VisboProject, VPTYPE } from '../_models/visboproject';\nimport { VisboProjectService } from '../_services/visboproject.service';\n\nimport { VisboCenter } from '../_models/visbocenter';\nimport { VisboCenterService }  from '../_services/visbocenter.service';\nimport { VGGroup, VGPermission, VGUser, VGUserGroup, VGPVC, VGPVP } from '../_models/visbogroup';\n\nimport { LoginComponent } from '../login/login.component';\n\n@Component({\n  selector: 'app-visboprojects',\n  templateUrl: './visboprojects.component.html'\n})\nexport class VisboProjectsComponent implements OnInit {\n\n  visboprojects: VisboProject[];\n  vcSelected: string;\n  vcActive: VisboCenter;\n  deleted: boolean = false;\n  sortAscending: boolean;\n  sortColumn: number;\n\n  combinedPerm: VGPermission = undefined;\n  permVC: any = VGPVC;\n  permVP: any = VGPVP;\n\n  constructor(\n    private authenticationService: AuthenticationService,\n    private messageService: MessageService,\n    private alertService: AlertService,\n    private visboprojectService: VisboProjectService,\n    private visbocenterService: VisboCenterService,\n    private route: ActivatedRoute,\n    //private location: Location,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.log(`Init GetVisboProjects ${JSON.stringify(this.route.snapshot.queryParams)}`);\n    this.deleted = this.route.snapshot.queryParams['deleted'] ? true : false;\n    this.log(`Init VP Deleted: ${this.deleted}`)\n    this.getVisboProjects(this.deleted);\n  }\n\n  onSelect(visboproject: VisboProject): void {\n    this.getVisboProjects(this.deleted);\n  }\n\n  hasVPPerm(perm: number): boolean {\n    if (this.combinedPerm == undefined) return false\n    return (this.combinedPerm.vp & perm) > 0\n  }\n\n  hasVCPerm(perm: number): boolean {\n    if (this.combinedPerm == undefined) return false\n    return (this.combinedPerm.vc & perm) > 0\n  }\n\n  getVPType(vpType: number): string {\n    return VPTYPE[vpType];\n  }\n\n  toggleVisboProjects(): void {\n    this.deleted = !this.deleted\n    var url = this.route.snapshot.url.join('/')\n    this.log(`VP toggleVisboProjects ${this.deleted} URL ${url}`);\n    this.getVisboProjects(this.deleted);\n    // MS TODO: go to the current url and add delete flag\n    this.router.navigate([url], this.deleted ? { queryParams: { deleted: this.deleted }} : {});\n  }\n\n  getVisboProjects(deleted: boolean): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    var i: number;\n    var currentUser = this.authenticationService.getActiveUser();\n\n    this.vcSelected = id;\n    if (id) {\n      this.visbocenterService.getVisboCenter(id)\n        .subscribe(\n          visbocenters => {\n            this.vcActive = visbocenters;\n            this.combinedPerm = visbocenters.perm;\n            this.visboprojectService.getVisboProjects(id, false, deleted)\n              .subscribe(\n                visboprojects => {\n                  this.visboprojects = visboprojects;\n                  this.sortVPTable(1);\n                },\n                error => {\n                  this.log(`get VPs failed: error:  ${error.status} message: ${error.error.message}`);\n                  this.alertService.error(error.error.message);\n                }\n              );\n          },\n          error => {\n            this.log(`get VC failed: error:  ${error.status} message: ${error.error.message}`);\n            this.alertService.error(error.error.message);\n          }\n        );\n    } else {\n      this.vcSelected = null;\n      this.vcActive = null;\n      this.visboprojectService.getVisboProjects(null, false, deleted)\n        .subscribe(\n          visboprojects => {\n            this.visboprojects = visboprojects;\n            this.sortVPTable(1);\n          },\n          error => {\n            this.log(`get VPs all failed: error:  ${error.status} message: ${error.error.message}`);\n            this.alertService.error(error.error.message);\n          }\n        );\n    }\n  }\n\n  addproject(name: string, vcid: string, desc: string): void {\n    name = name.trim();\n    this.log(`call create VP ${name} with VCID ${vcid} Desc ${desc} `);\n    if (!name) { return; }\n    this.visboprojectService.addVisboProject({ name: name, description: desc, vcid: vcid } as VisboProject).subscribe(\n      vp => {\n        // console.log(\"add VP %s with ID %s to VC %s\", vp[0].name, vp[0]._id, vp[0].vcid);\n        this.visboprojects.push(vp);\n        this.sortVPTable(undefined);\n        this.alertService.success(`Visbo Project ${vp.name} created successfully`);\n      },\n      error => {\n        this.log(`add VP failed: error: ${error.status} messages: ${error.error.message}`);\n        if (error.status == 403) {\n          this.alertService.error(`Permission Denied for Visbo Project ${name}`);\n        } else if (error.status == 409) {\n          // this.alertService.error(`Visbo Project ${name} already exists or not allowed`);\n          this.alertService.error('Visbo Project already exists or not allowed');\n        } else {\n          this.alertService.error(error.error.message);\n        }\n      }\n    );\n  }\n\n  delete(visboproject: VisboProject): void {\n    // remove item from list\n    this.visboprojects = this.visboprojects.filter(vp => vp !== visboproject);\n    this.visboprojectService.deleteVisboProject(visboproject)\n      .subscribe(\n        error => {\n          // this.log(`delete VP failed: error: ${error.status} messages: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Visbo Project ${name}`, true);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  // get the versions of the project\n  gotoClickedRow(visboproject: VisboProject):void {\n    var deleted = visboproject.deletedAt ? true : false;\n    // MS TODO: use enumerator for Type\n    if (visboproject.vpType == 1) {\n      this.log(`goto VPF for VP ${visboproject._id} Deleted ${deleted}`);\n      this.router.navigate(['vpf/'.concat(visboproject._id)], deleted ? { queryParams: { deleted: deleted }} : {});\n    } else {\n      this.log(`goto VPV for VP ${visboproject._id} Deleted ${deleted}`);\n      this.router.navigate(['vpKeyMetrics/'.concat(visboproject._id)], deleted ? { queryParams: { deleted: deleted }} : {});\n    }\n  }\n\n  // get the details of the project\n  gotoDetail(visboproject: VisboProject):void {\n    var deleted = visboproject.deletedAt ? true : false;\n    this.log(`goto Detail for VP ${visboproject._id}`);\n    this.router.navigate(['vpDetail/'.concat(visboproject._id)], deleted ? { queryParams: { deleted: deleted }} : {});\n  }\n\n  gotoVCDetail(visbocenter: VisboCenter):void {\n    this.router.navigate(['vcDetail/'.concat(visbocenter._id)]);\n  }\n\n  sortVPTable(n) {\n    if (n != undefined) {\n      if (!this.visboprojects) return\n      if (n != this.sortColumn) {\n        this.sortColumn = n;\n        this.sortAscending = undefined;\n      }\n      if (this.sortAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortAscending = n == 1 || n == 3 ? true : false;\n      }\n      else this.sortAscending = !this.sortAscending;\n    }\n    // console.log(\"Sort VP Column %d Asc %s\", this.sortColumn, this.sortAscending)\n    if (this.sortColumn == 1) {\n      // sort by VP Name\n      this.visboprojects.sort(function(a, b) {\n        var result = 0\n        if (a.name.toLowerCase() > b.name.toLowerCase())\n          result = 1;\n        else if (a.name.toLowerCase() < b.name.toLowerCase())\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 2) {\n      // sort by VP updatedAt\n      this.visboprojects.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.updatedAt > b.updatedAt)\n          result = 1;\n        else if (a.updatedAt < b.updatedAt)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 3) {\n      // sort by VC Name\n      this.visboprojects.sort(function(a, b) {\n        var result = 0\n        // console.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.vc.name.toLowerCase() > b.vc.name.toLowerCase())\n          result = 1;\n        else if (a.vc.name.toLowerCase() < b.vc.name.toLowerCase())\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 4) {\n      // sort by VC vpvCount\n      this.visboprojects.sort(function(a, b) {\n        return a.vpvCount - b.vpvCount\n      })\n    } else if (this.sortColumn == 5) {\n      // sort by VP vpType\n      this.visboprojects.sort(function(a, b) {\n        return a.vpType - b.vpType\n      })\n    }\n    // console.log(\"Sort VP Column %d %s Reverse?\", this.sortColumn, this.sortAscending)\n    if (!this.sortAscending) {\n      this.visboprojects.reverse();\n      // console.log(\"Sort VP Column %d %s Reverse\", this.sortColumn, this.sortAscending)\n    }\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('VisboProject: ' + message);\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { ActivatedRoute, Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Location } from '@angular/common';\n\nimport { AlertService } from '../_services/alert.service';\nimport { AuthenticationService } from '../_services/authentication.service';\nimport { MessageService } from '../_services/message.service';\nimport { VisboProjectService }  from '../_services/visboproject.service';\nimport { VisboProjectVersionService }  from '../_services/visboprojectversion.service';\nimport { VisboProjectVersion } from '../_models/visboprojectversion';\nimport { VisboProject } from '../_models/visboproject';\nimport { VGGroup, VGPermission, VGUser, VGUserGroup, VGPVC, VGPVP } from '../_models/visbogroup';\n\n@Component({\n  selector: 'app-visboprojectversion-detail',\n  templateUrl: './visboprojectversion-detail.component.html'\n})\nexport class VisboProjectVersionDetailComponent implements OnInit {\n\n  @Input() visboprojectversion: VisboProjectVersion;\n\n  combinedPerm: VGPermission = undefined;\n  permVC: any = VGPVC;\n  permVP: any = VGPVP;\n  deleted: boolean = false;\n\n  constructor(\n    private messageService: MessageService,\n    private authenticationService: AuthenticationService,\n    private route: ActivatedRoute,\n    private visboprojectService: VisboProjectService,\n    private visboprojectversionService: VisboProjectVersionService,\n    private location: Location,\n    private alertService: AlertService,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.deleted = this.route.snapshot.queryParams['deleted'] ? true : false;\n    this.getVisboProjectVersion();\n  }\n\n  getVisboProjectVersion(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    var currentUser = this.authenticationService.getActiveUser();\n\n    this.log('VisboProjectVersion Detail of: ' + id);\n    this.visboprojectversionService.getVisboProjectVersion(id, this.deleted)\n      .subscribe(\n        visboprojectversion => {\n          this.combinedPerm = visboprojectversion.perm;\n          this.visboprojectversion = visboprojectversion\n          this.log(`Get VisboProjectVersion for VPV ${id} ${visboprojectversion.name} ${JSON.stringify(this.combinedPerm)}`)\n        },\n        error => {\n          this.log(`get VPV failed: error: ${error.status} message: ${error.error.message}`);\n          this.alertService.error(error.error.message);\n        }\n      );\n  }\n\n  goBack(): void {\n    this.location.back();\n  }\n\n  hasVPPerm(perm: number): boolean {\n    if (this.combinedPerm == undefined) return false\n    return (this.combinedPerm.vp & perm) > 0\n  }\n\n  delete(visboprojectversion: VisboProjectVersion): void {\n    this.log(`delete VPV ${visboprojectversion._id}`);\n\n    this.visboprojectversionService.deleteVisboProjectVersion(visboprojectversion, this.deleted)\n      .subscribe(\n        () => {\n            this.alertService.success(`Visbo Project Version ${visboprojectversion._id} deleted successfully`, true);\n            this.log(`delete VPV success`);\n            this.goBack();\n          },\n        error => {\n          this.log(`delete VPV failed: error: ${error.status} message: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Visbo Project Version ${visboprojectversion._id}`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  gotoVCDetail(visboproject: VisboProject):void {\n    this.router.navigate(['vcDetail/'.concat(visboproject.vcid)]);\n  }\n\n  gotoVPVList(visboprojectversion: VisboProjectVersion):void {\n    this.log(`goto VPV List: ${visboprojectversion.vpid} Deleted ${this.deleted}`);\n    this.router.navigate(['vpKeyMetrics/'.concat(visboprojectversion.vpid)], this.deleted ? { queryParams: { deleted: this.deleted }} : {});\n  }\n\n  save(): void {\n    this.log(`update VPV ${this.visboprojectversion._id}`);\n    this.visboprojectversionService.updateVisboProjectVersion(this.visboprojectversion, this.deleted)\n      .subscribe(\n        (vpv) => {\n          this.alertService.success(`Visbo Project ${vpv.name} updated successfully`, true);\n          this.goBack();\n        },\n        error => {\n          this.log(`save VPV failed: error: ${error.status} message: ${error.error.message}`);\n          if (error.status == 403) {\n            this.alertService.error(`Permission Denied: Visbo Project ${this.visboprojectversion._id}`);\n          } else if (error.status == 409) {\n            this.alertService.error(`Visbo Project ${this.visboprojectversion._id} exists already`);\n          } else {\n            this.alertService.error(error.error.message);\n          }\n        }\n      );\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('VisboProjectVersionDetail: ' + message);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\nimport { ActivatedRoute, Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\n\nimport { MessageService } from '../_services/message.service';\nimport { AlertService } from '../_services/alert.service';\nimport { VisboProject } from '../_models/visboproject';\nimport { VisboProjectService } from '../_services/visboproject.service';\n\nimport { VisboProjectVersion } from '../_models/visboprojectversion';\nimport { VisboProjectVersionService } from '../_services/visboprojectversion.service';\n\nimport { VGGroup, VGPermission, VGUser, VGUserGroup, VGPVC, VGPVP } from '../_models/visbogroup';\n\nimport { LoginComponent } from '../login/login.component';\n\n@Component({\n  selector: 'app-visboprojectversions',\n  templateUrl: './visboprojectversions.component.html'\n})\nexport class VisboProjectVersionsComponent implements OnInit {\n\n  visboprojectversions: VisboProjectVersion[];\n  vpSelected: string;\n  vpActive: VisboProject;\n  deleted: boolean = false;\n  sortAscending: boolean;\n  sortColumn: number;\n\n  combinedPerm: VGPermission = undefined;\n  permVC: any = VGPVC;\n  permVP: any = VGPVP;\n\n  constructor(\n    private visboprojectversionService: VisboProjectVersionService,\n    private visboprojectService: VisboProjectService,\n    private messageService: MessageService,\n    private alertService: AlertService,\n    private route: ActivatedRoute,\n    //private location: Location,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    // this.getVisboCenters();\n    this.getVisboProjectVersions();\n  }\n\n  onSelect(visboprojectversion: VisboProjectVersion): void {\n    this.getVisboProjectVersions();\n  }\n\n  hasVPPerm(perm: number): boolean {\n    if (this.combinedPerm == undefined) return false\n    return (this.combinedPerm.vp & perm) > 0\n  }\n\n  getVisboProjectVersions(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    var i: number;\n    this.vpSelected = id;\n    this.log(`get VP name if ID is used ${id}`);\n    if (id) {\n      this.visboprojectService.getVisboProject(id)\n        .subscribe(\n          visboproject => {\n            this.vpActive = visboproject;\n            this.combinedPerm = visboproject.perm;\n            this.log(`get VP name if ID is used ${this.vpActive.name} Perm ${JSON.stringify(this.combinedPerm)}`);\n            this.visboprojectversionService.getVisboProjectVersions(id, this.deleted)\n              .subscribe(\n                visboprojectversions => this.visboprojectversions = visboprojectversions,\n                error => {\n                  this.log(`get VPVs failed: error: ${error.status} message: ${error.error.message}`);\n                  if (error.status == 403) {\n                    this.alertService.error(`Permission Denied for Visbo Project Versions`);\n                  } else {\n                    this.alertService.error(error.error.message);\n                  }\n                }\n              );\n          },\n          error => {\n            this.log(`get VPV VP failed: error: ${error.status} message: ${error.error.message}`);\n            if (error.status == 403) {\n              this.alertService.error(`Permission Denied for Visbo Project`);\n            } else {\n              this.alertService.error(error.error.message);\n            }\n        });\n    } else {\n      this.vpSelected = null;\n      this.vpActive = null;\n      this.visboprojectversionService.getVisboProjectVersions(null)\n        .subscribe(\n          visboprojectversions => this.visboprojectversions = visboprojectversions,\n          error => {\n            this.log(`get VPVs failed: error: ${error.status} message: ${error.error.message}`);\n            if (error.status == 403) {\n              this.alertService.error(`Permission Denied for Visbo Project Versions`);\n            } else {\n              this.alertService.error(error.error.message);\n            }\n          }\n        );\n    }\n  }\n\n  toggleVisboProjectVersions(): void {\n    this.deleted = !this.deleted\n    var url = this.route.snapshot.url.join('/')\n    this.log(`VP toggleVisboProjectVersions ${this.deleted} URL ${url}`);\n    this.getVisboProjectVersions();\n    // MS TODO: go to the current url and add delete flag\n    this.router.navigate([url], this.deleted ? { queryParams: { deleted: this.deleted }} : {});\n  }\n\n  gotoClickedRow(visboprojectversion: VisboProjectVersion):void {\n    this.log(`goto VPV Detail for VP ${visboprojectversion.name} Deleted ${this.deleted}`);\n    this.router.navigate(['vpvDetail/'.concat(visboprojectversion._id)], this.deleted ? { queryParams: { deleted: this.deleted }} : {});\n    // this.router.navigate(['vpvDetail/'.concat(visboprojectversion._id)], {});\n}\n\n  gotoVPDetail(visboproject: VisboProject):void {\n    this.router.navigate(['vpDetail/'.concat(visboproject._id)]);\n  }\n\n  sortVPVTable(n) {\n    if (!this.visboprojectversions) return\n    if (n != undefined) {\n      if (n != this.sortColumn) {\n        this.sortColumn = n;\n        this.sortAscending = undefined;\n      }\n      if (this.sortAscending == undefined) {\n        // sort name column ascending, number values desc first\n        this.sortAscending = ( n == 5 ) ? true : false;\n      }\n      else this.sortAscending = !this.sortAscending;\n    }\n    if (this.sortColumn == 1) {\n      // sort by VPV Timestamp\n      this.visboprojectversions.sort(function(a, b) {\n        var result = 0\n        if (a.timestamp > b.timestamp)\n          result = 1;\n        else if (a.timestamp < b.timestamp)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 2) {\n      // sort by VPV endDate\n      this.visboprojectversions.sort(function(a, b) {\n        var result = 0\n        // this.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.endDate > b.endDate)\n          result = 1;\n        else if (a.endDate < b.endDate)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 3) {\n      // sort by VPV ampelStatus\n      this.visboprojectversions.sort(function(a, b) {\n        var result = 0\n        // this.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.ampelStatus > b.ampelStatus)\n          result = 1;\n        else if (a.ampelStatus < b.ampelStatus)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 4) {\n      // sort by VPV Erloes\n      this.visboprojectversions.sort(function(a, b) {\n        var result = 0\n        // this.log(\"Sort VC Date %s\", a.updatedAt)\n        if (a.Erloes > b.Erloes)\n          result = 1;\n        else if (a.Erloes < b.Erloes)\n          result = -1;\n        return result\n      })\n    } else if (this.sortColumn == 5) {\n      // sort by VC vpvCount\n      this.visboprojectversions.sort(function(a, b) {\n        var result = 0\n        if (a.variantName.toLowerCase() > b.variantName.toLowerCase())\n          result = 1;\n        else if (a.variantName.toLowerCase() < b.variantName.toLowerCase())\n          result = -1;\n        return result\n      })\n    }\n    if (!this.sortAscending) {\n      this.visboprojectversions.reverse();\n    }\n  }\n\n  /** Log a message with the MessageService */\n  private log(message: string) {\n    this.messageService.add('VisboProjectVersion: ' + message);\n  }\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false,\n  restUrl: 'http://localhost:3484'\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n"],"sourceRoot":"webpack:///"}