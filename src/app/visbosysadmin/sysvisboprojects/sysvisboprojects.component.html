<app-sysnavbar></app-sysnavbar>
<div class='well'>
  <div class='row'>
    <div class='col'>
      <h2 *ngIf="!vcActive">
        Projects
      </h2>
      <h2 *ngIf="vcActive">
        Projects in: <a (click)="gotoVCDetail(vcActive)">{{vcActive.name}}</a>
      </h2>
    </div>
  </div>

  <div class='panel-body'>
    <table class='table table-hover table-sortable'>
      <thead id="VPHead">
        <tr>
          <th class="d-none d-md-table-cell">Nr.</th>
          <th id="SortName" (click)="sortVPTable(1)">Name</th>
          <th id="SortType">Type</th>
          <th id="SortDate" class="d-none d-sm-table-cell" (click)="sortVPTable(2)">Modified</th>
          <th id="SortVersions" class="d-none d-md-table-cell" (click)="sortVPTable(4)"># Versions</th>
          <th id="SortVC" class="d-none d-lg-table-cell" (click)="sortVPTable(3)">Visbo Center</th>
          <th>Info</th>
        </tr>
      </thead>

      <tbody id="VPList">
        <tr *ngFor="let vp of visboprojects; let vpIndex=index" (click)="gotoClickedRow(vp)">
          <td class="d-none d-md-table-cell">{{vpIndex+1}}</td>
          <td id="ColName" (click)="gotoDetail(vp)"><a>{{vp.name}}</a></td>
          <td id="ColType" class="d-none d-md-table-cell">{{getVPType(vp.vpType)}}</td>
          <td id="ColDate" class="d-none d-lg-table-cell">{{vp.updatedAt | date :'dd.MM.yyyy HH:mm'}}</td>
          <td id="ColDate" class="d-none d-md-table-cell d-lg-none">{{vp.updatedAt | date :'dd.MM.yy'}}</td>
          <td id="ColVersions" class="d-none d-md-table-cell">{{vp.vpvCount}}</td>
          <td id="ColVC" class="d-none d-lg-table-cell" *ngIf="vp.vc">{{vp.vc.name}}</td>
          <td id="ColVC" class="d-none d-lg-table-cell" *ngIf="!vp.vc"> </td>
          <td id="ColDetail">
            <button class="Detail" title="Detail of Visbo Project"
            (click)="gotoDetail(vp)">i</button>
          </td>
        </tr>
      </tbody>

    </table>
  </div>
</div>
