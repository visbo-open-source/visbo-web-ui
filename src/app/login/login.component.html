<div class="well">
  <h2>{{ 'login.title' | translate }}</h2>
  <br>
  <div class="d-flex flex-row-reverse">
    <select class="col-1" name="currentLang" [(ngModel)]="currentLang" (change)="useLanguage(currentLang)">
      <option value="en">{{ 'language.en' | translate }}</option>
      <option value="de">{{ 'language.de' | translate }}</option>
    </select>
  </div>
  <div class="col-md-6 col-md-offset-3">
    <form name="form" (ngSubmit)="f.form.valid && login()" #f="ngForm" novalidate>
        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !username.valid }">
            <label for="username">{{ 'login.lbl.email' | translate }}</label>
            <input id='loginName' type="text" class="form-control" name="username" [(ngModel)]="email" #username="ngModel" required pattern="[^@\s]+@[^@\s]+\.[^@\s]+" />
            <div id='loginNameError' *ngIf="f.submitted && !username.valid" class="help-block">{{ 'login.msg.emailRequired' | translate }}</div>
        </div>
        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !password.valid }">
            <label for="password">{{ 'login.lbl.password' | translate }}</label>
            <input id='loginPW' type="password" class="form-control" name="password" [(ngModel)]="userpw" #password="ngModel" required/>
            <div id='loginPWError' *ngIf="f.submitted && !password.valid" class="help-block">{{ 'login.msg.pwRequired' | translate }}</div>
        </div>
        <div class="form-group">
            <button id='loginButtonLogin' [disabled]="loading" class="btn btn-primary">{{ 'login.btn.login' | translate }}</button>
            <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
            <a *ngIf="hasSetting('OAuthGoogle')" href="{{loginGoogleUrl()}}" class="btn btn-link" style="float: right">{{ 'login.btn.loginGoogle' | translate }}</a>
            <!-- <button id='loginButtonGoogle' (click)="loginGoogle()" class="btn btn-secondary">{{ 'login.btn.loginGoogle' | translate }}</button> -->
        </div>
    </form>
  </div>
  <div>
    <button id='loginButtonRegister' (click)="register()" class="btn btn-link">{{ 'login.btn.register' | translate }}</button>
    <button id='loginButtonPWForgotten' (click)="pwforgotten()" class="btn btn-link">{{ 'login.btn.pwForgotten' | translate }}</button>
  </div>
</div>
